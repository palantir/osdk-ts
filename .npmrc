# npm registry
registry=https://registry.npmjs.org/

# pnpm 10 Security Configuration
# See: https://pnpm.io/npmrc

# Require approval for transitive deps with build scripts
strict-dep-builds=true

# Delay newly published packages by 3 days (4320 minutes)
minimum-release-age=4320

# Prevent trust level downgrades
trust-policy=no-downgrade
# Automatically ignore trust downgrades after 90 days (129600 minutes)
trust-policy-ignore-after=129600

# Storybook 10.x exclusions (recently published, needed for Storybook MCP)
minimum-release-age-exclude[]=storybook
minimum-release-age-exclude[]=@storybook/*
minimum-release-age-exclude[]=eslint-plugin-storybook

# Trust exceptions for packages with known false-positive trust downgrades
# vite@6.3.6 flagged due to npm publisher settings change, not a security issue
trust-policy-exclude[]=vite@6.3.6
# @storybook packages flagged due to npm publisher settings change
trust-policy-exclude[]=@storybook/*
trust-policy-exclude[]=storybook

# Block exotic subdependencies (git repos, tarballs)
block-exotic-subdeps=true

# Hoist ESLint and Prettier plugins to root node_modules
public-hoist-pattern[]=*eslint*
public-hoist-pattern[]=*prettier*
