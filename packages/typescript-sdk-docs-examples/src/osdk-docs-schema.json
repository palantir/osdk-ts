{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "Simplified OSDK Documentation Schema",
  "description": "Simplified schema for OSDK documentation designed for LLM agent consumption",
  "type": "object",
  "required": ["sections"],
  "properties": {
    "sections": {
      "type": "array",
      "description": "Array of documentation sections",
      "items": {
        "$ref": "#/definitions/documentationSection"
      }
    }
  },
  "definitions": {
    "documentationSection": {
      "type": "object",
      "required": ["title"],
      "properties": {
        "title": {
          "type": "string",
          "description": "Title of the section"
        },
        "description": {
          "type": "string",
          "description": "Description of the section's purpose or functionality"
        },
        "note": {
          "type": "string",
          "description": "Additional note or warning about the section"
        },
        "examples": {
          "type": "array",
          "description": "Examples showing usage",
          "items": {
            "type": "string"
          }
        },
        "parameters": {
          "type": "object",
          "description": "Parameters relevant to this section",
          "additionalProperties": {
            "$ref": "#/definitions/parameter"
          }
        },
        "operators": {
          "type": "object",
          "description": "Operators for filtering, aggregation or other operations",
          "additionalProperties": {
            "$ref": "#/definitions/operator" 
          }
        },
        "operations": {
          "type": "object",
          "description": "Operations for object sets",
          "additionalProperties": {
            "$ref": "#/definitions/operator" 
          }
        },
        "subsections": {
          "type": "array",
          "description": "Nested subsections within this section",
          "items": {
            "$ref": "#/definitions/documentationSection"
          }
        },
        "code_snippets": {
          "type": "object",
          "description": "Code examples for this section organized by language and version",
          "properties": {
            "typescript": {
              "type": "object",
              "description": "TypeScript code examples",
              "properties": {
                "2.0.0": {
                  "type": "array",
                  "description": "Code snippets for SDK version 2.0.0",
                  "items": {
                    "$ref": "#/definitions/codeSnippet"
                  }
                }
              },
              "additionalProperties": false,
              "required": ["2.0.0"]
            }
          },
          "additionalProperties": false,
          "required": ["typescript"]
        }
      },
      "additionalProperties": false
    },
    "parameter": {
      "type": "object",
      "required": ["type"],
      "properties": {
        "type": {
          "type": "string",
          "description": "Data type of the parameter"
        },
        "description": {
          "type": "string",
          "description": "Description of the parameter"
        },
        "optional": {
          "type": "boolean",
          "description": "Whether the parameter is optional",
          "default": false
        }
      },
      "additionalProperties": false
    },
    "operator": {
      "type": "object",
      "required": ["description"],
      "properties": {
        "description": {
          "type": "string",
          "description": "Description of the operator"
        },
        "applies_to": {
          "type": "string",
          "description": "Types or properties this operator applies to"
        },
        "related_operators": {
          "type": "array",
          "description": "Related operators that work similarly",
          "items": {
            "type": "string"
          }
        }
      },
      "additionalProperties": false
    },
    "codeSnippet": {
      "type": "object",
      "required": ["code", "title"],
      "properties": {
        "code": {
          "type": "string",
          "description": "The code snippet content"
        },
        "title": {
          "type": "string",
          "description": "Title of what the code snippet demonstrates"
        }
      },
      "additionalProperties": false
    }
  }
}