"use strict";(self.webpackChunk_osdk_docs=self.webpackChunk_osdk_docs||[]).push([[488],{1022:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>a,contentTitle:()=>t,default:()=>c,frontMatter:()=>o,metadata:()=>d,toc:()=>l});var s=r(6106),i=r(8784);const o={sidebar_position:6},t="Platform APIs",d={id:"react/platform-apis",title:"Platform APIs",description:"This guide covers available platform APIs that can used with OSDK React hooks.",source:"@site/react/platform-apis.md",sourceDirName:"react",slug:"/react/platform-apis",permalink:"/osdk-ts/react/platform-apis",draft:!1,unlisted:!1,editUrl:"https://github.com/palantir/osdk-ts/tree/main/docs/react/platform-apis.md",tags:[],version:"current",sidebarPosition:6,frontMatter:{sidebar_position:6},sidebar:"docs",previous:{title:"Cache Management",permalink:"/osdk-ts/react/cache-management"},next:{title:"Using OSDK with Vite",permalink:"/osdk-ts/guides/vite"}},a={},l=[{value:"useFoundryUser",id:"usefoundryuser",level:2},{value:"Basic Usage",id:"basic-usage",level:3},{value:"Return Values",id:"return-values",level:3},{value:"Options",id:"options",level:3},{value:"useCurrentFoundryUser",id:"usecurrentfoundryuser",level:2},{value:"Basic Usage",id:"basic-usage-1",level:3},{value:"Return Values",id:"return-values-1",level:3},{value:"Options",id:"options-1",level:3},{value:"useFoundryUsersList",id:"usefoundryuserslist",level:2},{value:"Basic Usage",id:"basic-usage-2",level:3},{value:"Return Values",id:"return-values-2",level:3},{value:"Options",id:"options-2",level:3},{value:"Pagination",id:"pagination",level:3}];function u(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",hr:"hr",li:"li",p:"p",pre:"pre",ul:"ul",...(0,i.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.h1,{id:"platform-apis",children:"Platform APIs"}),"\n",(0,s.jsx)(n.p,{children:"This guide covers available platform APIs that can used with OSDK React hooks."}),"\n",(0,s.jsx)(n.h2,{id:"usefoundryuser",children:"useFoundryUser"}),"\n",(0,s.jsx)(n.p,{children:"Retrieves a specific Foundry user by their user ID."}),"\n",(0,s.jsx)(n.h3,{id:"basic-usage",children:"Basic Usage"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-tsx",children:'import { PalantirApiError } from "@osdk/client";\nimport { useFoundryUser } from "@osdk/react/experimental";\n\nexport function UserProfile({ userId }: { userId: string }) {\n  const { user, isLoading, error } = useFoundryUser(userId);\n\n  if (error != null) {\n    const errorMessage = error instanceof PalantirApiError\n      ? error.errorDescription\n      : error.message;\n\n    return <div>Failed to load user: {errorMessage}</div>;\n  }\n\n  return (\n    <div>\n      {isLoading && <span>Loading...</span>}\n      {user && (\n        <div>\n          <h2>\n            {user.givenName} {user.familyName}\n          </h2>\n          <p>Username: {user.username}</p>\n          <p>Email: {user.email}</p>\n        </div>\n      )}\n    </div>\n  );\n}\n'})}),"\n",(0,s.jsx)(n.h3,{id:"return-values",children:"Return Values"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"user"})," - The user object, or undefined if not loaded"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"isLoading"})," - True while fetching from server"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"error"})," - Error object if fetch failed"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"refetch"})," - Function to manually refetch the user data"]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"options",children:"Options"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"userId"})," (required) - The Foundry User ID to fetch"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"enabled"})," - Enable/disable the query (default: ",(0,s.jsx)(n.code,{children:"true"}),")"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"status"})," - User status filter (default: ",(0,s.jsx)(n.code,{children:'"ACTIVE"'}),")"]}),"\n"]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"usecurrentfoundryuser",children:"useCurrentFoundryUser"}),"\n",(0,s.jsx)(n.p,{children:"Retrieves the currently signed-in Foundry user."}),"\n",(0,s.jsx)(n.h3,{id:"basic-usage-1",children:"Basic Usage"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-tsx",children:'import { PalantirApiError } from "@osdk/client";\nimport { useCurrentFoundryUser } from "@osdk/react/experimental";\n\nexport function CurrentUserBadge() {\n  const { currentUser, isLoading, error } = useCurrentFoundryUser();\n\n  if (error != null) {\n    const errorMessage = error instanceof PalantirApiError\n      ? error.errorDescription\n      : error.message;\n\n    return <div>Failed to load current user: {errorMessage}</div>;\n  }\n\n  return (\n    <div>\n      {isLoading && <span>Loading...</span>}\n      {currentUser && <span>Welcome, {currentUser.givenName}!</span>}\n    </div>\n  );\n}\n'})}),"\n",(0,s.jsx)(n.h3,{id:"return-values-1",children:"Return Values"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"currentUser"})," - The current user object, or undefined if not loaded"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"isLoading"})," - True while fetching from server"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"error"})," - Error object if fetch failed"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"refetch"})," - Function to manually refetch the current user data"]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"options-1",children:"Options"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"enabled"})," - Enable/disable the query (default: ",(0,s.jsx)(n.code,{children:"true"}),")"]}),"\n"]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"usefoundryuserslist",children:"useFoundryUsersList"}),"\n",(0,s.jsx)(n.p,{children:"Lists all Foundry users with pagination support."}),"\n",(0,s.jsx)(n.h3,{id:"basic-usage-2",children:"Basic Usage"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-tsx",children:'import { PalantirApiError } from "@osdk/client";\nimport { useFoundryUsersList } from "@osdk/react/experimental";\n\nexport function UsersList() {\n  const { users, isLoading, error } = useFoundryUsersList();\n\n  if (error != null) {\n    const errorMessage = error instanceof PalantirApiError\n      ? error.errorDescription\n      : error.message;\n\n    return <div>Failed to load user list: {errorMessage}</div>;\n  }\n\n  return (\n    <div>\n      {isLoading && <span>Loading users...</span>}\n      {users && (\n        <ul>\n          {users.map((user) => (\n            <li key={user.id}>\n              {user.username}\n            </li>\n          ))}\n        </ul>\n      )}\n    </div>\n  );\n}\n'})}),"\n",(0,s.jsx)(n.h3,{id:"return-values-2",children:"Return Values"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"users"})," - Array of users, or undefined if not loaded"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"nextPageToken"})," - Page token for the next page (undefined if no more pages)"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"isLoading"})," - True while fetching from server"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"error"})," - Error object if fetch failed"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"refetch"})," - Function to manually refetch the users list"]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"options-2",children:"Options"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"enabled"})," - Enable/disable the query (default: ",(0,s.jsx)(n.code,{children:"true"}),")"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"include"})," - User status filter (default: ",(0,s.jsx)(n.code,{children:'"ACTIVE"'}),")"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"pageSize"})," - Preferred page size (default: ",(0,s.jsx)(n.code,{children:"1000"}),")"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"pageToken"})," - Page token for fetching subsequent pages (omit for first page)"]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"pagination",children:"Pagination"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-tsx",children:'import { PalantirApiError } from "@osdk/client";\nimport { useFoundryUsersList } from "@osdk/react/experimental";\nimport { useState } from "react";\n\nexport function UsersList() {\n  const [pageToken, setPageToken] = useState<string | undefined>(undefined);\n\n  const { users, nextPageToken, error, isLoading } = useFoundryUsersList({\n    pageSize: 10,\n    pageToken,\n  });\n\n  if (error != null) {\n    const errorMessage = error instanceof PalantirApiError\n      ? error.errorDescription\n      : error.message;\n\n    return <div>Failed to load users: {errorMessage}</div>;\n  }\n\n  return (\n    <div>\n      {isLoading && <span>Loading...</span>}\n      {users && (\n        <>\n          <ul>\n            {users.map((user) => <li key={user.id}>{user.username}</li>)}\n          </ul>\n\n          {nextPageToken && (\n            <button\n              onClick={() => setPageToken(nextPageToken)}\n              disabled={isLoading}\n            >\n              Next page\n            </button>\n          )}\n        </>\n      )}\n    </div>\n  );\n}\n'})})]})}function c(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(u,{...e})}):u(e)}},8784:(e,n,r)=>{r.d(n,{R:()=>t,x:()=>d});var s=r(7378);const i={},o=s.createContext(i);function t(e){const n=s.useContext(o);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function d(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:t(e.components),s.createElement(o.Provider,{value:n},e.children)}}}]);