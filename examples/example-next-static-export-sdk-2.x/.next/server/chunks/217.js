exports.id=217,exports.ids=[217],exports.modules={4546:e=>{"use strict";function t(e){return Number.isInteger(e)&&e>=0}function r(e){this.name="ArgumentError",this.message=e}e.exports=function(e,n){if(n=n||{},"function"!=typeof e)throw new r("fetch must be a function");if("object"!=typeof n)throw new r("defaults must be an object");if(void 0!==n.retries&&!t(n.retries))throw new r("retries must be a positive integer");if(void 0!==n.retryDelay&&!t(n.retryDelay)&&"function"!=typeof n.retryDelay)throw new r("retryDelay must be a positive integer or a function returning a positive integer");if(void 0!==n.retryOn&&!Array.isArray(n.retryOn)&&"function"!=typeof n.retryOn)throw new r("retryOn property expects an array or function");return n=Object.assign({retries:3,retryDelay:1e3,retryOn:[]},n),function(i,o){var s=n.retries,a=n.retryDelay,c=n.retryOn;if(o&&void 0!==o.retries){if(t(o.retries))s=o.retries;else throw new r("retries must be a positive integer")}if(o&&void 0!==o.retryDelay){if(t(o.retryDelay)||"function"==typeof o.retryDelay)a=o.retryDelay;else throw new r("retryDelay must be a positive integer or a function returning a positive integer")}if(o&&o.retryOn){if(Array.isArray(o.retryOn)||"function"==typeof o.retryOn)c=o.retryOn;else throw new r("retryOn property expects an array or function")}return new Promise(function(t,r){var n=function(n){e("undefined"!=typeof Request&&i instanceof Request?i.clone():i,o).then(function(e){if(Array.isArray(c)&&-1===c.indexOf(e.status))t(e);else if("function"==typeof c)try{return Promise.resolve(c(n,null,e)).then(function(r){r?l(n,null,e):t(e)}).catch(r)}catch(e){r(e)}else n<s?l(n,null,e):t(e)}).catch(function(e){if("function"==typeof c)try{Promise.resolve(c(n,e,null)).then(function(t){t?l(n,e,null):r(e)}).catch(function(e){r(e)})}catch(e){r(e)}else n<s?l(n,e,null):r(e)})};function l(e,t,r){setTimeout(function(){n(++e)},"function"==typeof a?a(e,t,r):a)}n(0)})}}},5755:(e,t,r)=>{"use strict";e.exports=r(5415)},3866:(e,t,r)=>{"use strict";var n=r(3666);r.o(n,"useRouter")&&r.d(t,{useRouter:function(){return n.useRouter}})},5415:(e,t,r)=>{"use strict";let n=r(8588);n.createWebSocketStream=r(6515),n.Server=r(1238),n.Receiver=r(6341),n.Sender=r(7422),n.WebSocket=n,n.WebSocketServer=n.Server,e.exports=n},4054:(e,t,r)=>{"use strict";let{EMPTY_BUFFER:n}=r(1594),i=Buffer[Symbol.species];function o(e,t,r,n,i){for(let o=0;o<i;o++)r[n+o]=e[o]^t[3&o]}function s(e,t){for(let r=0;r<e.length;r++)e[r]^=t[3&r]}if(e.exports={concat:function(e,t){if(0===e.length)return n;if(1===e.length)return e[0];let r=Buffer.allocUnsafe(t),o=0;for(let t=0;t<e.length;t++){let n=e[t];r.set(n,o),o+=n.length}return o<t?new i(r.buffer,r.byteOffset,o):r},mask:o,toArrayBuffer:function(e){return e.length===e.buffer.byteLength?e.buffer:e.buffer.slice(e.byteOffset,e.byteOffset+e.length)},toBuffer:function e(t){let r;return(e.readOnly=!0,Buffer.isBuffer(t))?t:(t instanceof ArrayBuffer?r=new i(t):ArrayBuffer.isView(t)?r=new i(t.buffer,t.byteOffset,t.byteLength):(r=Buffer.from(t),e.readOnly=!1),r)},unmask:s},!process.env.WS_NO_BUFFER_UTIL)try{let t=r(7599);e.exports.mask=function(e,r,n,i,s){s<48?o(e,r,n,i,s):t.mask(e,r,n,i,s)},e.exports.unmask=function(e,r){e.length<32?s(e,r):t.unmask(e,r)}}catch(e){}},1594:e=>{"use strict";let t=["nodebuffer","arraybuffer","fragments"],r="undefined"!=typeof Blob;r&&t.push("blob"),e.exports={BINARY_TYPES:t,EMPTY_BUFFER:Buffer.alloc(0),GUID:"258EAFA5-E914-47DA-95CA-C5AB0DC85B11",hasBlob:r,kForOnEventAttribute:Symbol("kIsForOnEventAttribute"),kListener:Symbol("kListener"),kStatusCode:Symbol("status-code"),kWebSocket:Symbol("websocket"),NOOP:()=>{}}},5557:(e,t,r)=>{"use strict";let{kForOnEventAttribute:n,kListener:i}=r(1594),o=Symbol("kCode"),s=Symbol("kData"),a=Symbol("kError"),c=Symbol("kMessage"),l=Symbol("kReason"),u=Symbol("kTarget"),h=Symbol("kType"),f=Symbol("kWasClean");class d{constructor(e){this[u]=null,this[h]=e}get target(){return this[u]}get type(){return this[h]}}Object.defineProperty(d.prototype,"target",{enumerable:!0}),Object.defineProperty(d.prototype,"type",{enumerable:!0});class p extends d{constructor(e,t={}){super(e),this[o]=void 0===t.code?0:t.code,this[l]=void 0===t.reason?"":t.reason,this[f]=void 0!==t.wasClean&&t.wasClean}get code(){return this[o]}get reason(){return this[l]}get wasClean(){return this[f]}}Object.defineProperty(p.prototype,"code",{enumerable:!0}),Object.defineProperty(p.prototype,"reason",{enumerable:!0}),Object.defineProperty(p.prototype,"wasClean",{enumerable:!0});class m extends d{constructor(e,t={}){super(e),this[a]=void 0===t.error?null:t.error,this[c]=void 0===t.message?"":t.message}get error(){return this[a]}get message(){return this[c]}}Object.defineProperty(m.prototype,"error",{enumerable:!0}),Object.defineProperty(m.prototype,"message",{enumerable:!0});class _ extends d{constructor(e,t={}){super(e),this[s]=void 0===t.data?null:t.data}get data(){return this[s]}}function y(e,t,r){"object"==typeof e&&e.handleEvent?e.handleEvent.call(e,r):e.call(t,r)}Object.defineProperty(_.prototype,"data",{enumerable:!0}),e.exports={CloseEvent:p,ErrorEvent:m,Event:d,EventTarget:{addEventListener(e,t,r={}){let o;for(let o of this.listeners(e))if(!r[n]&&o[i]===t&&!o[n])return;if("message"===e)o=function(e,r){let n=new _("message",{data:r?e:e.toString()});n[u]=this,y(t,this,n)};else if("close"===e)o=function(e,r){let n=new p("close",{code:e,reason:r.toString(),wasClean:this._closeFrameReceived&&this._closeFrameSent});n[u]=this,y(t,this,n)};else if("error"===e)o=function(e){let r=new m("error",{error:e,message:e.message});r[u]=this,y(t,this,r)};else{if("open"!==e)return;o=function(){let e=new d("open");e[u]=this,y(t,this,e)}}o[n]=!!r[n],o[i]=t,r.once?this.once(e,o):this.on(e,o)},removeEventListener(e,t){for(let r of this.listeners(e))if(r[i]===t&&!r[n]){this.removeListener(e,r);break}}},MessageEvent:_}},5802:(e,t,r)=>{"use strict";let{tokenChars:n}=r(8088);function i(e,t,r){void 0===e[t]?e[t]=[r]:e[t].push(r)}e.exports={format:function(e){return Object.keys(e).map(t=>{let r=e[t];return Array.isArray(r)||(r=[r]),r.map(e=>[t].concat(Object.keys(e).map(t=>{let r=e[t];return Array.isArray(r)||(r=[r]),r.map(e=>!0===e?t:`${t}=${e}`).join("; ")})).join("; ")).join(", ")}).join(", ")},parse:function(e){let t,r;let o=Object.create(null),s=Object.create(null),a=!1,c=!1,l=!1,u=-1,h=-1,f=-1,d=0;for(;d<e.length;d++)if(h=e.charCodeAt(d),void 0===t){if(-1===f&&1===n[h])-1===u&&(u=d);else if(0!==d&&(32===h||9===h))-1===f&&-1!==u&&(f=d);else if(59===h||44===h){if(-1===u)throw SyntaxError(`Unexpected character at index ${d}`);-1===f&&(f=d);let r=e.slice(u,f);44===h?(i(o,r,s),s=Object.create(null)):t=r,u=f=-1}else throw SyntaxError(`Unexpected character at index ${d}`)}else if(void 0===r){if(-1===f&&1===n[h])-1===u&&(u=d);else if(32===h||9===h)-1===f&&-1!==u&&(f=d);else if(59===h||44===h){if(-1===u)throw SyntaxError(`Unexpected character at index ${d}`);-1===f&&(f=d),i(s,e.slice(u,f),!0),44===h&&(i(o,t,s),s=Object.create(null),t=void 0),u=f=-1}else if(61===h&&-1!==u&&-1===f)r=e.slice(u,d),u=f=-1;else throw SyntaxError(`Unexpected character at index ${d}`)}else if(c){if(1!==n[h])throw SyntaxError(`Unexpected character at index ${d}`);-1===u?u=d:a||(a=!0),c=!1}else if(l){if(1===n[h])-1===u&&(u=d);else if(34===h&&-1!==u)l=!1,f=d;else if(92===h)c=!0;else throw SyntaxError(`Unexpected character at index ${d}`)}else if(34===h&&61===e.charCodeAt(d-1))l=!0;else if(-1===f&&1===n[h])-1===u&&(u=d);else if(-1!==u&&(32===h||9===h))-1===f&&(f=d);else if(59===h||44===h){if(-1===u)throw SyntaxError(`Unexpected character at index ${d}`);-1===f&&(f=d);let n=e.slice(u,f);a&&(n=n.replace(/\\/g,""),a=!1),i(s,r,n),44===h&&(i(o,t,s),s=Object.create(null),t=void 0),r=void 0,u=f=-1}else throw SyntaxError(`Unexpected character at index ${d}`);if(-1===u||l||32===h||9===h)throw SyntaxError("Unexpected end of input");-1===f&&(f=d);let p=e.slice(u,f);return void 0===t?i(o,p,s):(void 0===r?i(s,p,!0):a?i(s,r,p.replace(/\\/g,"")):i(s,r,p),i(o,t,s)),o}}},6483:e=>{"use strict";let t=Symbol("kDone"),r=Symbol("kRun");class n{constructor(e){this[t]=()=>{this.pending--,this[r]()},this.concurrency=e||1/0,this.jobs=[],this.pending=0}add(e){this.jobs.push(e),this[r]()}[r](){if(this.pending!==this.concurrency&&this.jobs.length){let e=this.jobs.shift();this.pending++,e(this[t])}}}e.exports=n},6335:(e,t,r)=>{"use strict";let n;let i=r(4075),o=r(4054),s=r(6483),{kStatusCode:a}=r(1594),c=Buffer[Symbol.species],l=Buffer.from([0,0,255,255]),u=Symbol("permessage-deflate"),h=Symbol("total-length"),f=Symbol("callback"),d=Symbol("buffers"),p=Symbol("error");class m{constructor(e,t,r){this._maxPayload=0|r,this._options=e||{},this._threshold=void 0!==this._options.threshold?this._options.threshold:1024,this._isServer=!!t,this._deflate=null,this._inflate=null,this.params=null,n||(n=new s(void 0!==this._options.concurrencyLimit?this._options.concurrencyLimit:10))}static get extensionName(){return"permessage-deflate"}offer(){let e={};return this._options.serverNoContextTakeover&&(e.server_no_context_takeover=!0),this._options.clientNoContextTakeover&&(e.client_no_context_takeover=!0),this._options.serverMaxWindowBits&&(e.server_max_window_bits=this._options.serverMaxWindowBits),this._options.clientMaxWindowBits?e.client_max_window_bits=this._options.clientMaxWindowBits:null==this._options.clientMaxWindowBits&&(e.client_max_window_bits=!0),e}accept(e){return e=this.normalizeParams(e),this.params=this._isServer?this.acceptAsServer(e):this.acceptAsClient(e),this.params}cleanup(){if(this._inflate&&(this._inflate.close(),this._inflate=null),this._deflate){let e=this._deflate[f];this._deflate.close(),this._deflate=null,e&&e(Error("The deflate stream was closed while data was being processed"))}}acceptAsServer(e){let t=this._options,r=e.find(e=>(!1!==t.serverNoContextTakeover||!e.server_no_context_takeover)&&(!e.server_max_window_bits||!1!==t.serverMaxWindowBits&&("number"!=typeof t.serverMaxWindowBits||!(t.serverMaxWindowBits>e.server_max_window_bits)))&&("number"!=typeof t.clientMaxWindowBits||!!e.client_max_window_bits));if(!r)throw Error("None of the extension offers can be accepted");return t.serverNoContextTakeover&&(r.server_no_context_takeover=!0),t.clientNoContextTakeover&&(r.client_no_context_takeover=!0),"number"==typeof t.serverMaxWindowBits&&(r.server_max_window_bits=t.serverMaxWindowBits),"number"==typeof t.clientMaxWindowBits?r.client_max_window_bits=t.clientMaxWindowBits:(!0===r.client_max_window_bits||!1===t.clientMaxWindowBits)&&delete r.client_max_window_bits,r}acceptAsClient(e){let t=e[0];if(!1===this._options.clientNoContextTakeover&&t.client_no_context_takeover)throw Error('Unexpected parameter "client_no_context_takeover"');if(t.client_max_window_bits){if(!1===this._options.clientMaxWindowBits||"number"==typeof this._options.clientMaxWindowBits&&t.client_max_window_bits>this._options.clientMaxWindowBits)throw Error('Unexpected or invalid parameter "client_max_window_bits"')}else"number"==typeof this._options.clientMaxWindowBits&&(t.client_max_window_bits=this._options.clientMaxWindowBits);return t}normalizeParams(e){return e.forEach(e=>{Object.keys(e).forEach(t=>{let r=e[t];if(r.length>1)throw Error(`Parameter "${t}" must have only a single value`);if(r=r[0],"client_max_window_bits"===t){if(!0!==r){let e=+r;if(!Number.isInteger(e)||e<8||e>15)throw TypeError(`Invalid value for parameter "${t}": ${r}`);r=e}else if(!this._isServer)throw TypeError(`Invalid value for parameter "${t}": ${r}`)}else if("server_max_window_bits"===t){let e=+r;if(!Number.isInteger(e)||e<8||e>15)throw TypeError(`Invalid value for parameter "${t}": ${r}`);r=e}else if("client_no_context_takeover"===t||"server_no_context_takeover"===t){if(!0!==r)throw TypeError(`Invalid value for parameter "${t}": ${r}`)}else throw Error(`Unknown parameter "${t}"`);e[t]=r})}),e}decompress(e,t,r){n.add(n=>{this._decompress(e,t,(e,t)=>{n(),r(e,t)})})}compress(e,t,r){n.add(n=>{this._compress(e,t,(e,t)=>{n(),r(e,t)})})}_decompress(e,t,r){let n=this._isServer?"client":"server";if(!this._inflate){let e=`${n}_max_window_bits`,t="number"!=typeof this.params[e]?i.Z_DEFAULT_WINDOWBITS:this.params[e];this._inflate=i.createInflateRaw({...this._options.zlibInflateOptions,windowBits:t}),this._inflate[u]=this,this._inflate[h]=0,this._inflate[d]=[],this._inflate.on("error",g),this._inflate.on("data",y)}this._inflate[f]=r,this._inflate.write(e),t&&this._inflate.write(l),this._inflate.flush(()=>{let e=this._inflate[p];if(e){this._inflate.close(),this._inflate=null,r(e);return}let i=o.concat(this._inflate[d],this._inflate[h]);this._inflate._readableState.endEmitted?(this._inflate.close(),this._inflate=null):(this._inflate[h]=0,this._inflate[d]=[],t&&this.params[`${n}_no_context_takeover`]&&this._inflate.reset()),r(null,i)})}_compress(e,t,r){let n=this._isServer?"server":"client";if(!this._deflate){let e=`${n}_max_window_bits`,t="number"!=typeof this.params[e]?i.Z_DEFAULT_WINDOWBITS:this.params[e];this._deflate=i.createDeflateRaw({...this._options.zlibDeflateOptions,windowBits:t}),this._deflate[h]=0,this._deflate[d]=[],this._deflate.on("data",_)}this._deflate[f]=r,this._deflate.write(e),this._deflate.flush(i.Z_SYNC_FLUSH,()=>{if(!this._deflate)return;let e=o.concat(this._deflate[d],this._deflate[h]);t&&(e=new c(e.buffer,e.byteOffset,e.length-4)),this._deflate[f]=null,this._deflate[h]=0,this._deflate[d]=[],t&&this.params[`${n}_no_context_takeover`]&&this._deflate.reset(),r(null,e)})}}function _(e){this[d].push(e),this[h]+=e.length}function y(e){if(this[h]+=e.length,this[u]._maxPayload<1||this[h]<=this[u]._maxPayload){this[d].push(e);return}this[p]=RangeError("Max payload size exceeded"),this[p].code="WS_ERR_UNSUPPORTED_MESSAGE_LENGTH",this[p][a]=1009,this.removeListener("data",y),this.reset()}function g(e){this[u]._inflate=null,e[a]=1007,this[f](e)}e.exports=m},6341:(e,t,r)=>{"use strict";let{Writable:n}=r(7910),i=r(6335),{BINARY_TYPES:o,EMPTY_BUFFER:s,kStatusCode:a,kWebSocket:c}=r(1594),{concat:l,toArrayBuffer:u,unmask:h}=r(4054),{isValidStatusCode:f,isValidUTF8:d}=r(8088),p=Buffer[Symbol.species];class m extends n{constructor(e={}){super(),this._allowSynchronousEvents=void 0===e.allowSynchronousEvents||e.allowSynchronousEvents,this._binaryType=e.binaryType||o[0],this._extensions=e.extensions||{},this._isServer=!!e.isServer,this._maxPayload=0|e.maxPayload,this._skipUTF8Validation=!!e.skipUTF8Validation,this[c]=void 0,this._bufferedBytes=0,this._buffers=[],this._compressed=!1,this._payloadLength=0,this._mask=void 0,this._fragmented=0,this._masked=!1,this._fin=!1,this._opcode=0,this._totalPayloadLength=0,this._messageLength=0,this._fragments=[],this._errored=!1,this._loop=!1,this._state=0}_write(e,t,r){if(8===this._opcode&&0==this._state)return r();this._bufferedBytes+=e.length,this._buffers.push(e),this.startLoop(r)}consume(e){if(this._bufferedBytes-=e,e===this._buffers[0].length)return this._buffers.shift();if(e<this._buffers[0].length){let t=this._buffers[0];return this._buffers[0]=new p(t.buffer,t.byteOffset+e,t.length-e),new p(t.buffer,t.byteOffset,e)}let t=Buffer.allocUnsafe(e);do{let r=this._buffers[0],n=t.length-e;e>=r.length?t.set(this._buffers.shift(),n):(t.set(new Uint8Array(r.buffer,r.byteOffset,e),n),this._buffers[0]=new p(r.buffer,r.byteOffset+e,r.length-e)),e-=r.length}while(e>0);return t}startLoop(e){this._loop=!0;do switch(this._state){case 0:this.getInfo(e);break;case 1:this.getPayloadLength16(e);break;case 2:this.getPayloadLength64(e);break;case 3:this.getMask();break;case 4:this.getData(e);break;case 5:case 6:this._loop=!1;return}while(this._loop);this._errored||e()}getInfo(e){if(this._bufferedBytes<2){this._loop=!1;return}let t=this.consume(2);if((48&t[0])!=0){e(this.createError(RangeError,"RSV2 and RSV3 must be clear",!0,1002,"WS_ERR_UNEXPECTED_RSV_2_3"));return}let r=(64&t[0])==64;if(r&&!this._extensions[i.extensionName]){e(this.createError(RangeError,"RSV1 must be clear",!0,1002,"WS_ERR_UNEXPECTED_RSV_1"));return}if(this._fin=(128&t[0])==128,this._opcode=15&t[0],this._payloadLength=127&t[1],0===this._opcode){if(r){e(this.createError(RangeError,"RSV1 must be clear",!0,1002,"WS_ERR_UNEXPECTED_RSV_1"));return}if(!this._fragmented){e(this.createError(RangeError,"invalid opcode 0",!0,1002,"WS_ERR_INVALID_OPCODE"));return}this._opcode=this._fragmented}else if(1===this._opcode||2===this._opcode){if(this._fragmented){e(this.createError(RangeError,`invalid opcode ${this._opcode}`,!0,1002,"WS_ERR_INVALID_OPCODE"));return}this._compressed=r}else if(this._opcode>7&&this._opcode<11){if(!this._fin){e(this.createError(RangeError,"FIN must be set",!0,1002,"WS_ERR_EXPECTED_FIN"));return}if(r){e(this.createError(RangeError,"RSV1 must be clear",!0,1002,"WS_ERR_UNEXPECTED_RSV_1"));return}if(this._payloadLength>125||8===this._opcode&&1===this._payloadLength){e(this.createError(RangeError,`invalid payload length ${this._payloadLength}`,!0,1002,"WS_ERR_INVALID_CONTROL_PAYLOAD_LENGTH"));return}}else{e(this.createError(RangeError,`invalid opcode ${this._opcode}`,!0,1002,"WS_ERR_INVALID_OPCODE"));return}if(this._fin||this._fragmented||(this._fragmented=this._opcode),this._masked=(128&t[1])==128,this._isServer){if(!this._masked){e(this.createError(RangeError,"MASK must be set",!0,1002,"WS_ERR_EXPECTED_MASK"));return}}else if(this._masked){e(this.createError(RangeError,"MASK must be clear",!0,1002,"WS_ERR_UNEXPECTED_MASK"));return}126===this._payloadLength?this._state=1:127===this._payloadLength?this._state=2:this.haveLength(e)}getPayloadLength16(e){if(this._bufferedBytes<2){this._loop=!1;return}this._payloadLength=this.consume(2).readUInt16BE(0),this.haveLength(e)}getPayloadLength64(e){if(this._bufferedBytes<8){this._loop=!1;return}let t=this.consume(8),r=t.readUInt32BE(0);if(r>2097151){e(this.createError(RangeError,"Unsupported WebSocket frame: payload length > 2^53 - 1",!1,1009,"WS_ERR_UNSUPPORTED_DATA_PAYLOAD_LENGTH"));return}this._payloadLength=0x100000000*r+t.readUInt32BE(4),this.haveLength(e)}haveLength(e){if(this._payloadLength&&this._opcode<8&&(this._totalPayloadLength+=this._payloadLength,this._totalPayloadLength>this._maxPayload&&this._maxPayload>0)){e(this.createError(RangeError,"Max payload size exceeded",!1,1009,"WS_ERR_UNSUPPORTED_MESSAGE_LENGTH"));return}this._masked?this._state=3:this._state=4}getMask(){if(this._bufferedBytes<4){this._loop=!1;return}this._mask=this.consume(4),this._state=4}getData(e){let t=s;if(this._payloadLength){if(this._bufferedBytes<this._payloadLength){this._loop=!1;return}t=this.consume(this._payloadLength),this._masked&&(this._mask[0]|this._mask[1]|this._mask[2]|this._mask[3])!=0&&h(t,this._mask)}if(this._opcode>7){this.controlMessage(t,e);return}if(this._compressed){this._state=5,this.decompress(t,e);return}t.length&&(this._messageLength=this._totalPayloadLength,this._fragments.push(t)),this.dataMessage(e)}decompress(e,t){this._extensions[i.extensionName].decompress(e,this._fin,(e,r)=>{if(e)return t(e);if(r.length){if(this._messageLength+=r.length,this._messageLength>this._maxPayload&&this._maxPayload>0){t(this.createError(RangeError,"Max payload size exceeded",!1,1009,"WS_ERR_UNSUPPORTED_MESSAGE_LENGTH"));return}this._fragments.push(r)}this.dataMessage(t),0===this._state&&this.startLoop(t)})}dataMessage(e){if(!this._fin){this._state=0;return}let t=this._messageLength,r=this._fragments;if(this._totalPayloadLength=0,this._messageLength=0,this._fragmented=0,this._fragments=[],2===this._opcode){let n;n="nodebuffer"===this._binaryType?l(r,t):"arraybuffer"===this._binaryType?u(l(r,t)):"blob"===this._binaryType?new Blob(r):r,this._allowSynchronousEvents?(this.emit("message",n,!0),this._state=0):(this._state=6,setImmediate(()=>{this.emit("message",n,!0),this._state=0,this.startLoop(e)}))}else{let n=l(r,t);if(!this._skipUTF8Validation&&!d(n)){e(this.createError(Error,"invalid UTF-8 sequence",!0,1007,"WS_ERR_INVALID_UTF8"));return}5===this._state||this._allowSynchronousEvents?(this.emit("message",n,!1),this._state=0):(this._state=6,setImmediate(()=>{this.emit("message",n,!1),this._state=0,this.startLoop(e)}))}}controlMessage(e,t){if(8===this._opcode){if(0===e.length)this._loop=!1,this.emit("conclude",1005,s),this.end();else{let r=e.readUInt16BE(0);if(!f(r)){t(this.createError(RangeError,`invalid status code ${r}`,!0,1002,"WS_ERR_INVALID_CLOSE_CODE"));return}let n=new p(e.buffer,e.byteOffset+2,e.length-2);if(!this._skipUTF8Validation&&!d(n)){t(this.createError(Error,"invalid UTF-8 sequence",!0,1007,"WS_ERR_INVALID_UTF8"));return}this._loop=!1,this.emit("conclude",r,n),this.end()}this._state=0;return}this._allowSynchronousEvents?(this.emit(9===this._opcode?"ping":"pong",e),this._state=0):(this._state=6,setImmediate(()=>{this.emit(9===this._opcode?"ping":"pong",e),this._state=0,this.startLoop(t)}))}createError(e,t,r,n,i){this._loop=!1,this._errored=!0;let o=new e(r?`Invalid WebSocket frame: ${t}`:t);return Error.captureStackTrace(o,this.createError),o.code=i,o[a]=n,o}}e.exports=m},7422:(e,t,r)=>{"use strict";let n;let{Duplex:i}=r(7910),{randomFillSync:o}=r(5511),s=r(6335),{EMPTY_BUFFER:a,kWebSocket:c,NOOP:l}=r(1594),{isBlob:u,isValidStatusCode:h}=r(8088),{mask:f,toBuffer:d}=r(4054),p=Symbol("kByteLength"),m=Buffer.alloc(4),_=8192;class y{constructor(e,t,r){this._extensions=t||{},r&&(this._generateMask=r,this._maskBuffer=Buffer.alloc(4)),this._socket=e,this._firstFragment=!0,this._compress=!1,this._bufferedBytes=0,this._queue=[],this._state=0,this.onerror=l,this[c]=void 0}static frame(e,t){let r,i;let s=!1,a=2,c=!1;t.mask&&(r=t.maskBuffer||m,t.generateMask?t.generateMask(r):(8192===_&&(void 0===n&&(n=Buffer.alloc(8192)),o(n,0,8192),_=0),r[0]=n[_++],r[1]=n[_++],r[2]=n[_++],r[3]=n[_++]),c=(r[0]|r[1]|r[2]|r[3])==0,a=6),"string"==typeof e?i=(!t.mask||c)&&void 0!==t[p]?t[p]:(e=Buffer.from(e)).length:(i=e.length,s=t.mask&&t.readOnly&&!c);let l=i;i>=65536?(a+=8,l=127):i>125&&(a+=2,l=126);let u=Buffer.allocUnsafe(s?i+a:a);return(u[0]=t.fin?128|t.opcode:t.opcode,t.rsv1&&(u[0]|=64),u[1]=l,126===l?u.writeUInt16BE(i,2):127===l&&(u[2]=u[3]=0,u.writeUIntBE(i,4,6)),t.mask)?(u[1]|=128,u[a-4]=r[0],u[a-3]=r[1],u[a-2]=r[2],u[a-1]=r[3],c)?[u,e]:s?(f(e,r,u,a,i),[u]):(f(e,r,e,0,i),[u,e]):[u,e]}close(e,t,r,n){let i;if(void 0===e)i=a;else if("number"==typeof e&&h(e)){if(void 0!==t&&t.length){let r=Buffer.byteLength(t);if(r>123)throw RangeError("The message must not be greater than 123 bytes");(i=Buffer.allocUnsafe(2+r)).writeUInt16BE(e,0),"string"==typeof t?i.write(t,2):i.set(t,2)}else(i=Buffer.allocUnsafe(2)).writeUInt16BE(e,0)}else throw TypeError("First argument must be a valid error code number");let o={[p]:i.length,fin:!0,generateMask:this._generateMask,mask:r,maskBuffer:this._maskBuffer,opcode:8,readOnly:!1,rsv1:!1};0!==this._state?this.enqueue([this.dispatch,i,!1,o,n]):this.sendFrame(y.frame(i,o),n)}ping(e,t,r){let n,i;if("string"==typeof e?(n=Buffer.byteLength(e),i=!1):u(e)?(n=e.size,i=!1):(n=(e=d(e)).length,i=d.readOnly),n>125)throw RangeError("The data size must not be greater than 125 bytes");let o={[p]:n,fin:!0,generateMask:this._generateMask,mask:t,maskBuffer:this._maskBuffer,opcode:9,readOnly:i,rsv1:!1};u(e)?0!==this._state?this.enqueue([this.getBlobData,e,!1,o,r]):this.getBlobData(e,!1,o,r):0!==this._state?this.enqueue([this.dispatch,e,!1,o,r]):this.sendFrame(y.frame(e,o),r)}pong(e,t,r){let n,i;if("string"==typeof e?(n=Buffer.byteLength(e),i=!1):u(e)?(n=e.size,i=!1):(n=(e=d(e)).length,i=d.readOnly),n>125)throw RangeError("The data size must not be greater than 125 bytes");let o={[p]:n,fin:!0,generateMask:this._generateMask,mask:t,maskBuffer:this._maskBuffer,opcode:10,readOnly:i,rsv1:!1};u(e)?0!==this._state?this.enqueue([this.getBlobData,e,!1,o,r]):this.getBlobData(e,!1,o,r):0!==this._state?this.enqueue([this.dispatch,e,!1,o,r]):this.sendFrame(y.frame(e,o),r)}send(e,t,r){let n,i;let o=this._extensions[s.extensionName],a=t.binary?2:1,c=t.compress;"string"==typeof e?(n=Buffer.byteLength(e),i=!1):u(e)?(n=e.size,i=!1):(n=(e=d(e)).length,i=d.readOnly),this._firstFragment?(this._firstFragment=!1,c&&o&&o.params[o._isServer?"server_no_context_takeover":"client_no_context_takeover"]&&(c=n>=o._threshold),this._compress=c):(c=!1,a=0),t.fin&&(this._firstFragment=!0);let l={[p]:n,fin:t.fin,generateMask:this._generateMask,mask:t.mask,maskBuffer:this._maskBuffer,opcode:a,readOnly:i,rsv1:c};u(e)?0!==this._state?this.enqueue([this.getBlobData,e,this._compress,l,r]):this.getBlobData(e,this._compress,l,r):0!==this._state?this.enqueue([this.dispatch,e,this._compress,l,r]):this.dispatch(e,this._compress,l,r)}getBlobData(e,t,r,n){this._bufferedBytes+=r[p],this._state=2,e.arrayBuffer().then(e=>{if(this._socket.destroyed){let e=Error("The socket was closed while the blob was being read");process.nextTick(g,this,e,n);return}this._bufferedBytes-=r[p];let i=d(e);t?this.dispatch(i,t,r,n):(this._state=0,this.sendFrame(y.frame(i,r),n),this.dequeue())}).catch(e=>{process.nextTick(b,this,e,n)})}dispatch(e,t,r,n){if(!t){this.sendFrame(y.frame(e,r),n);return}let i=this._extensions[s.extensionName];this._bufferedBytes+=r[p],this._state=1,i.compress(e,r.fin,(e,t)=>{if(this._socket.destroyed){g(this,Error("The socket was closed while data was being compressed"),n);return}this._bufferedBytes-=r[p],this._state=0,r.readOnly=!1,this.sendFrame(y.frame(t,r),n),this.dequeue()})}dequeue(){for(;0===this._state&&this._queue.length;){let e=this._queue.shift();this._bufferedBytes-=e[3][p],Reflect.apply(e[0],this,e.slice(1))}}enqueue(e){this._bufferedBytes+=e[3][p],this._queue.push(e)}sendFrame(e,t){2===e.length?(this._socket.cork(),this._socket.write(e[0]),this._socket.write(e[1],t),this._socket.uncork()):this._socket.write(e[0],t)}}function g(e,t,r){"function"==typeof r&&r(t);for(let r=0;r<e._queue.length;r++){let n=e._queue[r],i=n[n.length-1];"function"==typeof i&&i(t)}}function b(e,t,r){g(e,t,r),e.onerror(t)}e.exports=y},6515:(e,t,r)=>{"use strict";let{Duplex:n}=r(7910);function i(e){e.emit("close")}function o(){!this.destroyed&&this._writableState.finished&&this.destroy()}function s(e){this.removeListener("error",s),this.destroy(),0===this.listenerCount("error")&&this.emit("error",e)}e.exports=function(e,t){let r=!0,a=new n({...t,autoDestroy:!1,emitClose:!1,objectMode:!1,writableObjectMode:!1});return e.on("message",function(t,r){let n=!r&&a._readableState.objectMode?t.toString():t;a.push(n)||e.pause()}),e.once("error",function(e){a.destroyed||(r=!1,a.destroy(e))}),e.once("close",function(){a.destroyed||a.push(null)}),a._destroy=function(t,n){if(e.readyState===e.CLOSED){n(t),process.nextTick(i,a);return}let o=!1;e.once("error",function(e){o=!0,n(e)}),e.once("close",function(){o||n(t),process.nextTick(i,a)}),r&&e.terminate()},a._final=function(t){if(e.readyState===e.CONNECTING){e.once("open",function(){a._final(t)});return}null!==e._socket&&(e._socket._writableState.finished?(t(),a._readableState.endEmitted&&a.destroy()):(e._socket.once("finish",function(){t()}),e.close()))},a._read=function(){e.isPaused&&e.resume()},a._write=function(t,r,n){if(e.readyState===e.CONNECTING){e.once("open",function(){a._write(t,r,n)});return}e.send(t,n)},a.on("end",o),a.on("error",s),a}},509:(e,t,r)=>{"use strict";let{tokenChars:n}=r(8088);e.exports={parse:function(e){let t=new Set,r=-1,i=-1,o=0;for(;o<e.length;o++){let s=e.charCodeAt(o);if(-1===i&&1===n[s])-1===r&&(r=o);else if(0!==o&&(32===s||9===s))-1===i&&-1!==r&&(i=o);else if(44===s){if(-1===r)throw SyntaxError(`Unexpected character at index ${o}`);-1===i&&(i=o);let n=e.slice(r,i);if(t.has(n))throw SyntaxError(`The "${n}" subprotocol is duplicated`);t.add(n),r=i=-1}else throw SyntaxError(`Unexpected character at index ${o}`)}if(-1===r||-1!==i)throw SyntaxError("Unexpected end of input");let s=e.slice(r,o);if(t.has(s))throw SyntaxError(`The "${s}" subprotocol is duplicated`);return t.add(s),t}}},8088:(e,t,r)=>{"use strict";let{isUtf8:n}=r(9428),{hasBlob:i}=r(1594);function o(e){let t=e.length,r=0;for(;r<t;)if((128&e[r])==0)r++;else if((224&e[r])==192){if(r+1===t||(192&e[r+1])!=128||(254&e[r])==192)return!1;r+=2}else if((240&e[r])==224){if(r+2>=t||(192&e[r+1])!=128||(192&e[r+2])!=128||224===e[r]&&(224&e[r+1])==128||237===e[r]&&(224&e[r+1])==160)return!1;r+=3}else{if((248&e[r])!=240||r+3>=t||(192&e[r+1])!=128||(192&e[r+2])!=128||(192&e[r+3])!=128||240===e[r]&&(240&e[r+1])==128||244===e[r]&&e[r+1]>143||e[r]>244)return!1;r+=4}return!0}if(e.exports={isBlob:function(e){return i&&"object"==typeof e&&"function"==typeof e.arrayBuffer&&"string"==typeof e.type&&"function"==typeof e.stream&&("Blob"===e[Symbol.toStringTag]||"File"===e[Symbol.toStringTag])},isValidStatusCode:function(e){return e>=1e3&&e<=1014&&1004!==e&&1005!==e&&1006!==e||e>=3e3&&e<=4999},isValidUTF8:o,tokenChars:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,1,1,1,1,1,0,0,1,1,0,1,1,0,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,1,0,1,0]},n)e.exports.isValidUTF8=function(e){return e.length<24?o(e):n(e)};else if(!process.env.WS_NO_UTF_8_VALIDATE)try{let t=r(502);e.exports.isValidUTF8=function(e){return e.length<32?o(e):t(e)}}catch(e){}},1238:(e,t,r)=>{"use strict";let n=r(4735),i=r(1630),{Duplex:o}=r(7910),{createHash:s}=r(5511),a=r(5802),c=r(6335),l=r(509),u=r(8588),{GUID:h,kWebSocket:f}=r(1594),d=/^[+/0-9A-Za-z]{22}==$/;class p extends n{constructor(e,t){if(super(),null==(e={allowSynchronousEvents:!0,autoPong:!0,maxPayload:0x6400000,skipUTF8Validation:!1,perMessageDeflate:!1,handleProtocols:null,clientTracking:!0,verifyClient:null,noServer:!1,backlog:null,server:null,host:null,path:null,port:null,WebSocket:u,...e}).port&&!e.server&&!e.noServer||null!=e.port&&(e.server||e.noServer)||e.server&&e.noServer)throw TypeError('One and only one of the "port", "server", or "noServer" options must be specified');if(null!=e.port?(this._server=i.createServer((e,t)=>{let r=i.STATUS_CODES[426];t.writeHead(426,{"Content-Length":r.length,"Content-Type":"text/plain"}),t.end(r)}),this._server.listen(e.port,e.host,e.backlog,t)):e.server&&(this._server=e.server),this._server){let e=this.emit.bind(this,"connection");this._removeListeners=function(e,t){for(let r of Object.keys(t))e.on(r,t[r]);return function(){for(let r of Object.keys(t))e.removeListener(r,t[r])}}(this._server,{listening:this.emit.bind(this,"listening"),error:this.emit.bind(this,"error"),upgrade:(t,r,n)=>{this.handleUpgrade(t,r,n,e)}})}!0===e.perMessageDeflate&&(e.perMessageDeflate={}),e.clientTracking&&(this.clients=new Set,this._shouldEmitClose=!1),this.options=e,this._state=0}address(){if(this.options.noServer)throw Error('The server is operating in "noServer" mode');return this._server?this._server.address():null}close(e){if(2===this._state){e&&this.once("close",()=>{e(Error("The server is not running"))}),process.nextTick(m,this);return}if(e&&this.once("close",e),1!==this._state){if(this._state=1,this.options.noServer||this.options.server)this._server&&(this._removeListeners(),this._removeListeners=this._server=null),this.clients&&this.clients.size?this._shouldEmitClose=!0:process.nextTick(m,this);else{let e=this._server;this._removeListeners(),this._removeListeners=this._server=null,e.close(()=>{m(this)})}}}shouldHandle(e){if(this.options.path){let t=e.url.indexOf("?");if((-1!==t?e.url.slice(0,t):e.url)!==this.options.path)return!1}return!0}handleUpgrade(e,t,r,n){t.on("error",_);let i=e.headers["sec-websocket-key"],o=e.headers.upgrade,s=+e.headers["sec-websocket-version"];if("GET"!==e.method){g(this,e,t,405,"Invalid HTTP method");return}if(void 0===o||"websocket"!==o.toLowerCase()){g(this,e,t,400,"Invalid Upgrade header");return}if(void 0===i||!d.test(i)){g(this,e,t,400,"Missing or invalid Sec-WebSocket-Key header");return}if(8!==s&&13!==s){g(this,e,t,400,"Missing or invalid Sec-WebSocket-Version header");return}if(!this.shouldHandle(e)){y(t,400);return}let u=e.headers["sec-websocket-protocol"],h=new Set;if(void 0!==u)try{h=l.parse(u)}catch(r){g(this,e,t,400,"Invalid Sec-WebSocket-Protocol header");return}let f=e.headers["sec-websocket-extensions"],p={};if(this.options.perMessageDeflate&&void 0!==f){let r=new c(this.options.perMessageDeflate,!0,this.options.maxPayload);try{let e=a.parse(f);e[c.extensionName]&&(r.accept(e[c.extensionName]),p[c.extensionName]=r)}catch(r){g(this,e,t,400,"Invalid or unacceptable Sec-WebSocket-Extensions header");return}}if(this.options.verifyClient){let o={origin:e.headers[`${8===s?"sec-websocket-origin":"origin"}`],secure:!!(e.socket.authorized||e.socket.encrypted),req:e};if(2===this.options.verifyClient.length){this.options.verifyClient(o,(o,s,a,c)=>{if(!o)return y(t,s||401,a,c);this.completeUpgrade(p,i,h,e,t,r,n)});return}if(!this.options.verifyClient(o))return y(t,401)}this.completeUpgrade(p,i,h,e,t,r,n)}completeUpgrade(e,t,r,n,i,o,l){if(!i.readable||!i.writable)return i.destroy();if(i[f])throw Error("server.handleUpgrade() was called more than once with the same socket, possibly due to a misconfiguration");if(this._state>0)return y(i,503);let u=s("sha1").update(t+h).digest("base64"),d=["HTTP/1.1 101 Switching Protocols","Upgrade: websocket","Connection: Upgrade",`Sec-WebSocket-Accept: ${u}`],p=new this.options.WebSocket(null,void 0,this.options);if(r.size){let e=this.options.handleProtocols?this.options.handleProtocols(r,n):r.values().next().value;e&&(d.push(`Sec-WebSocket-Protocol: ${e}`),p._protocol=e)}if(e[c.extensionName]){let t=e[c.extensionName].params,r=a.format({[c.extensionName]:[t]});d.push(`Sec-WebSocket-Extensions: ${r}`),p._extensions=e}this.emit("headers",d,n),i.write(d.concat("\r\n").join("\r\n")),i.removeListener("error",_),p.setSocket(i,o,{allowSynchronousEvents:this.options.allowSynchronousEvents,maxPayload:this.options.maxPayload,skipUTF8Validation:this.options.skipUTF8Validation}),this.clients&&(this.clients.add(p),p.on("close",()=>{this.clients.delete(p),this._shouldEmitClose&&!this.clients.size&&process.nextTick(m,this)})),l(p,n)}}function m(e){e._state=2,e.emit("close")}function _(){this.destroy()}function y(e,t,r,n){r=r||i.STATUS_CODES[t],n={Connection:"close","Content-Type":"text/html","Content-Length":Buffer.byteLength(r),...n},e.once("finish",e.destroy),e.end(`HTTP/1.1 ${t} ${i.STATUS_CODES[t]}\r
`+Object.keys(n).map(e=>`${e}: ${n[e]}`).join("\r\n")+"\r\n\r\n"+r)}function g(e,t,r,n,i){if(e.listenerCount("wsClientError")){let n=Error(i);Error.captureStackTrace(n,g),e.emit("wsClientError",n,r,t)}else y(r,n,i)}e.exports=p},8588:(e,t,r)=>{"use strict";let n=r(4735),i=r(5591),o=r(1630),s=r(1645),a=r(4631),{randomBytes:c,createHash:l}=r(5511),{Duplex:u,Readable:h}=r(7910),{URL:f}=r(9551),d=r(6335),p=r(6341),m=r(7422),{isBlob:_}=r(8088),{BINARY_TYPES:y,EMPTY_BUFFER:g,GUID:b,kForOnEventAttribute:v,kListener:w,kStatusCode:E,kWebSocket:S,NOOP:x}=r(1594),{EventTarget:{addEventListener:k,removeEventListener:T}}=r(5557),{format:P,parse:O}=r(5802),{toBuffer:R}=r(4054),A=Symbol("kAborted"),C=[8,13],N=["CONNECTING","OPEN","CLOSING","CLOSED"],j=/^[!#$%&'*+\-.0-9A-Z^_`|a-z~]+$/;class L extends n{constructor(e,t,r){super(),this._binaryType=y[0],this._closeCode=1006,this._closeFrameReceived=!1,this._closeFrameSent=!1,this._closeMessage=g,this._closeTimer=null,this._errorEmitted=!1,this._extensions={},this._paused=!1,this._protocol="",this._readyState=L.CONNECTING,this._receiver=null,this._sender=null,this._socket=null,null!==e?(this._bufferedAmount=0,this._isServer=!1,this._redirects=0,void 0===t?t=[]:Array.isArray(t)||("object"==typeof t&&null!==t?(r=t,t=[]):t=[t]),function e(t,r,n,s){let a,u,h,p;let m={allowSynchronousEvents:!0,autoPong:!0,protocolVersion:C[1],maxPayload:0x6400000,skipUTF8Validation:!1,perMessageDeflate:!0,followRedirects:!1,maxRedirects:10,...s,socketPath:void 0,hostname:void 0,protocol:void 0,timeout:void 0,method:"GET",host:void 0,path:void 0,port:void 0};if(t._autoPong=m.autoPong,!C.includes(m.protocolVersion))throw RangeError(`Unsupported protocol version: ${m.protocolVersion} (supported versions: ${C.join(", ")})`);if(r instanceof f)a=r;else try{a=new f(r)}catch(e){throw SyntaxError(`Invalid URL: ${r}`)}"http:"===a.protocol?a.protocol="ws:":"https:"===a.protocol&&(a.protocol="wss:"),t._url=a.href;let _="wss:"===a.protocol,y="ws+unix:"===a.protocol;if("ws:"===a.protocol||_||y?y&&!a.pathname?u="The URL's pathname is empty":a.hash&&(u="The URL contains a fragment identifier"):u='The URL\'s protocol must be one of "ws:", "wss:", "http:", "https", or "ws+unix:"',u){let e=SyntaxError(u);if(0===t._redirects)throw e;I(t,e);return}let g=_?443:80,v=c(16).toString("base64"),w=_?i.request:o.request,E=new Set;if(m.createConnection=m.createConnection||(_?M:U),m.defaultPort=m.defaultPort||g,m.port=a.port||g,m.host=a.hostname.startsWith("[")?a.hostname.slice(1,-1):a.hostname,m.headers={...m.headers,"Sec-WebSocket-Version":m.protocolVersion,"Sec-WebSocket-Key":v,Connection:"Upgrade",Upgrade:"websocket"},m.path=a.pathname+a.search,m.timeout=m.handshakeTimeout,m.perMessageDeflate&&(h=new d(!0!==m.perMessageDeflate?m.perMessageDeflate:{},!1,m.maxPayload),m.headers["Sec-WebSocket-Extensions"]=P({[d.extensionName]:h.offer()})),n.length){for(let e of n){if("string"!=typeof e||!j.test(e)||E.has(e))throw SyntaxError("An invalid or duplicated subprotocol was specified");E.add(e)}m.headers["Sec-WebSocket-Protocol"]=n.join(",")}if(m.origin&&(m.protocolVersion<13?m.headers["Sec-WebSocket-Origin"]=m.origin:m.headers.Origin=m.origin),(a.username||a.password)&&(m.auth=`${a.username}:${a.password}`),y){let e=m.path.split(":");m.socketPath=e[0],m.path=e[1]}if(m.followRedirects){if(0===t._redirects){t._originalIpc=y,t._originalSecure=_,t._originalHostOrSocketPath=y?m.socketPath:a.host;let e=s&&s.headers;if(s={...s,headers:{}},e)for(let[t,r]of Object.entries(e))s.headers[t.toLowerCase()]=r}else if(0===t.listenerCount("redirect")){let e=y?!!t._originalIpc&&m.socketPath===t._originalHostOrSocketPath:!t._originalIpc&&a.host===t._originalHostOrSocketPath;e&&(!t._originalSecure||_)||(delete m.headers.authorization,delete m.headers.cookie,e||delete m.headers.host,m.auth=void 0)}m.auth&&!s.headers.authorization&&(s.headers.authorization="Basic "+Buffer.from(m.auth).toString("base64")),p=t._req=w(m),t._redirects&&t.emit("redirect",t.url,p)}else p=t._req=w(m);m.timeout&&p.on("timeout",()=>{$(t,p,"Opening handshake has timed out")}),p.on("error",e=>{null===p||p[A]||(p=t._req=null,I(t,e))}),p.on("response",i=>{let o=i.headers.location,a=i.statusCode;if(o&&m.followRedirects&&a>=300&&a<400){let i;if(++t._redirects>m.maxRedirects){$(t,p,"Maximum redirects exceeded");return}p.abort();try{i=new f(o,r)}catch(e){I(t,SyntaxError(`Invalid URL: ${o}`));return}e(t,i,n,s)}else t.emit("unexpected-response",p,i)||$(t,p,`Unexpected server response: ${i.statusCode}`)}),p.on("upgrade",(e,r,n)=>{let i;if(t.emit("upgrade",e),t.readyState!==L.CONNECTING)return;p=t._req=null;let o=e.headers.upgrade;if(void 0===o||"websocket"!==o.toLowerCase()){$(t,r,"Invalid Upgrade header");return}let s=l("sha1").update(v+b).digest("base64");if(e.headers["sec-websocket-accept"]!==s){$(t,r,"Invalid Sec-WebSocket-Accept header");return}let a=e.headers["sec-websocket-protocol"];if(void 0!==a?E.size?E.has(a)||(i="Server sent an invalid subprotocol"):i="Server sent a subprotocol but none was requested":E.size&&(i="Server sent no subprotocol"),i){$(t,r,i);return}a&&(t._protocol=a);let c=e.headers["sec-websocket-extensions"];if(void 0!==c){let e;if(!h){$(t,r,"Server sent a Sec-WebSocket-Extensions header but no extension was requested");return}try{e=O(c)}catch(e){$(t,r,"Invalid Sec-WebSocket-Extensions header");return}let n=Object.keys(e);if(1!==n.length||n[0]!==d.extensionName){$(t,r,"Server indicated an extension that was not requested");return}try{h.accept(e[d.extensionName])}catch(e){$(t,r,"Invalid Sec-WebSocket-Extensions header");return}t._extensions[d.extensionName]=h}t.setSocket(r,n,{allowSynchronousEvents:m.allowSynchronousEvents,generateMask:m.generateMask,maxPayload:m.maxPayload,skipUTF8Validation:m.skipUTF8Validation})}),m.finishRequest?m.finishRequest(p,t):p.end()}(this,e,t,r)):(this._autoPong=r.autoPong,this._isServer=!0)}get binaryType(){return this._binaryType}set binaryType(e){y.includes(e)&&(this._binaryType=e,this._receiver&&(this._receiver._binaryType=e))}get bufferedAmount(){return this._socket?this._socket._writableState.length+this._sender._bufferedBytes:this._bufferedAmount}get extensions(){return Object.keys(this._extensions).join()}get isPaused(){return this._paused}get onclose(){return null}get onerror(){return null}get onopen(){return null}get onmessage(){return null}get protocol(){return this._protocol}get readyState(){return this._readyState}get url(){return this._url}setSocket(e,t,r){let n=new p({allowSynchronousEvents:r.allowSynchronousEvents,binaryType:this.binaryType,extensions:this._extensions,isServer:this._isServer,maxPayload:r.maxPayload,skipUTF8Validation:r.skipUTF8Validation}),i=new m(e,this._extensions,r.generateMask);this._receiver=n,this._sender=i,this._socket=e,n[S]=this,i[S]=this,e[S]=this,n.on("conclude",W),n.on("drain",B),n.on("error",F),n.on("message",q),n.on("ping",G),n.on("pong",V),i.onerror=K,e.setTimeout&&e.setTimeout(0),e.setNoDelay&&e.setNoDelay(),t.length>0&&e.unshift(t),e.on("close",X),e.on("data",Q),e.on("end",Y),e.on("error",Z),this._readyState=L.OPEN,this.emit("open")}emitClose(){if(!this._socket){this._readyState=L.CLOSED,this.emit("close",this._closeCode,this._closeMessage);return}this._extensions[d.extensionName]&&this._extensions[d.extensionName].cleanup(),this._receiver.removeAllListeners(),this._readyState=L.CLOSED,this.emit("close",this._closeCode,this._closeMessage)}close(e,t){if(this.readyState!==L.CLOSED){if(this.readyState===L.CONNECTING){$(this,this._req,"WebSocket was closed before the connection was established");return}if(this.readyState===L.CLOSING){this._closeFrameSent&&(this._closeFrameReceived||this._receiver._writableState.errorEmitted)&&this._socket.end();return}this._readyState=L.CLOSING,this._sender.close(e,t,!this._isServer,e=>{!e&&(this._closeFrameSent=!0,(this._closeFrameReceived||this._receiver._writableState.errorEmitted)&&this._socket.end())}),J(this)}}pause(){this.readyState!==L.CONNECTING&&this.readyState!==L.CLOSED&&(this._paused=!0,this._socket.pause())}ping(e,t,r){if(this.readyState===L.CONNECTING)throw Error("WebSocket is not open: readyState 0 (CONNECTING)");if("function"==typeof e?(r=e,e=t=void 0):"function"==typeof t&&(r=t,t=void 0),"number"==typeof e&&(e=e.toString()),this.readyState!==L.OPEN){D(this,e,r);return}void 0===t&&(t=!this._isServer),this._sender.ping(e||g,t,r)}pong(e,t,r){if(this.readyState===L.CONNECTING)throw Error("WebSocket is not open: readyState 0 (CONNECTING)");if("function"==typeof e?(r=e,e=t=void 0):"function"==typeof t&&(r=t,t=void 0),"number"==typeof e&&(e=e.toString()),this.readyState!==L.OPEN){D(this,e,r);return}void 0===t&&(t=!this._isServer),this._sender.pong(e||g,t,r)}resume(){this.readyState!==L.CONNECTING&&this.readyState!==L.CLOSED&&(this._paused=!1,this._receiver._writableState.needDrain||this._socket.resume())}send(e,t,r){if(this.readyState===L.CONNECTING)throw Error("WebSocket is not open: readyState 0 (CONNECTING)");if("function"==typeof t&&(r=t,t={}),"number"==typeof e&&(e=e.toString()),this.readyState!==L.OPEN){D(this,e,r);return}let n={binary:"string"!=typeof e,mask:!this._isServer,compress:!0,fin:!0,...t};this._extensions[d.extensionName]||(n.compress=!1),this._sender.send(e||g,n,r)}terminate(){if(this.readyState!==L.CLOSED){if(this.readyState===L.CONNECTING){$(this,this._req,"WebSocket was closed before the connection was established");return}this._socket&&(this._readyState=L.CLOSING,this._socket.destroy())}}}function I(e,t){e._readyState=L.CLOSING,e._errorEmitted=!0,e.emit("error",t),e.emitClose()}function U(e){return e.path=e.socketPath,s.connect(e)}function M(e){return e.path=void 0,e.servername||""===e.servername||(e.servername=s.isIP(e.host)?"":e.host),a.connect(e)}function $(e,t,r){e._readyState=L.CLOSING;let n=Error(r);Error.captureStackTrace(n,$),t.setHeader?(t[A]=!0,t.abort(),t.socket&&!t.socket.destroyed&&t.socket.destroy(),process.nextTick(I,e,n)):(t.destroy(n),t.once("error",e.emit.bind(e,"error")),t.once("close",e.emitClose.bind(e)))}function D(e,t,r){if(t){let r=_(t)?t.size:R(t).length;e._socket?e._sender._bufferedBytes+=r:e._bufferedAmount+=r}if(r){let t=Error(`WebSocket is not open: readyState ${e.readyState} (${N[e.readyState]})`);process.nextTick(r,t)}}function W(e,t){let r=this[S];r._closeFrameReceived=!0,r._closeMessage=t,r._closeCode=e,void 0!==r._socket[S]&&(r._socket.removeListener("data",Q),process.nextTick(H,r._socket),1005===e?r.close():r.close(e,t))}function B(){let e=this[S];e.isPaused||e._socket.resume()}function F(e){let t=this[S];void 0!==t._socket[S]&&(t._socket.removeListener("data",Q),process.nextTick(H,t._socket),t.close(e[E])),t._errorEmitted||(t._errorEmitted=!0,t.emit("error",e))}function z(){this[S].emitClose()}function q(e,t){this[S].emit("message",e,t)}function G(e){let t=this[S];t._autoPong&&t.pong(e,!this._isServer,x),t.emit("ping",e)}function V(e){this[S].emit("pong",e)}function H(e){e.resume()}function K(e){let t=this[S];t.readyState===L.CLOSED||(t.readyState===L.OPEN&&(t._readyState=L.CLOSING,J(t)),this._socket.end(),t._errorEmitted||(t._errorEmitted=!0,t.emit("error",e)))}function J(e){e._closeTimer=setTimeout(e._socket.destroy.bind(e._socket),3e4)}function X(){let e;let t=this[S];this.removeListener("close",X),this.removeListener("data",Q),this.removeListener("end",Y),t._readyState=L.CLOSING,this._readableState.endEmitted||t._closeFrameReceived||t._receiver._writableState.errorEmitted||null===(e=t._socket.read())||t._receiver.write(e),t._receiver.end(),this[S]=void 0,clearTimeout(t._closeTimer),t._receiver._writableState.finished||t._receiver._writableState.errorEmitted?t.emitClose():(t._receiver.on("error",z),t._receiver.on("finish",z))}function Q(e){this[S]._receiver.write(e)||this.pause()}function Y(){let e=this[S];e._readyState=L.CLOSING,e._receiver.end(),this.end()}function Z(){let e=this[S];this.removeListener("error",Z),this.on("error",x),e&&(e._readyState=L.CLOSING,this.destroy())}Object.defineProperty(L,"CONNECTING",{enumerable:!0,value:N.indexOf("CONNECTING")}),Object.defineProperty(L.prototype,"CONNECTING",{enumerable:!0,value:N.indexOf("CONNECTING")}),Object.defineProperty(L,"OPEN",{enumerable:!0,value:N.indexOf("OPEN")}),Object.defineProperty(L.prototype,"OPEN",{enumerable:!0,value:N.indexOf("OPEN")}),Object.defineProperty(L,"CLOSING",{enumerable:!0,value:N.indexOf("CLOSING")}),Object.defineProperty(L.prototype,"CLOSING",{enumerable:!0,value:N.indexOf("CLOSING")}),Object.defineProperty(L,"CLOSED",{enumerable:!0,value:N.indexOf("CLOSED")}),Object.defineProperty(L.prototype,"CLOSED",{enumerable:!0,value:N.indexOf("CLOSED")}),["binaryType","bufferedAmount","extensions","isPaused","protocol","readyState","url"].forEach(e=>{Object.defineProperty(L.prototype,e,{enumerable:!0})}),["open","error","close","message"].forEach(e=>{Object.defineProperty(L.prototype,`on${e}`,{enumerable:!0,get(){for(let t of this.listeners(e))if(t[v])return t[w];return null},set(t){for(let t of this.listeners(e))if(t[v]){this.removeListener(e,t);break}"function"==typeof t&&this.addEventListener(e,t,{[v]:!0})}})}),L.prototype.addEventListener=k,L.prototype.removeEventListener=T,e.exports=L},7064:e=>{(()=>{"use strict";"undefined"!=typeof __nccwpck_require__&&(__nccwpck_require__.ab=__dirname+"/");var t={};(()=>{t.parse=function(t,r){if("string"!=typeof t)throw TypeError("argument str must be a string");for(var i={},o=t.split(n),s=(r||{}).decode||e,a=0;a<o.length;a++){var c=o[a],l=c.indexOf("=");if(!(l<0)){var u=c.substr(0,l).trim(),h=c.substr(++l,c.length).trim();'"'==h[0]&&(h=h.slice(1,-1)),void 0==i[u]&&(i[u]=function(e,t){try{return t(e)}catch(t){return e}}(h,s))}}return i},t.serialize=function(e,t,n){var o=n||{},s=o.encode||r;if("function"!=typeof s)throw TypeError("option encode is invalid");if(!i.test(e))throw TypeError("argument name is invalid");var a=s(t);if(a&&!i.test(a))throw TypeError("argument val is invalid");var c=e+"="+a;if(null!=o.maxAge){var l=o.maxAge-0;if(isNaN(l)||!isFinite(l))throw TypeError("option maxAge is invalid");c+="; Max-Age="+Math.floor(l)}if(o.domain){if(!i.test(o.domain))throw TypeError("option domain is invalid");c+="; Domain="+o.domain}if(o.path){if(!i.test(o.path))throw TypeError("option path is invalid");c+="; Path="+o.path}if(o.expires){if("function"!=typeof o.expires.toUTCString)throw TypeError("option expires is invalid");c+="; Expires="+o.expires.toUTCString()}if(o.httpOnly&&(c+="; HttpOnly"),o.secure&&(c+="; Secure"),o.sameSite)switch("string"==typeof o.sameSite?o.sameSite.toLowerCase():o.sameSite){case!0:case"strict":c+="; SameSite=Strict";break;case"lax":c+="; SameSite=Lax";break;case"none":c+="; SameSite=None";break;default:throw TypeError("option sameSite is invalid")}return c};var e=decodeURIComponent,r=encodeURIComponent,n=/; */,i=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/})(),e.exports=t})()},914:e=>{(()=>{"use strict";"undefined"!=typeof __nccwpck_require__&&(__nccwpck_require__.ab=__dirname+"/");var t={};(()=>{function e(e,t){void 0===t&&(t={});for(var r=function(e){for(var t=[],r=0;r<e.length;){var n=e[r];if("*"===n||"+"===n||"?"===n){t.push({type:"MODIFIER",index:r,value:e[r++]});continue}if("\\"===n){t.push({type:"ESCAPED_CHAR",index:r++,value:e[r++]});continue}if("{"===n){t.push({type:"OPEN",index:r,value:e[r++]});continue}if("}"===n){t.push({type:"CLOSE",index:r,value:e[r++]});continue}if(":"===n){for(var i="",o=r+1;o<e.length;){var s=e.charCodeAt(o);if(s>=48&&s<=57||s>=65&&s<=90||s>=97&&s<=122||95===s){i+=e[o++];continue}break}if(!i)throw TypeError("Missing parameter name at "+r);t.push({type:"NAME",index:r,value:i}),r=o;continue}if("("===n){var a=1,c="",o=r+1;if("?"===e[o])throw TypeError('Pattern cannot start with "?" at '+o);for(;o<e.length;){if("\\"===e[o]){c+=e[o++]+e[o++];continue}if(")"===e[o]){if(0==--a){o++;break}}else if("("===e[o]&&(a++,"?"!==e[o+1]))throw TypeError("Capturing groups are not allowed at "+o);c+=e[o++]}if(a)throw TypeError("Unbalanced pattern at "+r);if(!c)throw TypeError("Missing pattern at "+r);t.push({type:"PATTERN",index:r,value:c}),r=o;continue}t.push({type:"CHAR",index:r,value:e[r++]})}return t.push({type:"END",index:r,value:""}),t}(e),n=t.prefixes,o=void 0===n?"./":n,s="[^"+i(t.delimiter||"/#?")+"]+?",a=[],c=0,l=0,u="",h=function(e){if(l<r.length&&r[l].type===e)return r[l++].value},f=function(e){var t=h(e);if(void 0!==t)return t;var n=r[l];throw TypeError("Unexpected "+n.type+" at "+n.index+", expected "+e)},d=function(){for(var e,t="";e=h("CHAR")||h("ESCAPED_CHAR");)t+=e;return t};l<r.length;){var p=h("CHAR"),m=h("NAME"),_=h("PATTERN");if(m||_){var y=p||"";-1===o.indexOf(y)&&(u+=y,y=""),u&&(a.push(u),u=""),a.push({name:m||c++,prefix:y,suffix:"",pattern:_||s,modifier:h("MODIFIER")||""});continue}var g=p||h("ESCAPED_CHAR");if(g){u+=g;continue}if(u&&(a.push(u),u=""),h("OPEN")){var y=d(),b=h("NAME")||"",v=h("PATTERN")||"",w=d();f("CLOSE"),a.push({name:b||(v?c++:""),pattern:b&&!v?s:v,prefix:y,suffix:w,modifier:h("MODIFIER")||""});continue}f("END")}return a}function r(e,t){void 0===t&&(t={});var r=o(t),n=t.encode,i=void 0===n?function(e){return e}:n,s=t.validate,a=void 0===s||s,c=e.map(function(e){if("object"==typeof e)return RegExp("^(?:"+e.pattern+")$",r)});return function(t){for(var r="",n=0;n<e.length;n++){var o=e[n];if("string"==typeof o){r+=o;continue}var s=t?t[o.name]:void 0,l="?"===o.modifier||"*"===o.modifier,u="*"===o.modifier||"+"===o.modifier;if(Array.isArray(s)){if(!u)throw TypeError('Expected "'+o.name+'" to not repeat, but got an array');if(0===s.length){if(l)continue;throw TypeError('Expected "'+o.name+'" to not be empty')}for(var h=0;h<s.length;h++){var f=i(s[h],o);if(a&&!c[n].test(f))throw TypeError('Expected all "'+o.name+'" to match "'+o.pattern+'", but got "'+f+'"');r+=o.prefix+f+o.suffix}continue}if("string"==typeof s||"number"==typeof s){var f=i(String(s),o);if(a&&!c[n].test(f))throw TypeError('Expected "'+o.name+'" to match "'+o.pattern+'", but got "'+f+'"');r+=o.prefix+f+o.suffix;continue}if(!l){var d=u?"an array":"a string";throw TypeError('Expected "'+o.name+'" to be '+d)}}return r}}function n(e,t,r){void 0===r&&(r={});var n=r.decode,i=void 0===n?function(e){return e}:n;return function(r){var n=e.exec(r);if(!n)return!1;for(var o=n[0],s=n.index,a=Object.create(null),c=1;c<n.length;c++)!function(e){if(void 0!==n[e]){var r=t[e-1];"*"===r.modifier||"+"===r.modifier?a[r.name]=n[e].split(r.prefix+r.suffix).map(function(e){return i(e,r)}):a[r.name]=i(n[e],r)}}(c);return{path:o,index:s,params:a}}}function i(e){return e.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1")}function o(e){return e&&e.sensitive?"":"i"}function s(e,t,r){void 0===r&&(r={});for(var n=r.strict,s=void 0!==n&&n,a=r.start,c=r.end,l=r.encode,u=void 0===l?function(e){return e}:l,h="["+i(r.endsWith||"")+"]|$",f="["+i(r.delimiter||"/#?")+"]",d=void 0===a||a?"^":"",p=0;p<e.length;p++){var m=e[p];if("string"==typeof m)d+=i(u(m));else{var _=i(u(m.prefix)),y=i(u(m.suffix));if(m.pattern){if(t&&t.push(m),_||y){if("+"===m.modifier||"*"===m.modifier){var g="*"===m.modifier?"?":"";d+="(?:"+_+"((?:"+m.pattern+")(?:"+y+_+"(?:"+m.pattern+"))*)"+y+")"+g}else d+="(?:"+_+"("+m.pattern+")"+y+")"+m.modifier}else d+="("+m.pattern+")"+m.modifier}else d+="(?:"+_+y+")"+m.modifier}}if(void 0===c||c)s||(d+=f+"?"),d+=r.endsWith?"(?="+h+")":"$";else{var b=e[e.length-1],v="string"==typeof b?f.indexOf(b[b.length-1])>-1:void 0===b;s||(d+="(?:"+f+"(?="+h+"))?"),v||(d+="(?="+f+"|"+h+")")}return new RegExp(d,o(r))}function a(t,r,n){return t instanceof RegExp?function(e,t){if(!t)return e;var r=e.source.match(/\((?!\?)/g);if(r)for(var n=0;n<r.length;n++)t.push({name:n,prefix:"",suffix:"",modifier:"",pattern:""});return e}(t,r):Array.isArray(t)?RegExp("(?:"+t.map(function(e){return a(e,r,n).source}).join("|")+")",o(n)):s(e(t,n),r,n)}Object.defineProperty(t,"__esModule",{value:!0}),t.parse=e,t.compile=function(t,n){return r(e(t,n),n)},t.tokensToFunction=r,t.match=function(e,t){var r=[];return n(a(e,r,t),r,t)},t.regexpToFunction=n,t.tokensToRegexp=s,t.pathToRegexp=a})(),e.exports=t})()},481:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{fillMetadataSegment:function(){return f},normalizeMetadataPageToRoute:function(){return p},normalizeMetadataRoute:function(){return d}});let n=r(1437),i=function(e){return e&&e.__esModule?e:{default:e}}(r(3134)),o=r(8954),s=r(3999),a=r(463),c=r(6945),l=r(541),u=r(1562);function h(e){let t=i.default.dirname(e);if(e.endsWith("/sitemap"))return"";let r="";return t.split("/").some(e=>(0,u.isGroupSegment)(e)||(0,u.isParallelRouteSegment)(e))&&(r=(0,a.djb2Hash)(t).toString(36).slice(0,6)),r}function f(e,t,r){let n=(0,c.normalizeAppPath)(e),a=(0,s.getNamedRouteRegex)(n,!1),u=(0,o.interpolateDynamicPath)(n,t,a),{name:f,ext:d}=i.default.parse(r),p=h(i.default.posix.join(e,f)),m=p?`-${p}`:"";return(0,l.normalizePathSep)(i.default.join(u,`${f}${m}${d}`))}function d(e){if(!(0,n.isMetadataRoute)(e))return e;let t=e,r="";if("/robots"===e?t+=".txt":"/manifest"===e?t+=".webmanifest":r=h(e),!t.endsWith("/route")){let{dir:e,name:n,ext:o}=i.default.parse(t);t=i.default.posix.join(e,`${n}${r?`-${r}`:""}${o}`,"route")}return t}function p(e,t){let r=e.endsWith("/route"),n=r?e.slice(0,-6):e,i=n.endsWith("/sitemap")?".xml":"";return(t?`${n}/[__metadata_id__]`:`${n}${i}`)+(r?"/route":"")}},1437:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{STATIC_METADATA_IMAGES:function(){return i},getExtensionRegexString:function(){return s},isMetadataRoute:function(){return u},isMetadataRouteFile:function(){return a},isStaticMetadataRoute:function(){return l},isStaticMetadataRouteFile:function(){return c}});let n=r(541),i={icon:{filename:"icon",extensions:["ico","jpg","jpeg","png","svg"]},apple:{filename:"apple-icon",extensions:["jpg","jpeg","png"]},favicon:{filename:"favicon",extensions:["ico"]},openGraph:{filename:"opengraph-image",extensions:["jpg","jpeg","png","gif"]},twitter:{filename:"twitter-image",extensions:["jpg","jpeg","png","gif"]}},o=["js","jsx","ts","tsx"],s=(e,t)=>t?`(?:\\.(${e.join("|")})|((\\[\\])?\\.(${t.join("|")})))`:`\\.(?:${e.join("|")})`;function a(e,t,r){let o=[RegExp(`^[\\\\/]robots${r?`${s(t.concat("txt"),null)}$`:""}`),RegExp(`^[\\\\/]manifest${r?`${s(t.concat("webmanifest","json"),null)}$`:""}`),RegExp("^[\\\\/]favicon\\.ico$"),RegExp(`[\\\\/]sitemap${r?`${s(["xml"],t)}$`:""}`),RegExp(`[\\\\/]${i.icon.filename}\\d?${r?`${s(i.icon.extensions,t)}$`:""}`),RegExp(`[\\\\/]${i.apple.filename}\\d?${r?`${s(i.apple.extensions,t)}$`:""}`),RegExp(`[\\\\/]${i.openGraph.filename}\\d?${r?`${s(i.openGraph.extensions,t)}$`:""}`),RegExp(`[\\\\/]${i.twitter.filename}\\d?${r?`${s(i.twitter.extensions,t)}$`:""}`)],a=(0,n.normalizePathSep)(e);return o.some(e=>e.test(a))}function c(e){return a(e,[],!0)}function l(e){return"/robots"===e||"/manifest"===e||c(e)}function u(e){let t=e.replace(/^\/?app\//,"").replace(/\/route$/,"");return"/"!==t[0]&&(t="/"+t),!t.endsWith("/page")&&a(t,o,!1)}},405:(e,t,r)=>{"use strict";function n(e){return function(){let{cookie:t}=e;if(!t)return{};let{parse:n}=r(7064);return n(Array.isArray(t)?t.join("; "):t)}}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"getCookieParser",{enumerable:!0,get:function(){return n}})},9544:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{INTERCEPTION_ROUTE_MARKERS:function(){return i},extractInterceptionRouteInformation:function(){return s},isInterceptionRouteAppPath:function(){return o}});let n=r(6945),i=["(..)(..)","(.)","(..)","(...)"];function o(e){return void 0!==e.split("/").find(e=>i.find(t=>e.startsWith(t)))}function s(e){let t,r,o;for(let n of e.split("/"))if(r=i.find(e=>n.startsWith(e))){[t,o]=e.split(r,2);break}if(!t||!r||!o)throw Error(`Invalid interception route: ${e}. Must be in the format /<intercepting route>/(..|...|..)(..)/<intercepted route>`);switch(t=(0,n.normalizeAppPath)(t),r){case"(.)":o="/"===t?`/${o}`:t+"/"+o;break;case"(..)":if("/"===t)throw Error(`Invalid interception route: ${e}. Cannot use (..) marker at the root level, use (.) instead.`);o=t.split("/").slice(0,-1).concat(o).join("/");break;case"(...)":o="/"+o;break;case"(..)(..)":let s=t.split("/");if(s.length<=2)throw Error(`Invalid interception route: ${e}. Cannot use (..)(..) marker at the root level or one level up.`);o=s.slice(0,-2).concat(o).join("/");break;default:throw Error("Invariant: unexpected marker")}return{interceptingRoute:t,interceptedRoute:o}}},8954:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{getUtils:function(){return m},interpolateDynamicPath:function(){return d},normalizeDynamicRouteParams:function(){return p},normalizeVercelUrl:function(){return f}});let n=r(9551),i=r(5412),o=r(1996),s=r(3999),a=r(7013),c=r(2361),l=r(9884),u=r(6945),h=r(2436);function f(e,t,r,i,o){if(i&&t&&o){let t=(0,n.parse)(e.url,!0);for(let e of(delete t.search,Object.keys(t.query))){let n=e!==h.NEXT_QUERY_PARAM_PREFIX&&e.startsWith(h.NEXT_QUERY_PARAM_PREFIX),i=e!==h.NEXT_INTERCEPTION_MARKER_PREFIX&&e.startsWith(h.NEXT_INTERCEPTION_MARKER_PREFIX);(n||i||(r||Object.keys(o.groups)).includes(e))&&delete t.query[e]}e.url=(0,n.format)(t)}}function d(e,t,r){if(!r)return e;for(let n of Object.keys(r.groups)){let i;let{optional:o,repeat:s}=r.groups[n],a=`[${s?"...":""}${n}]`;o&&(a=`[${a}]`);let c=t[n];i=Array.isArray(c)?c.map(e=>e&&encodeURIComponent(e)).join("/"):c?encodeURIComponent(c):"",e=e.replaceAll(a,i)}return e}function p(e,t,r,n){let i=!0;return r?{params:e=Object.keys(r.groups).reduce((o,s)=>{let a=e[s];"string"==typeof a&&(a=(0,u.normalizeRscURL)(a)),Array.isArray(a)&&(a=a.map(e=>("string"==typeof e&&(e=(0,u.normalizeRscURL)(e)),e)));let c=n[s],l=r.groups[s].optional;return((Array.isArray(c)?c.some(e=>Array.isArray(a)?a.some(t=>t.includes(e)):null==a?void 0:a.includes(e)):null==a?void 0:a.includes(c))||void 0===a&&!(l&&t))&&(i=!1),l&&(!a||Array.isArray(a)&&1===a.length&&("index"===a[0]||a[0]===`[[...${s}]]`))&&(a=void 0,delete e[s]),a&&"string"==typeof a&&r.groups[s].repeat&&(a=a.split("/")),a&&(o[s]=a),o},{}),hasValidParams:i}:{params:e,hasValidParams:!1}}function m({page:e,i18n:t,basePath:r,rewrites:n,pageIsDynamic:u,trailingSlash:m,caseSensitive:_}){let y,g,b;return u&&(y=(0,s.getNamedRouteRegex)(e,!1),b=(g=(0,a.getRouteMatcher)(y))(e)),{handleRewrites:function(s,a){let h={},f=a.pathname,d=n=>{let l=(0,o.getPathMatch)(n.source+(m?"(/)?":""),{removeUnnamedParams:!0,strict:!0,sensitive:!!_})(a.pathname);if((n.has||n.missing)&&l){let e=(0,c.matchHas)(s,a.query,n.has,n.missing);e?Object.assign(l,e):l=!1}if(l){let{parsedDestination:o,destQuery:s}=(0,c.prepareDestination)({appendParamsToQuery:!0,destination:n.destination,params:l,query:a.query});if(o.protocol)return!0;if(Object.assign(h,s,l),Object.assign(a.query,o.query),delete o.query,Object.assign(a,o),f=a.pathname,r&&(f=f.replace(RegExp(`^${r}`),"")||"/"),t){let e=(0,i.normalizeLocalePath)(f,t.locales);f=e.pathname,a.query.nextInternalLocale=e.detectedLocale||l.nextInternalLocale}if(f===e)return!0;if(u&&g){let e=g(f);if(e)return a.query={...a.query,...e},!0}}return!1};for(let e of n.beforeFiles||[])d(e);if(f!==e){let t=!1;for(let e of n.afterFiles||[])if(t=d(e))break;if(!t&&!(()=>{let t=(0,l.removeTrailingSlash)(f||"");return t===(0,l.removeTrailingSlash)(e)||(null==g?void 0:g(t))})()){for(let e of n.fallback||[])if(t=d(e))break}}return h},defaultRouteRegex:y,dynamicRouteMatcher:g,defaultRouteMatches:b,getParamsFromRouteMatches:function(e,r,n){return(0,a.getRouteMatcher)(function(){let{groups:e,routeKeys:i}=y;return{re:{exec:o=>{let s=Object.fromEntries(new URLSearchParams(o)),a=t&&n&&s["1"]===n;for(let e of Object.keys(s)){let t=s[e];e!==h.NEXT_QUERY_PARAM_PREFIX&&e.startsWith(h.NEXT_QUERY_PARAM_PREFIX)&&(s[e.substring(h.NEXT_QUERY_PARAM_PREFIX.length)]=t,delete s[e])}let c=Object.keys(i||{}),l=e=>{if(t){let i=Array.isArray(e),o=i?e[0]:e;if("string"==typeof o&&t.locales.some(e=>e.toLowerCase()===o.toLowerCase()&&(n=e,r.locale=n,!0)))return i&&e.splice(0,1),!i||0===e.length}return!1};return c.every(e=>s[e])?c.reduce((t,r)=>{let n=null==i?void 0:i[r];return n&&!l(s[r])&&(t[e[n].pos]=s[r]),t},{}):Object.keys(s).reduce((e,t)=>{if(!l(s[t])){let r=t;return a&&(r=parseInt(t,10)-1+""),Object.assign(e,{[r]:s[t]})}return e},{})}},groups:e}}())(e.headers["x-now-route-matches"])},normalizeDynamicRouteParams:(e,t)=>p(e,t,y,b),normalizeVercelUrl:(e,t,r)=>f(e,t,r,u,y),interpolateDynamicPath:(e,t)=>d(e,t,y)}}},6864:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"escapeStringRegexp",{enumerable:!0,get:function(){return i}});let r=/[|\\{}()[\]^$+*?.-]/,n=/[|\\{}()[\]^$+*?.-]/g;function i(e){return r.test(e)?e.replace(n,"\\$&"):e}},463:(e,t)=>{"use strict";function r(e){let t=5381;for(let r=0;r<e.length;r++)t=(t<<5)+t+e.charCodeAt(r)&0xffffffff;return t>>>0}function n(e){return r(e).toString(36).slice(0,5)}Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{djb2Hash:function(){return r},hexHash:function(){return n}})},7048:(e,t)=>{"use strict";function r(e){return e.startsWith("/")?e:"/"+e}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"ensureLeadingSlash",{enumerable:!0,get:function(){return r}})},541:(e,t)=>{"use strict";function r(e){return e.replace(/\\/g,"/")}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"normalizePathSep",{enumerable:!0,get:function(){return r}})},6945:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{normalizeAppPath:function(){return o},normalizeRscURL:function(){return s}});let n=r(7048),i=r(1562);function o(e){return(0,n.ensureLeadingSlash)(e.split("/").reduce((e,t,r,n)=>!t||(0,i.isGroupSegment)(t)||"@"===t[0]||("page"===t||"route"===t)&&r===n.length-1?e:e+"/"+t,""))}function s(e){return e.replace(/\.rsc($|\?)/,"$1")}},8093:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"parseRelativeUrl",{enumerable:!0,get:function(){return i}}),r(2774);let n=r(7026);function i(e,t,r){void 0===r&&(r=!0);let i=new URL("http://n"),o=t?new URL(t,i):e.startsWith(".")?new URL("http://n"):i,{pathname:s,searchParams:a,search:c,hash:l,href:u,origin:h}=new URL(e,o);if(h!==i.origin)throw Error("invariant: invalid relative URL, router received "+e);return{pathname:s,query:r?(0,n.searchParamsToUrlQuery)(a):void 0,search:c,hash:l,href:u.slice(h.length)}}},3860:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"parseUrl",{enumerable:!0,get:function(){return o}});let n=r(7026),i=r(8093);function o(e){if(e.startsWith("/"))return(0,i.parseRelativeUrl)(e);let t=new URL(e);return{hash:t.hash,hostname:t.hostname,href:t.href,pathname:t.pathname,port:t.port,protocol:t.protocol,query:(0,n.searchParamsToUrlQuery)(t.searchParams),search:t.search}}},1996:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"getPathMatch",{enumerable:!0,get:function(){return i}});let n=r(914);function i(e,t){let r=[],i=(0,n.pathToRegexp)(e,r,{delimiter:"/",sensitive:"boolean"==typeof(null==t?void 0:t.sensitive)&&t.sensitive,strict:null==t?void 0:t.strict}),o=(0,n.regexpToFunction)((null==t?void 0:t.regexModifier)?new RegExp(t.regexModifier(i.source),i.flags):i,r);return(e,n)=>{if("string"!=typeof e)return!1;let i=o(e);if(!i)return!1;if(null==t?void 0:t.removeUnnamedParams)for(let e of r)"number"==typeof e.name&&delete i.params[e.name];return{...n,...i.params}}}},2361:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{compileNonPath:function(){return h},matchHas:function(){return u},prepareDestination:function(){return f}});let n=r(914),i=r(6864),o=r(3860),s=r(9544),a=r(2160),c=r(405);function l(e){return e.replace(/__ESC_COLON_/gi,":")}function u(e,t,r,n){void 0===r&&(r=[]),void 0===n&&(n=[]);let i={},o=r=>{let n;let o=r.key;switch(r.type){case"header":o=o.toLowerCase(),n=e.headers[o];break;case"cookie":n="cookies"in e?e.cookies[r.key]:(0,c.getCookieParser)(e.headers)()[r.key];break;case"query":n=t[o];break;case"host":{let{host:t}=(null==e?void 0:e.headers)||{};n=null==t?void 0:t.split(":",1)[0].toLowerCase()}}if(!r.value&&n)return i[function(e){let t="";for(let r=0;r<e.length;r++){let n=e.charCodeAt(r);(n>64&&n<91||n>96&&n<123)&&(t+=e[r])}return t}(o)]=n,!0;if(n){let e=RegExp("^"+r.value+"$"),t=Array.isArray(n)?n.slice(-1)[0].match(e):n.match(e);if(t)return Array.isArray(t)&&(t.groups?Object.keys(t.groups).forEach(e=>{i[e]=t.groups[e]}):"host"===r.type&&t[0]&&(i.host=t[0])),!0}return!1};return!!r.every(e=>o(e))&&!n.some(e=>o(e))&&i}function h(e,t){if(!e.includes(":"))return e;for(let r of Object.keys(t))e.includes(":"+r)&&(e=e.replace(RegExp(":"+r+"\\*","g"),":"+r+"--ESCAPED_PARAM_ASTERISKS").replace(RegExp(":"+r+"\\?","g"),":"+r+"--ESCAPED_PARAM_QUESTION").replace(RegExp(":"+r+"\\+","g"),":"+r+"--ESCAPED_PARAM_PLUS").replace(RegExp(":"+r+"(?!\\w)","g"),"--ESCAPED_PARAM_COLON"+r));return e=e.replace(/(:|\*|\?|\+|\(|\)|\{|\})/g,"\\$1").replace(/--ESCAPED_PARAM_PLUS/g,"+").replace(/--ESCAPED_PARAM_COLON/g,":").replace(/--ESCAPED_PARAM_QUESTION/g,"?").replace(/--ESCAPED_PARAM_ASTERISKS/g,"*"),(0,n.compile)("/"+e,{validate:!1})(t).slice(1)}function f(e){let t;let r=Object.assign({},e.query);delete r.__nextLocale,delete r.__nextDefaultLocale,delete r.__nextDataReq,delete r.__nextInferredLocaleFromDefault,delete r[a.NEXT_RSC_UNION_QUERY];let c=e.destination;for(let t of Object.keys({...e.params,...r}))c=t?c.replace(RegExp(":"+(0,i.escapeStringRegexp)(t),"g"),"__ESC_COLON_"+t):c;let u=(0,o.parseUrl)(c),f=u.query,d=l(""+u.pathname+(u.hash||"")),p=l(u.hostname||""),m=[],_=[];(0,n.pathToRegexp)(d,m),(0,n.pathToRegexp)(p,_);let y=[];m.forEach(e=>y.push(e.name)),_.forEach(e=>y.push(e.name));let g=(0,n.compile)(d,{validate:!1}),b=(0,n.compile)(p,{validate:!1});for(let[t,r]of Object.entries(f))Array.isArray(r)?f[t]=r.map(t=>h(l(t),e.params)):"string"==typeof r&&(f[t]=h(l(r),e.params));let v=Object.keys(e.params).filter(e=>"nextInternalLocale"!==e);if(e.appendParamsToQuery&&!v.some(e=>y.includes(e)))for(let t of v)t in f||(f[t]=e.params[t]);if((0,s.isInterceptionRouteAppPath)(d))for(let t of d.split("/")){let r=s.INTERCEPTION_ROUTE_MARKERS.find(e=>t.startsWith(e));if(r){"(..)(..)"===r?(e.params["0"]="(..)",e.params["1"]="(..)"):e.params["0"]=r;break}}try{let[r,n]=(t=g(e.params)).split("#",2);u.hostname=b(e.params),u.pathname=r,u.hash=(n?"#":"")+(n||""),delete u.search}catch(e){if(e.message.match(/Expected .*? to not repeat, but got an array/))throw Error("To use a multi-match in the destination you must add `*` at the end of the param name to signify it should repeat. https://nextjs.org/docs/messages/invalid-multi-match");throw e}return u.query={...r,...u.query},{newUrl:t,destQuery:f,parsedDestination:u}}},7026:(e,t)=>{"use strict";function r(e){let t={};return e.forEach((e,r)=>{void 0===t[r]?t[r]=e:Array.isArray(t[r])?t[r].push(e):t[r]=[t[r],e]}),t}function n(e){return"string"!=typeof e&&("number"!=typeof e||isNaN(e))&&"boolean"!=typeof e?"":String(e)}function i(e){let t=new URLSearchParams;return Object.entries(e).forEach(e=>{let[r,i]=e;Array.isArray(i)?i.forEach(e=>t.append(r,n(e))):t.set(r,n(i))}),t}function o(e){for(var t=arguments.length,r=Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return r.forEach(t=>{Array.from(t.keys()).forEach(t=>e.delete(t)),t.forEach((t,r)=>e.append(r,t))}),e}Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{assign:function(){return o},searchParamsToUrlQuery:function(){return r},urlQueryToSearchParams:function(){return i}})},7013:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"getRouteMatcher",{enumerable:!0,get:function(){return i}});let n=r(2774);function i(e){let{re:t,groups:r}=e;return e=>{let i=t.exec(e);if(!i)return!1;let o=e=>{try{return decodeURIComponent(e)}catch(e){throw new n.DecodeError("failed to decode param")}},s={};return Object.keys(r).forEach(e=>{let t=r[e],n=i[t.pos];void 0!==n&&(s[e]=~n.indexOf("/")?n.split("/").map(e=>o(e)):t.repeat?[o(n)]:o(n))}),s}}},3999:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{getNamedMiddlewareRegex:function(){return m},getNamedRouteRegex:function(){return p},getRouteRegex:function(){return h},parseParameter:function(){return c}});let n=r(2436),i=r(9544),o=r(6864),s=r(9884),a=/\[((?:\[.*\])|.+)\]/;function c(e){let t=e.match(a);return t?l(t[1]):l(e)}function l(e){let t=e.startsWith("[")&&e.endsWith("]");t&&(e=e.slice(1,-1));let r=e.startsWith("...");return r&&(e=e.slice(3)),{key:e,repeat:r,optional:t}}function u(e){let t=(0,s.removeTrailingSlash)(e).slice(1).split("/"),r={},n=1;return{parameterizedRoute:t.map(e=>{let t=i.INTERCEPTION_ROUTE_MARKERS.find(t=>e.startsWith(t)),s=e.match(a);if(t&&s){let{key:e,optional:i,repeat:a}=l(s[1]);return r[e]={pos:n++,repeat:a,optional:i},"/"+(0,o.escapeStringRegexp)(t)+"([^/]+?)"}if(!s)return"/"+(0,o.escapeStringRegexp)(e);{let{key:e,repeat:t,optional:i}=l(s[1]);return r[e]={pos:n++,repeat:t,optional:i},t?i?"(?:/(.+?))?":"/(.+?)":"/([^/]+?)"}}).join(""),groups:r}}function h(e){let{parameterizedRoute:t,groups:r}=u(e);return{re:RegExp("^"+t+"(?:/)?$"),groups:r}}function f(e){let{interceptionMarker:t,getSafeRouteKey:r,segment:n,routeKeys:i,keyPrefix:s}=e,{key:a,optional:c,repeat:u}=l(n),h=a.replace(/\W/g,"");s&&(h=""+s+h);let f=!1;(0===h.length||h.length>30)&&(f=!0),isNaN(parseInt(h.slice(0,1)))||(f=!0),f&&(h=r()),s?i[h]=""+s+a:i[h]=a;let d=t?(0,o.escapeStringRegexp)(t):"";return u?c?"(?:/"+d+"(?<"+h+">.+?))?":"/"+d+"(?<"+h+">.+?)":"/"+d+"(?<"+h+">[^/]+?)"}function d(e,t){let r;let a=(0,s.removeTrailingSlash)(e).slice(1).split("/"),c=(r=0,()=>{let e="",t=++r;for(;t>0;)e+=String.fromCharCode(97+(t-1)%26),t=Math.floor((t-1)/26);return e}),l={};return{namedParameterizedRoute:a.map(e=>{let r=i.INTERCEPTION_ROUTE_MARKERS.some(t=>e.startsWith(t)),s=e.match(/\[((?:\[.*\])|.+)\]/);if(r&&s){let[r]=e.split(s[0]);return f({getSafeRouteKey:c,interceptionMarker:r,segment:s[1],routeKeys:l,keyPrefix:t?n.NEXT_INTERCEPTION_MARKER_PREFIX:void 0})}return s?f({getSafeRouteKey:c,segment:s[1],routeKeys:l,keyPrefix:t?n.NEXT_QUERY_PARAM_PREFIX:void 0}):"/"+(0,o.escapeStringRegexp)(e)}).join(""),routeKeys:l}}function p(e,t){let r=d(e,t);return{...h(e),namedRegex:"^"+r.namedParameterizedRoute+"(?:/)?$",routeKeys:r.routeKeys}}function m(e,t){let{parameterizedRoute:r}=u(e),{catchAll:n=!0}=t;if("/"===r)return{namedRegex:"^/"+(n?".*":"")+"$"};let{namedParameterizedRoute:i}=d(e,!1);return{namedRegex:"^"+i+(n?"(?:(/.*)?)":"")+"$"}}},2774:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{DecodeError:function(){return p},MiddlewareNotFoundError:function(){return g},MissingStaticPage:function(){return y},NormalizeError:function(){return m},PageNotFoundError:function(){return _},SP:function(){return f},ST:function(){return d},WEB_VITALS:function(){return r},execOnce:function(){return n},getDisplayName:function(){return c},getLocationOrigin:function(){return s},getURL:function(){return a},isAbsoluteUrl:function(){return o},isResSent:function(){return l},loadGetInitialProps:function(){return h},normalizeRepeatedSlashes:function(){return u},stringifyError:function(){return b}});let r=["CLS","FCP","FID","INP","LCP","TTFB"];function n(e){let t,r=!1;return function(){for(var n=arguments.length,i=Array(n),o=0;o<n;o++)i[o]=arguments[o];return r||(r=!0,t=e(...i)),t}}let i=/^[a-zA-Z][a-zA-Z\d+\-.]*?:/,o=e=>i.test(e);function s(){let{protocol:e,hostname:t,port:r}=window.location;return e+"//"+t+(r?":"+r:"")}function a(){let{href:e}=window.location,t=s();return e.substring(t.length)}function c(e){return"string"==typeof e?e:e.displayName||e.name||"Unknown"}function l(e){return e.finished||e.headersSent}function u(e){let t=e.split("?");return t[0].replace(/\\/g,"/").replace(/\/\/+/g,"/")+(t[1]?"?"+t.slice(1).join("?"):"")}async function h(e,t){let r=t.res||t.ctx&&t.ctx.res;if(!e.getInitialProps)return t.ctx&&t.Component?{pageProps:await h(t.Component,t.ctx)}:{};let n=await e.getInitialProps(t);if(r&&l(r))return n;if(!n)throw Error('"'+c(e)+'.getInitialProps()" should resolve to an object. But found "'+n+'" instead.');return n}let f="undefined"!=typeof performance,d=f&&["mark","measure","getEntriesByName"].every(e=>"function"==typeof performance[e]);class p extends Error{}class m extends Error{}class _ extends Error{constructor(e){super(),this.code="ENOENT",this.name="PageNotFoundError",this.message="Cannot find module for page: "+e}}class y extends Error{constructor(e,t){super(),this.message="Failed to load static file for page: "+e+" "+t}}class g extends Error{constructor(){super(),this.code="ENOENT",this.message="Cannot find the middleware module"}}function b(e){return JSON.stringify({message:e.message,stack:e.stack})}},3016:(e,t,r)=>{"use strict";r.d(t,{UL:()=>i,En:()=>n,Tr:()=>o,NG:()=>s,Tq:()=>a,Y7:()=>c,GB:()=>l,RT:()=>u,Ib:()=>h,MB:()=>f,FK:()=>d});var n={};r.r(n),r.d(n,{apply:()=>v,applyAsync:()=>E,applyBatch:()=>x});var i={};r.r(i),r.d(i,{get:()=>O,list:()=>T});var o={};r.r(o),r.d(o,{get:()=>L,read:()=>N,upload:()=>A});var s={};r.r(s),r.d(s,{getMediaContent:()=>U,getMediaMetadata:()=>$,upload:()=>W});var a={};r.r(a),r.d(a,{get:()=>q,getFullMetadata:()=>V,getOutgoingLinkType:()=>X,list:()=>F,listOutgoingLinkTypes:()=>K});var c={};r.r(c),r.d(c,{aggregate:()=>ei,get:()=>ee,list:()=>Y,search:()=>er});var l={};r.r(l),r.d(l,{aggregate:()=>e_,createTemporary:()=>es,get:()=>ec,load:()=>eu,loadMultipleObjectTypes:()=>ef,loadObjectsOrInterfaces:()=>ep});var u={};r.r(u),r.d(u,{execute:()=>eg});var h={};r.r(h),r.d(h,{get:()=>eE,list:()=>ev});var f={};r.r(f),r.d(f,{getFirstPoint:()=>ex,getLastPoint:()=>eT,streamPoints:()=>eO});var d={};r.r(d),r.d(d,{getLatestValue:()=>eA,streamValues:()=>eN});var p=r(3868);class m extends Error{message;errorName;errorCode;statusCode;errorInstanceId;parameters;constructor(e,t,r,n,i,o){super(e),this.message=e,this.errorName=t,this.errorCode=r,this.statusCode=n,this.errorInstanceId=i,this.parameters=o}}class _ extends m{originalError;constructor(e,t,r){super(e,t),this.originalError=r}}async function y(e,[t,r,n,i,o],...s){let a=r.replace(/\{([^}]+)\}/g,()=>encodeURIComponent(s.shift())),c=1&n?s.shift():void 0,l=2&n?s.shift():void 0,u=4&n?s.shift():void 0,h=["GET","POST","PUT","DELETE","PATCH"][t];return await g(e.__osdkClientContext??e[p.j]??e,h,a,c,l,u,i,o)}async function g(e,t,r,n,i,o,s,a){var c;let l=(c=e.baseUrl,new URL(`api${r}`,c+=c.endsWith("/")?"":"/"));for(let[e,t]of Object.entries(i||{}))if(null!=t){if(Array.isArray(t))for(let r of t)l.searchParams.append(e,r);else l.searchParams.append(e,t)}let u=new Headers;u.set("Content-Type",s??"application/json"),u.set("Accept",a??"application/json"),Object.entries(o||{}).forEach(([e,t])=>{null!=t&&u.append(e,t.toString())});let h=null==n||n instanceof globalThis.Blob?n:JSON.stringify(n),f=await e.fetch(l.toString(),{body:h,method:t,headers:u});if(!f.ok)try{let e=await f.json();return new m(e.message,e.errorName,e.errorCode,f.status,e.errorInstanceId,e.parameters)}catch(e){if(e instanceof Error)return new _(e.message,"UNKNOWN");return new _("Unable to parse error response","UNKNOWN")}return 204===f.status?void 0:null==a||"application/json"===a?await f.json():f}let b=[1,"/v2/ontologies/{0}/actions/{1}/apply",3];function v(e,...t){return y(e,b,...t)}let w=[1,"/v2/ontologies/{0}/actions/{1}/applyAsync",3];function E(e,...t){return y(e,w,...t)}let S=[1,"/v2/ontologies/{0}/actions/{1}/applyBatch",3];function x(e,...t){return y(e,S,...t)}let k=[0,"/v2/ontologies/{0}/actionTypes",2];function T(e,...t){return y(e,k,...t)}let P=[0,"/v2/ontologies/{0}/actionTypes/{1}"];function O(e,...t){return y(e,P,...t)}let R=[1,"/v2/ontologies/attachments/upload",7,"*/*"];function A(e,...t){let r={...t[2],"Content-Type":t[2]?.["Content-Type"]??t[0].type,"Content-Length":t[0].size.toString()};return y(e,R,t[0],t[1],r)}let C=[0,"/v2/ontologies/attachments/{0}/content",,,"*/*"];function N(e,...t){return y(e,C,...t)}let j=[0,"/v2/ontologies/attachments/{0}"];function L(e,...t){return y(e,j,...t)}let I=[0,"/v2/ontologies/{0}/objects/{1}/{2}/media/{3}/content",2,,"*/*"];function U(e,...t){return y(e,I,...t)}let M=[0,"/v2/ontologies/{0}/objects/{1}/{2}/media/{3}/metadata",2];function $(e,...t){return y(e,M,...t)}let D=[1,"/v2/ontologies/{0}/objectTypes/{1}/media/{2}/upload",3,"*/*"];function W(e,...t){return y(e,D,...t)}let B=[0,"/v2/ontologies/{0}/objectTypes",2];function F(e,...t){return y(e,B,...t)}let z=[0,"/v2/ontologies/{0}/objectTypes/{1}"];function q(e,...t){return y(e,z,...t)}let G=[0,"/v2/ontologies/{0}/objectTypes/{1}/fullMetadata",2];function V(e,...t){return y(e,G,...t)}let H=[0,"/v2/ontologies/{0}/objectTypes/{1}/outgoingLinkTypes",2];function K(e,...t){return y(e,H,...t)}let J=[0,"/v2/ontologies/{0}/objectTypes/{1}/outgoingLinkTypes/{2}"];function X(e,...t){return y(e,J,...t)}let Q=[0,"/v2/ontologies/{0}/interfaceTypes",2];function Y(e,...t){return y(e,Q,...t)}let Z=[0,"/v2/ontologies/{0}/interfaceTypes/{1}",2];function ee(e,...t){return y(e,Z,...t)}let et=[1,"/v2/ontologies/{0}/interfaces/{1}/search",3];function er(e,...t){return y(e,et,...t)}let en=[1,"/v2/ontologies/{0}/interfaces/{1}/aggregate",3];function ei(e,...t){return y(e,en,...t)}let eo=[1,"/v2/ontologies/{0}/objectSets/createTemporary",1];function es(e,...t){return y(e,eo,...t)}let ea=[0,"/v2/ontologies/{0}/objectSets/{1}"];function ec(e,...t){return y(e,ea,...t)}let el=[1,"/v2/ontologies/{0}/objectSets/loadObjects",3];function eu(e,...t){return y(e,el,...t)}let eh=[1,"/v2/ontologies/{0}/objectSets/loadObjectsMultipleObjectTypes",3];function ef(e,...t){return y(e,eh,...t)}let ed=[1,"/v2/ontologies/{0}/objectSets/loadObjectsOrInterfaces",3];function ep(e,...t){return y(e,ed,...t)}let em=[1,"/v2/ontologies/{0}/objectSets/aggregate",3];function e_(e,...t){return y(e,em,...t)}let ey=[1,"/v2/ontologies/{0}/queries/{1}/execute",3];function eg(e,...t){return y(e,ey,...t)}let eb=[0,"/v2/ontologies/{0}/queryTypes",2];function ev(e,...t){return y(e,eb,...t)}let ew=[0,"/v2/ontologies/{0}/queryTypes/{1}"];function eE(e,...t){return y(e,ew,...t)}let eS=[0,"/v2/ontologies/{0}/objects/{1}/{2}/timeseries/{3}/firstPoint",2];function ex(e,...t){return y(e,eS,...t)}let ek=[0,"/v2/ontologies/{0}/objects/{1}/{2}/timeseries/{3}/lastPoint",2];function eT(e,...t){return y(e,ek,...t)}let eP=[1,"/v2/ontologies/{0}/objects/{1}/{2}/timeseries/{3}/streamPoints",3,,"*/*"];function eO(e,...t){return y(e,eP,...t)}let eR=[0,"/v2/ontologies/{0}/objects/{1}/{2}/timeseries/{3}/latestValue",2];function eA(e,...t){return y(e,eR,...t)}let eC=[1,"/v2/ontologies/{0}/objects/{1}/{2}/timeseries/{3}/streamValues",3,,"*/*"];function eN(e,...t){return y(e,eC,...t)}},3868:(e,t,r)=>{"use strict";r.d(t,{j:()=>n});let n=Symbol("ClientContext")},5892:(e,t,r)=>{"use strict";async function n({fetchFn:e,baseUrl:t,servicePath:r,tokenProvider:n},s,a,c,l,u,h){c&&(c instanceof URLSearchParams||c instanceof Blob||c instanceof FormData||"string"==typeof c||c instanceof ArrayBuffer||(c=JSON.stringify(c)));let f=Object.entries(l??{}).flatMap(([e,t])=>{if(null==t)return[];if(Array.isArray(t))return t.map(t=>[e,t]);let r=""+t;return 0===r.length?[]:[[e,r]]}),d=0===Object.keys(f).length?"":`?${new URLSearchParams(f).toString()}`,p=await (e??fetch)(`${t}${r}${s}${d}`,{method:a,credentials:"same-origin",headers:{"Fetch-User-Agent":"conjure-lite","Content-Type":u??"application/json",accept:h??"application/json",...n?{Authorization:`Bearer ${await n()}`}:{}},...c?{body:c}:{}});try{if(204===p.status)return;let e=await i(p);if(!p.ok)throw new o("STATUS",void 0,p.status,e);return e}catch(e){if(e instanceof o)throw e;if(e instanceof TypeError)throw new o("NETWORK",e);throw new o("OTHER",e)}}async function i(e){let t=null!=e.headers.get("Content-Type")?e.headers.get("Content-Type"):"";try{if(t.includes("application/json"))return await e.json();if(t.includes("application/octet-stream"))return await e.blob();return await e.text()}catch(t){throw new o("PARSE",t,e.status)}}r.d(t,{t:()=>n});class o{type;originalError;status;body;constructor(e,t,r,n){this.type=e,this.originalError=t,this.status=r,this.body=n}toString(){return JSON.stringify({body:this.body,originalError:this.originalError&&this.originalError.toString(),status:this.status,type:this.type},null,"  ")}}},5824:(e,t,r)=>{"use strict";r.d(t,{Ay:()=>o});let n=()=>{let e=Error("Delay aborted");return e.name="AbortError",e},i=new WeakMap,o=function({clearTimeout:e,setTimeout:t}={}){return(r,{value:o,signal:s}={})=>{let a,c,l;if(s?.aborted)return Promise.reject(n());let u=e??clearTimeout,h=()=>{u(a),l(n())},f=()=>{s&&s.removeEventListener("abort",h)},d=new Promise((e,n)=>{c=()=>{f(),e(o)},l=n,a=(t??setTimeout)(c,r)});return s&&s.addEventListener("abort",h,{once:!0}),i.set(d,()=>{u(a),a=null,c()}),d}}()},2034:(e,t,r)=>{"use strict";let n,i;function o(e,t){if(null==e)return!1;try{return e instanceof t||Object.getPrototypeOf(e)[Symbol.toStringTag]===t.prototype[Symbol.toStringTag]}catch{return!1}}r.d(t,{A6:()=>c,AJ:()=>H,EG:()=>eo,Kz:()=>es,Ot:()=>O,TP:()=>ea,YI:()=>P,Yv:()=>R,kO:()=>eg,m:()=>er,ur:()=>X}),"undefined"!=typeof navigator&&navigator.userAgent?.startsWith?.("Mozilla/5.0 ")||(n="oauth4webapi/v2.10.4");let s=Symbol(),a=Symbol(),c=Symbol(),l=Symbol(),u=new TextEncoder,h=new TextDecoder;function f(e){return"string"==typeof e?u.encode(e):h.decode(e)}function d(e){return"string"==typeof e?function(e){try{let t=atob(e.replace(/-/g,"+").replace(/_/g,"/").replace(/\s/g,"")),r=new Uint8Array(t.length);for(let e=0;e<t.length;e++)r[e]=t.charCodeAt(e);return r}catch(e){throw new y("The input to be decoded is not correctly encoded.",{cause:e})}}(e):function(e){e instanceof ArrayBuffer&&(e=new Uint8Array(e));let t=[];for(let r=0;r<e.byteLength;r+=32768)t.push(String.fromCharCode.apply(null,e.subarray(r,r+32768)));return btoa(t.join("")).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}(e)}class p{constructor(e){this.cache=new Map,this._cache=new Map,this.maxSize=e}get(e){let t=this.cache.get(e);return t||((t=this._cache.get(e))?(this.update(e,t),t):void 0)}has(e){return this.cache.has(e)||this._cache.has(e)}set(e,t){return this.cache.has(e)?this.cache.set(e,t):this.update(e,t),this}delete(e){return this.cache.has(e)?this.cache.delete(e):!!this._cache.has(e)&&this._cache.delete(e)}update(e,t){this.cache.set(e,t),this.cache.size>=this.maxSize&&(this._cache=this.cache,this.cache=new Map)}}class m extends Error{constructor(e){super(e??"operation not supported"),this.name=this.constructor.name,Error.captureStackTrace?.(this,this.constructor)}}class _ extends Error{constructor(e,t){super(e,t),this.name=this.constructor.name,Error.captureStackTrace?.(this,this.constructor)}}let y=_,g=new p(100);function b(e){return e instanceof CryptoKey}function v(e){return b(e)&&"private"===e.type}function w(e){try{let t=e.headers.get("dpop-nonce");t&&g.set(new URL(e.url).origin,t)}catch{}return e}function E(e){return!(null===e||"object"!=typeof e||Array.isArray(e))}function S(e){o(e,Headers)&&(e=Object.fromEntries(e.entries()));let t=new Headers(e);if(n&&!t.has("user-agent")&&t.set("user-agent",n),t.has("authorization"))throw TypeError('"options.headers" must not include the "authorization" header name');if(t.has("dpop"))throw TypeError('"options.headers" must not include the "dpop" header name');return t}function x(e){if("function"==typeof e&&(e=e()),!(e instanceof AbortSignal))throw TypeError('"options.signal" must return or be an instance of AbortSignal');return e}function k(e){return"string"==typeof e&&0!==e.length}function T(){return d(crypto.getRandomValues(new Uint8Array(32)))}function P(){return T()}function O(){return T()}async function R(e){if(!k(e))throw TypeError('"codeVerifier" must be a non-empty string');return d(await crypto.subtle.digest("SHA-256",f(e)))}function A(e){return encodeURIComponent(e).replace(/%20/g,"+")}function C(e){switch(e.algorithm.name){case"RSA-PSS":return function(e){switch(e.algorithm.hash.name){case"SHA-256":return"PS256";case"SHA-384":return"PS384";case"SHA-512":return"PS512";default:throw new m("unsupported RsaHashedKeyAlgorithm hash name")}}(e);case"RSASSA-PKCS1-v1_5":return function(e){switch(e.algorithm.hash.name){case"SHA-256":return"RS256";case"SHA-384":return"RS384";case"SHA-512":return"RS512";default:throw new m("unsupported RsaHashedKeyAlgorithm hash name")}}(e);case"ECDSA":return function(e){switch(e.algorithm.namedCurve){case"P-256":return"ES256";case"P-384":return"ES384";case"P-521":return"ES512";default:throw new m("unsupported EcKeyAlgorithm namedCurve")}}(e);case"Ed25519":case"Ed448":return"EdDSA";default:throw new m("unsupported CryptoKey algorithm name")}}function N(e){let t=e?.[s];return"number"==typeof t&&Number.isFinite(t)?t:0}function j(){return Math.floor(Date.now()/1e3)}async function L(e,t,r,n){return B({alg:C(r),kid:n},function(e,t){let r=j()+N(t);return{jti:T(),aud:[e.issuer,e.token_endpoint],exp:r+60,iat:r,nbf:r,iss:t.client_id,sub:t.client_id}}(e,t),r)}function I(e){if("object"!=typeof e||null===e)throw TypeError('"as" must be an object');if(!k(e.issuer))throw TypeError('"as.issuer" property must be a non-empty string');return!0}function U(e){if("object"!=typeof e||null===e)throw TypeError('"client" must be an object');if(!k(e.client_id))throw TypeError('"client.client_id" property must be a non-empty string');return!0}function M(e){if(!k(e))throw TypeError('"client.client_secret" property must be a non-empty string');return e}function $(e,t){if(void 0!==t)throw TypeError(`"options.clientPrivateKey" property must not be provided when ${e} client authentication method is used.`)}function D(e,t){if(void 0!==t)throw TypeError(`"client.client_secret" property must not be provided when ${e} client authentication method is used.`)}async function W(e,t,r,n,i){switch(r.delete("client_secret"),r.delete("client_assertion_type"),r.delete("client_assertion"),t.token_endpoint_auth_method){case void 0:case"client_secret_basic":$("client_secret_basic",i),n.set("authorization",function(e,t){let r=A(e),n=A(t),i=btoa(`${r}:${n}`);return`Basic ${i}`}(t.client_id,M(t.client_secret)));break;case"client_secret_post":$("client_secret_post",i),r.set("client_id",t.client_id),r.set("client_secret",M(t.client_secret));break;case"private_key_jwt":{if(D("private_key_jwt",t.client_secret),void 0===i)throw TypeError('"options.clientPrivateKey" must be provided when "client.token_endpoint_auth_method" is "private_key_jwt"');let{key:n,kid:o}=function(e){if(e instanceof CryptoKey)return{key:e};if(!(e?.key instanceof CryptoKey))return{};if(void 0!==e.kid&&!k(e.kid))throw TypeError('"kid" must be a non-empty string');return{key:e.key,kid:e.kid}}(i);if(!v(n))throw TypeError('"options.clientPrivateKey.key" must be a private CryptoKey');r.set("client_id",t.client_id),r.set("client_assertion_type","urn:ietf:params:oauth:client-assertion-type:jwt-bearer"),r.set("client_assertion",await L(e,t,n,o));break}case"tls_client_auth":case"self_signed_tls_client_auth":case"none":D(t.token_endpoint_auth_method,t.client_secret),$(t.token_endpoint_auth_method,i),r.set("client_id",t.client_id);break;default:throw new m("unsupported client token_endpoint_auth_method")}}async function B(e,t,r){if(!r.usages.includes("sign"))throw TypeError('CryptoKey instances used for signing assertions must include "sign" in their "usages"');let n=`${d(f(JSON.stringify(e)))}.${d(f(JSON.stringify(t)))}`,i=d(await crypto.subtle.sign(eh(r),r,f(n)));return`${n}.${i}`}async function F(e,t,r,n,i,o){let{privateKey:s,publicKey:a,nonce:c=g.get(r.origin)}=t;if(!v(s))throw TypeError('"DPoP.privateKey" must be a private CryptoKey');if(!(b(a)&&"public"===a.type))throw TypeError('"DPoP.publicKey" must be a public CryptoKey');if(void 0!==c&&!k(c))throw TypeError('"DPoP.nonce" must be a non-empty string or undefined');if(!a.extractable)throw TypeError('"DPoP.publicKey.extractable" must be true');let l=j()+i,u=await B({alg:C(s),typ:"dpop+jwt",jwk:await q(a)},{iat:l,jti:T(),htm:n,nonce:c,htu:`${r.origin}${r.pathname}`,ath:o?d(await crypto.subtle.digest("SHA-256",f(o))):void 0},s);e.set("dpop",u)}async function z(e){let{kty:t,e:r,n,x:o,y:s,crv:a}=await crypto.subtle.exportKey("jwk",e),c={kty:t,e:r,n,x:o,y:s,crv:a};return i.set(e,c),c}async function q(e){return i||(i=new WeakMap),i.get(e)||z(e)}function G(e,t,r){if("string"!=typeof e){if(r?.[l])throw TypeError(`"as.mtls_endpoint_aliases.${t}" must be a string`);throw TypeError(`"as.${t}" must be a string`)}return new URL(e)}function V(e,t,r){return r?.[l]&&e.mtls_endpoint_aliases&&t in e.mtls_endpoint_aliases?G(e.mtls_endpoint_aliases[t],t,r):G(e[t],t)}function H(e){return!("object"!=typeof e||Array.isArray(e))&&null!==e&&void 0!==e.error}async function K(e,t,r,n,i,o,s){return await W(e,t,i,o,s?.clientPrivateKey),o.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"),(s?.[c]||fetch)(n.href,{body:i,headers:Object.fromEntries(o.entries()),method:r,redirect:"manual",signal:s?.signal?x(s.signal):null}).then(w)}async function J(e,t,r,n,i){let o=V(e,"token_endpoint",i);n.set("grant_type",r);let s=S(i?.headers);return s.set("accept","application/json"),i?.DPoP!==void 0&&await F(s,i.DPoP,o,"POST",N(t)),K(e,t,"POST",o,n,s,i)}async function X(e,t,r,n){if(I(e),U(t),!k(r))throw TypeError('"refreshToken" must be a non-empty string');let i=new URLSearchParams(n?.additionalParameters);return i.set("refresh_token",r),J(e,t,"refresh_token",i,n)}Symbol();let Q=new WeakMap;async function Y(e,t,r,n=!1,i=!1){let s;if(I(e),U(t),!o(r,Response))throw TypeError('"response" must be an instance of Response');if(200!==r.status){let e;if(e=await el(r))return e;throw new y('"response" is not a conform Token Endpoint response')}ec(r);try{s=await r.json()}catch(e){throw new y('failed to parse "response" body as JSON',{cause:e})}if(!E(s))throw new y('"response" body must be a top level object');if(!k(s.access_token))throw new y('"response" body "access_token" property must be a non-empty string');if(!k(s.token_type))throw new y('"response" body "token_type" property must be a non-empty string');if(s.token_type=s.token_type.toLowerCase(),"dpop"!==s.token_type&&"bearer"!==s.token_type)throw new m("unsupported `token_type` value");if(void 0!==s.expires_in&&("number"!=typeof s.expires_in||s.expires_in<=0))throw new y('"response" body "expires_in" property must be a positive number');if(!i&&void 0!==s.refresh_token&&!k(s.refresh_token))throw new y('"response" body "refresh_token" property must be a non-empty string');if(void 0!==s.scope&&"string"!=typeof s.scope)throw new y('"response" body "scope" property must be a string');if(!n){if(void 0!==s.id_token&&!k(s.id_token))throw new y('"response" body "id_token" property must be a non-empty string');if(s.id_token){let{claims:r}=await ed(s.id_token,ep.bind(void 0,t.id_token_signed_response_alg,e.id_token_signing_alg_values_supported),ef,N(t),function(e){let t=e?.[a];return"number"==typeof t&&Number.isFinite(t)&&-1!==Math.sign(t)?t:30}(t)).then(ei.bind(void 0,["aud","exp","iat","iss","sub"])).then(ee.bind(void 0,e.issuer)).then(Z.bind(void 0,t.client_id));if(Array.isArray(r.aud)&&1!==r.aud.length&&r.azp!==t.client_id)throw new y('unexpected ID Token "azp" (authorized party) claim value');if(t.require_auth_time&&"number"!=typeof r.auth_time)throw new y('unexpected ID Token "auth_time" (authentication time) claim value');Q.set(s,r)}}return s}function Z(e,t){if(Array.isArray(t.claims.aud)){if(!t.claims.aud.includes(e))throw new y('unexpected JWT "aud" (audience) claim value')}else if(t.claims.aud!==e)throw new y('unexpected JWT "aud" (audience) claim value');return t}function ee(e,t){if(t.claims.iss!==e)throw new y('unexpected JWT "iss" (issuer) claim value');return t}let et=new WeakSet;async function er(e,t,r,n,i,o){if(I(e),U(t),!et.has(r))throw TypeError('"callbackParameters" must be an instance of URLSearchParams obtained from "validateAuthResponse()", or "validateJwtAuthResponse()');if(!k(n))throw TypeError('"redirectUri" must be a non-empty string');if(!k(i))throw TypeError('"codeVerifier" must be a non-empty string');let s=em(r,"code");if(!s)throw new y('no authorization code in "callbackParameters"');let a=new URLSearchParams(o?.additionalParameters);return a.set("redirect_uri",n),a.set("code_verifier",i),a.set("code",s),J(e,t,"authorization_code",a,o)}let en={aud:"audience",c_hash:"code hash",client_id:"client id",exp:"expiration time",iat:"issued at",iss:"issuer",jti:"jwt id",nonce:"nonce",s_hash:"state hash",sub:"subject",ath:"access token hash",htm:"http method",htu:"http uri",cnf:"confirmation"};function ei(e,t){for(let r of e)if(void 0===t.claims[r])throw new y(`JWT "${r}" (${en[r]}) claim missing`);return t}async function eo(e,t,r){let n=await Y(e,t,r,!0);if(H(n))return n;if(void 0!==n.id_token){if("string"==typeof n.id_token&&n.id_token.length)throw new y("Unexpected ID Token returned, use processAuthorizationCodeOpenIDResponse() for OpenID Connect callback processing");delete n.id_token}return n}async function es(e,t,r,n){if(I(e),U(t),!k(r))throw TypeError('"token" must be a non-empty string');let i=V(e,"revocation_endpoint",n),o=new URLSearchParams(n?.additionalParameters);o.set("token",r);let s=S(n?.headers);return s.delete("accept"),K(e,t,"POST",i,o,s,n)}async function ea(e){if(!o(e,Response))throw TypeError('"response" must be an instance of Response');if(200!==e.status){let t;if(t=await el(e))return t;throw new y('"response" is not a conform Revocation Endpoint response')}}function ec(e){if(e.bodyUsed)throw TypeError('"response" body has been used already')}async function el(e){if(e.status>399&&e.status<500){ec(e);try{let t=await e.json();if(E(t)&&"string"==typeof t.error&&t.error.length)return void 0!==t.error_description&&"string"!=typeof t.error_description&&delete t.error_description,void 0!==t.error_uri&&"string"!=typeof t.error_uri&&delete t.error_uri,void 0!==t.algs&&"string"!=typeof t.algs&&delete t.algs,void 0!==t.scope&&"string"!=typeof t.scope&&delete t.scope,t}catch{}}}function eu(e){if("number"!=typeof e.modulusLength||e.modulusLength<2048)throw new y(`${e.name} modulusLength must be at least 2048 bits`)}function eh(e){switch(e.algorithm.name){case"ECDSA":return{name:e.algorithm.name,hash:function(e){switch(e){case"P-256":return"SHA-256";case"P-384":return"SHA-384";case"P-521":return"SHA-512";default:throw new m}}(e.algorithm.namedCurve)};case"RSA-PSS":switch(eu(e.algorithm),e.algorithm.hash.name){case"SHA-256":case"SHA-384":case"SHA-512":return{name:e.algorithm.name,saltLength:parseInt(e.algorithm.hash.name.slice(-3),10)>>3};default:throw new m}case"RSASSA-PKCS1-v1_5":return eu(e.algorithm),e.algorithm.name;case"Ed448":case"Ed25519":return e.algorithm.name}throw new m}Symbol(),Symbol();let ef=Symbol();async function ed(e,t,r,n,i){let o,s,a;let{0:c,1:l,2:u,length:h}=e.split(".");if(5===h)throw new m("JWE structure JWTs are not supported");if(3!==h)throw new y("Invalid JWT");try{o=JSON.parse(f(d(c)))}catch(e){throw new y("failed to parse JWT Header body as base64url encoded JSON",{cause:e})}if(!E(o))throw new y("JWT Header must be a top level object");if(t(o),void 0!==o.crit)throw new y('unexpected JWT "crit" header parameter');let p=d(u);if(r!==ef){s=await r(o);let e=`${c}.${l}`;if(!await crypto.subtle.verify(eh(s),s,p,f(e)))throw new y("JWT signature verification failed")}try{a=JSON.parse(f(d(l)))}catch(e){throw new y("failed to parse JWT Payload body as base64url encoded JSON",{cause:e})}if(!E(a))throw new y("JWT Payload must be a top level object");let _=j()+n;if(void 0!==a.exp){if("number"!=typeof a.exp)throw new y('unexpected JWT "exp" (expiration time) claim type');if(a.exp<=_-i)throw new y('unexpected JWT "exp" (expiration time) claim value, timestamp is <= now()')}if(void 0!==a.iat&&"number"!=typeof a.iat)throw new y('unexpected JWT "iat" (issued at) claim type');if(void 0!==a.iss&&"string"!=typeof a.iss)throw new y('unexpected JWT "iss" (issuer) claim type');if(void 0!==a.nbf){if("number"!=typeof a.nbf)throw new y('unexpected JWT "nbf" (not before) claim type');if(a.nbf>_+i)throw new y('unexpected JWT "nbf" (not before) claim value, timestamp is > now()')}if(void 0!==a.aud&&"string"!=typeof a.aud&&!Array.isArray(a.aud))throw new y('unexpected JWT "aud" (audience) claim type');return{header:o,claims:a,signature:p,key:s}}function ep(e,t,r){if(void 0!==e){if(r.alg!==e)throw new y('unexpected JWT "alg" header parameter');return}if(Array.isArray(t)){if(!t.includes(r.alg))throw new y('unexpected JWT "alg" header parameter');return}if("RS256"!==r.alg)throw new y('unexpected JWT "alg" header parameter')}function em(e,t){let{0:r,length:n}=e.getAll(t);if(n>1)throw new y(`"${t}" parameter must be provided only once`);return r}let e_=Symbol(),ey=Symbol();function eg(e,t,r,n){var i;if(I(e),U(t),r instanceof URL&&(r=r.searchParams),!(r instanceof URLSearchParams))throw TypeError('"parameters" must be an instance of URLSearchParams, or URL');if(em(r,"response"))throw new y('"parameters" contains a JARM response, use validateJwtAuthResponse() instead of validateAuthResponse()');let o=em(r,"iss"),s=em(r,"state");if(!o&&e.authorization_response_iss_parameter_supported)throw new y('response parameter "iss" (issuer) missing');if(o&&o!==e.issuer)throw new y('unexpected "iss" (issuer) response parameter value');switch(n){case void 0:case ey:if(void 0!==s)throw new y('unexpected "state" response parameter encountered');break;case e_:break;default:if(!k(n))throw new y('"expectedState" must be a non-empty string');if(void 0===s)throw new y('response parameter "state" missing');if(s!==n)throw new y('unexpected "state" response parameter value')}let a=em(r,"error");if(a)return{error:a,error_description:em(r,"error_description"),error_uri:em(r,"error_uri")};let c=em(r,"id_token"),l=em(r,"token");if(void 0!==c||void 0!==l)throw new m("implicit and hybrid flows are not supported");return i=new URLSearchParams(r),et.add(i),i}},8325:(e,t,r)=>{"use strict";function n(e,t){if(!e)throw Error("Invariant failed")}r.d(t,{A:()=>n})},9013:(e,t,r)=>{"use strict";r.d(t,{m:()=>n});var n=class extends EventTarget{dispatchTypedEvent(e,t){return super.dispatchEvent(t)}}}};