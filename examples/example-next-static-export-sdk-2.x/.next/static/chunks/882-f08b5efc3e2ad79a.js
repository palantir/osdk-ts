(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[882],{6582:function(e){var t;t=function(){"use strict";function e(e){return Number.isInteger(e)&&e>=0}function t(e){this.name="ArgumentError",this.message=e}return function(r,n){if(n=n||{},"function"!=typeof r)throw new t("fetch must be a function");if("object"!=typeof n)throw new t("defaults must be an object");if(void 0!==n.retries&&!e(n.retries))throw new t("retries must be a positive integer");if(void 0!==n.retryDelay&&!e(n.retryDelay)&&"function"!=typeof n.retryDelay)throw new t("retryDelay must be a positive integer or a function returning a positive integer");if(void 0!==n.retryOn&&!Array.isArray(n.retryOn)&&"function"!=typeof n.retryOn)throw new t("retryOn property expects an array or function");return n=Object.assign({retries:3,retryDelay:1e3,retryOn:[]},n),function(o,i){var s=n.retries,a=n.retryDelay,c=n.retryOn;if(i&&void 0!==i.retries){if(e(i.retries))s=i.retries;else throw new t("retries must be a positive integer")}if(i&&void 0!==i.retryDelay){if(e(i.retryDelay)||"function"==typeof i.retryDelay)a=i.retryDelay;else throw new t("retryDelay must be a positive integer or a function returning a positive integer")}if(i&&i.retryOn){if(Array.isArray(i.retryOn)||"function"==typeof i.retryOn)c=i.retryOn;else throw new t("retryOn property expects an array or function")}return new Promise(function(e,t){var n=function(n){r("undefined"!=typeof Request&&o instanceof Request?o.clone():o,i).then(function(r){if(Array.isArray(c)&&-1===c.indexOf(r.status))e(r);else if("function"==typeof c)try{return Promise.resolve(c(n,null,r)).then(function(t){t?u(n,null,r):e(r)}).catch(t)}catch(e){t(e)}else n<s?u(n,null,r):e(r)}).catch(function(e){if("function"==typeof c)try{Promise.resolve(c(n,e,null)).then(function(r){r?u(n,e,null):t(e)}).catch(function(e){t(e)})}catch(e){t(e)}else n<s?u(n,e,null):t(e)})};function u(e,t,r){setTimeout(function(){n(++e)},"function"==typeof a?a(e,t,r):a)}n(0)})}}},e.exports=t()},7399:(e,t,r)=>{"use strict";r.d(t,{A:()=>o});var n=null;"undefined"!=typeof WebSocket?n=WebSocket:"undefined"!=typeof MozWebSocket?n=MozWebSocket:void 0!==r.g?n=r.g.WebSocket||r.g.MozWebSocket:"undefined"!=typeof window?n=window.WebSocket||window.MozWebSocket:"undefined"!=typeof self&&(n=self.WebSocket||self.MozWebSocket);let o=n},9198:(e,t,r)=>{"use strict";var n=r(8322);r.o(n,"useRouter")&&r.d(t,{useRouter:function(){return n.useRouter}})},8405:(e,t,r)=>{"use strict";r.d(t,{UL:()=>o,En:()=>n,Tr:()=>i,NG:()=>s,Tq:()=>a,Y7:()=>c,GB:()=>u,RT:()=>l,Ib:()=>p,MB:()=>f,FK:()=>d});var n={};r.r(n),r.d(n,{apply:()=>v,applyAsync:()=>T,applyBatch:()=>k});var o={};r.r(o),r.d(o,{get:()=>P,list:()=>A});var i={};r.r(i),r.d(i,{get:()=>J,read:()=>C,upload:()=>O});var s={};r.r(s),r.d(s,{getMediaContent:()=>U,getMediaMetadata:()=>K,upload:()=>$});var a={};r.r(a),r.d(a,{get:()=>I,getFullMetadata:()=>F,getOutgoingLinkType:()=>Y,list:()=>z,listOutgoingLinkTypes:()=>V});var c={};r.r(c),r.d(c,{aggregate:()=>eo,get:()=>ee,list:()=>X,search:()=>er});var u={};r.r(u),r.d(u,{aggregate:()=>em,createTemporary:()=>es,get:()=>ec,load:()=>el,loadMultipleObjectTypes:()=>ef,loadObjectsOrInterfaces:()=>eh});var l={};r.r(l),r.d(l,{execute:()=>eg});var p={};r.r(p),r.d(p,{get:()=>eT,list:()=>ev});var f={};r.r(f),r.d(f,{getFirstPoint:()=>ek,getLastPoint:()=>eA,streamPoints:()=>eP});var d={};r.r(d),r.d(d,{getLatestValue:()=>eO,streamValues:()=>eC});var h=r(8632);class y extends Error{message;errorName;errorCode;statusCode;errorInstanceId;parameters;constructor(e,t,r,n,o,i){super(e),this.message=e,this.errorName=t,this.errorCode=r,this.statusCode=n,this.errorInstanceId=o,this.parameters=i}}class m extends y{originalError;constructor(e,t,r){super(e,t),this.originalError=r}}async function w(e,[t,r,n,o,i],...s){let a=r.replace(/\{([^}]+)\}/g,()=>encodeURIComponent(s.shift())),c=1&n?s.shift():void 0,u=2&n?s.shift():void 0,l=4&n?s.shift():void 0,p=["GET","POST","PUT","DELETE","PATCH"][t];return await g(e.__osdkClientContext??e[h.j]??e,p,a,c,u,l,o,i)}async function g(e,t,r,n,o,i,s,a){var c;let u=(c=e.baseUrl,new URL(`api${r}`,c+=c.endsWith("/")?"":"/"));for(let[e,t]of Object.entries(o||{}))if(null!=t){if(Array.isArray(t))for(let r of t)u.searchParams.append(e,r);else u.searchParams.append(e,t)}let l=new Headers;l.set("Content-Type",s??"application/json"),l.set("Accept",a??"application/json"),Object.entries(i||{}).forEach(([e,t])=>{null!=t&&l.append(e,t.toString())});let p=null==n||n instanceof globalThis.Blob?n:JSON.stringify(n),f=await e.fetch(u.toString(),{body:p,method:t,headers:l});if(!f.ok)try{let e=await f.json();return new y(e.message,e.errorName,e.errorCode,f.status,e.errorInstanceId,e.parameters)}catch(e){if(e instanceof Error)return new m(e.message,"UNKNOWN");return new m("Unable to parse error response","UNKNOWN")}return 204===f.status?void 0:null==a||"application/json"===a?await f.json():f}let b=[1,"/v2/ontologies/{0}/actions/{1}/apply",3];function v(e,...t){return w(e,b,...t)}let _=[1,"/v2/ontologies/{0}/actions/{1}/applyAsync",3];function T(e,...t){return w(e,_,...t)}let S=[1,"/v2/ontologies/{0}/actions/{1}/applyBatch",3];function k(e,...t){return w(e,S,...t)}let E=[0,"/v2/ontologies/{0}/actionTypes",2];function A(e,...t){return w(e,E,...t)}let j=[0,"/v2/ontologies/{0}/actionTypes/{1}"];function P(e,...t){return w(e,j,...t)}let x=[1,"/v2/ontologies/attachments/upload",7,"*/*"];function O(e,...t){let r={...t[2],"Content-Type":t[2]?.["Content-Type"]??t[0].type,"Content-Length":t[0].size.toString()};return w(e,x,t[0],t[1],r)}let R=[0,"/v2/ontologies/attachments/{0}/content",,,"*/*"];function C(e,...t){return w(e,R,...t)}let W=[0,"/v2/ontologies/attachments/{0}"];function J(e,...t){return w(e,W,...t)}let L=[0,"/v2/ontologies/{0}/objects/{1}/{2}/media/{3}/content",2,,"*/*"];function U(e,...t){return w(e,L,...t)}let D=[0,"/v2/ontologies/{0}/objects/{1}/{2}/media/{3}/metadata",2];function K(e,...t){return w(e,D,...t)}let N=[1,"/v2/ontologies/{0}/objectTypes/{1}/media/{2}/upload",3,"*/*"];function $(e,...t){return w(e,N,...t)}let M=[0,"/v2/ontologies/{0}/objectTypes",2];function z(e,...t){return w(e,M,...t)}let H=[0,"/v2/ontologies/{0}/objectTypes/{1}"];function I(e,...t){return w(e,H,...t)}let B=[0,"/v2/ontologies/{0}/objectTypes/{1}/fullMetadata",2];function F(e,...t){return w(e,B,...t)}let q=[0,"/v2/ontologies/{0}/objectTypes/{1}/outgoingLinkTypes",2];function V(e,...t){return w(e,q,...t)}let G=[0,"/v2/ontologies/{0}/objectTypes/{1}/outgoingLinkTypes/{2}"];function Y(e,...t){return w(e,G,...t)}let Q=[0,"/v2/ontologies/{0}/interfaceTypes",2];function X(e,...t){return w(e,Q,...t)}let Z=[0,"/v2/ontologies/{0}/interfaceTypes/{1}",2];function ee(e,...t){return w(e,Z,...t)}let et=[1,"/v2/ontologies/{0}/interfaces/{1}/search",3];function er(e,...t){return w(e,et,...t)}let en=[1,"/v2/ontologies/{0}/interfaces/{1}/aggregate",3];function eo(e,...t){return w(e,en,...t)}let ei=[1,"/v2/ontologies/{0}/objectSets/createTemporary",1];function es(e,...t){return w(e,ei,...t)}let ea=[0,"/v2/ontologies/{0}/objectSets/{1}"];function ec(e,...t){return w(e,ea,...t)}let eu=[1,"/v2/ontologies/{0}/objectSets/loadObjects",3];function el(e,...t){return w(e,eu,...t)}let ep=[1,"/v2/ontologies/{0}/objectSets/loadObjectsMultipleObjectTypes",3];function ef(e,...t){return w(e,ep,...t)}let ed=[1,"/v2/ontologies/{0}/objectSets/loadObjectsOrInterfaces",3];function eh(e,...t){return w(e,ed,...t)}let ey=[1,"/v2/ontologies/{0}/objectSets/aggregate",3];function em(e,...t){return w(e,ey,...t)}let ew=[1,"/v2/ontologies/{0}/queries/{1}/execute",3];function eg(e,...t){return w(e,ew,...t)}let eb=[0,"/v2/ontologies/{0}/queryTypes",2];function ev(e,...t){return w(e,eb,...t)}let e_=[0,"/v2/ontologies/{0}/queryTypes/{1}"];function eT(e,...t){return w(e,e_,...t)}let eS=[0,"/v2/ontologies/{0}/objects/{1}/{2}/timeseries/{3}/firstPoint",2];function ek(e,...t){return w(e,eS,...t)}let eE=[0,"/v2/ontologies/{0}/objects/{1}/{2}/timeseries/{3}/lastPoint",2];function eA(e,...t){return w(e,eE,...t)}let ej=[1,"/v2/ontologies/{0}/objects/{1}/{2}/timeseries/{3}/streamPoints",3,,"*/*"];function eP(e,...t){return w(e,ej,...t)}let ex=[0,"/v2/ontologies/{0}/objects/{1}/{2}/timeseries/{3}/latestValue",2];function eO(e,...t){return w(e,ex,...t)}let eR=[1,"/v2/ontologies/{0}/objects/{1}/{2}/timeseries/{3}/streamValues",3,,"*/*"];function eC(e,...t){return w(e,eR,...t)}},8632:(e,t,r)=>{"use strict";r.d(t,{j:()=>n});let n=Symbol("ClientContext")},8426:(e,t,r)=>{"use strict";function n(e,t){if(t.has(e))throw TypeError("Cannot initialize the same private elements twice on an object")}r.d(t,{_:()=>n})},7480:(e,t,r)=>{"use strict";function n(e,t){return t.get?t.get.call(e):t.value}r.d(t,{_:()=>n})},7037:(e,t,r)=>{"use strict";function n(e,t,r){if(!t.has(e))throw TypeError("attempted to "+r+" private field on non-instance");return t.get(e)}r.d(t,{_:()=>n})},1946:(e,t,r)=>{"use strict";r.d(t,{_:()=>i});var n=r(7480),o=r(7037);function i(e,t){var r=(0,o._)(e,t,"get");return(0,n._)(e,r)}},700:(e,t,r)=>{"use strict";r.d(t,{_:()=>o});var n=r(8426);function o(e,t,r){(0,n._)(e,t),t.set(e,r)}},9129:(e,t,r)=>{"use strict";r.d(t,{_:()=>o});var n=r(7037);function o(e,t,r){var o=(0,n._)(e,t,"set");return!function(e,t,r){if(t.set)t.set.call(e,r);else{if(!t.writable)throw TypeError("attempted to set read only private field");t.value=r}}(e,o,r),r}},9901:(e,t,r)=>{"use strict";function n(e,t,r){if(!t.has(e))throw TypeError("attempted to get private field on non-instance");return r}r.d(t,{_:()=>n})},9422:(e,t,r)=>{"use strict";r.d(t,{_:()=>o});var n=r(8426);function o(e,t){(0,n._)(e,t),t.add(e)}},7869:(e,t,r)=>{"use strict";r.d(t,{_:()=>o});var n=r(7480);function o(e,t,r){return!function(e,t){if(e!==t)throw TypeError("Private static access of wrong provenance")}(e,t),!function(e,t){if(void 0===e)throw TypeError("attempted to get private static field before its declaration")}(r,0),(0,n._)(e,r)}},2096:(e,t,r)=>{"use strict";async function n({fetchFn:e,baseUrl:t,servicePath:r,tokenProvider:n},s,a,c,u,l,p){c&&(c instanceof URLSearchParams||c instanceof Blob||c instanceof FormData||"string"==typeof c||c instanceof ArrayBuffer||(c=JSON.stringify(c)));let f=Object.entries(u??{}).flatMap(([e,t])=>{if(null==t)return[];if(Array.isArray(t))return t.map(t=>[e,t]);let r=""+t;return 0===r.length?[]:[[e,r]]}),d=0===Object.keys(f).length?"":`?${new URLSearchParams(f).toString()}`,h=await (e??fetch)(`${t}${r}${s}${d}`,{method:a,credentials:"same-origin",headers:{"Fetch-User-Agent":"conjure-lite","Content-Type":l??"application/json",accept:p??"application/json",...n?{Authorization:`Bearer ${await n()}`}:{}},...c?{body:c}:{}});try{if(204===h.status)return;let e=await o(h);if(!h.ok)throw new i("STATUS",void 0,h.status,e);return e}catch(e){if(e instanceof i)throw e;if(e instanceof TypeError)throw new i("NETWORK",e);throw new i("OTHER",e)}}async function o(e){let t=null!=e.headers.get("Content-Type")?e.headers.get("Content-Type"):"";try{if(t.includes("application/json"))return await e.json();if(t.includes("application/octet-stream"))return await e.blob();return await e.text()}catch(t){throw new i("PARSE",t,e.status)}}r.d(t,{t:()=>n});class i{type;originalError;status;body;constructor(e,t,r,n){this.type=e,this.originalError=t,this.status=r,this.body=n}toString(){return JSON.stringify({body:this.body,originalError:this.originalError&&this.originalError.toString(),status:this.status,type:this.type},null,"  ")}}},2380:(e,t,r)=>{"use strict";r.d(t,{Ay:()=>i});let n=()=>{let e=Error("Delay aborted");return e.name="AbortError",e},o=new WeakMap,i=function({clearTimeout:e,setTimeout:t}={}){return(r,{value:i,signal:s}={})=>{let a,c,u;if(s?.aborted)return Promise.reject(n());let l=e??clearTimeout,p=()=>{l(a),u(n())},f=()=>{s&&s.removeEventListener("abort",p)},d=new Promise((e,n)=>{c=()=>{f(),e(i)},u=n,a=(t??setTimeout)(c,r)});return s&&s.addEventListener("abort",p,{once:!0}),o.set(d,()=>{l(a),a=null,c()}),d}}()},4732:(e,t,r)=>{"use strict";let n,o;function i(e,t){if(null==e)return!1;try{return e instanceof t||Object.getPrototypeOf(e)[Symbol.toStringTag]===t.prototype[Symbol.toStringTag]}catch{return!1}}r.d(t,{A6:()=>c,AJ:()=>q,EG:()=>ei,Kz:()=>es,Ot:()=>P,TP:()=>ea,YI:()=>j,Yv:()=>x,kO:()=>eg,m:()=>er,ur:()=>Y}),"undefined"!=typeof navigator&&navigator.userAgent?.startsWith?.("Mozilla/5.0 ")||(n="oauth4webapi/v2.10.4");let s=Symbol(),a=Symbol(),c=Symbol(),u=Symbol(),l=new TextEncoder,p=new TextDecoder;function f(e){return"string"==typeof e?l.encode(e):p.decode(e)}function d(e){return"string"==typeof e?function(e){try{let t=atob(e.replace(/-/g,"+").replace(/_/g,"/").replace(/\s/g,"")),r=new Uint8Array(t.length);for(let e=0;e<t.length;e++)r[e]=t.charCodeAt(e);return r}catch(e){throw new w("The input to be decoded is not correctly encoded.",{cause:e})}}(e):function(e){e instanceof ArrayBuffer&&(e=new Uint8Array(e));let t=[];for(let r=0;r<e.byteLength;r+=32768)t.push(String.fromCharCode.apply(null,e.subarray(r,r+32768)));return btoa(t.join("")).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}(e)}class h{constructor(e){this.cache=new Map,this._cache=new Map,this.maxSize=e}get(e){let t=this.cache.get(e);return t||((t=this._cache.get(e))?(this.update(e,t),t):void 0)}has(e){return this.cache.has(e)||this._cache.has(e)}set(e,t){return this.cache.has(e)?this.cache.set(e,t):this.update(e,t),this}delete(e){return this.cache.has(e)?this.cache.delete(e):!!this._cache.has(e)&&this._cache.delete(e)}update(e,t){this.cache.set(e,t),this.cache.size>=this.maxSize&&(this._cache=this.cache,this.cache=new Map)}}class y extends Error{constructor(e){super(e??"operation not supported"),this.name=this.constructor.name,Error.captureStackTrace?.(this,this.constructor)}}class m extends Error{constructor(e,t){super(e,t),this.name=this.constructor.name,Error.captureStackTrace?.(this,this.constructor)}}let w=m,g=new h(100);function b(e){return e instanceof CryptoKey}function v(e){return b(e)&&"private"===e.type}function _(e){try{let t=e.headers.get("dpop-nonce");t&&g.set(new URL(e.url).origin,t)}catch{}return e}function T(e){return!(null===e||"object"!=typeof e||Array.isArray(e))}function S(e){i(e,Headers)&&(e=Object.fromEntries(e.entries()));let t=new Headers(e);if(n&&!t.has("user-agent")&&t.set("user-agent",n),t.has("authorization"))throw TypeError('"options.headers" must not include the "authorization" header name');if(t.has("dpop"))throw TypeError('"options.headers" must not include the "dpop" header name');return t}function k(e){if("function"==typeof e&&(e=e()),!(e instanceof AbortSignal))throw TypeError('"options.signal" must return or be an instance of AbortSignal');return e}function E(e){return"string"==typeof e&&0!==e.length}function A(){return d(crypto.getRandomValues(new Uint8Array(32)))}function j(){return A()}function P(){return A()}async function x(e){if(!E(e))throw TypeError('"codeVerifier" must be a non-empty string');return d(await crypto.subtle.digest("SHA-256",f(e)))}function O(e){return encodeURIComponent(e).replace(/%20/g,"+")}function R(e){switch(e.algorithm.name){case"RSA-PSS":return function(e){switch(e.algorithm.hash.name){case"SHA-256":return"PS256";case"SHA-384":return"PS384";case"SHA-512":return"PS512";default:throw new y("unsupported RsaHashedKeyAlgorithm hash name")}}(e);case"RSASSA-PKCS1-v1_5":return function(e){switch(e.algorithm.hash.name){case"SHA-256":return"RS256";case"SHA-384":return"RS384";case"SHA-512":return"RS512";default:throw new y("unsupported RsaHashedKeyAlgorithm hash name")}}(e);case"ECDSA":return function(e){switch(e.algorithm.namedCurve){case"P-256":return"ES256";case"P-384":return"ES384";case"P-521":return"ES512";default:throw new y("unsupported EcKeyAlgorithm namedCurve")}}(e);case"Ed25519":case"Ed448":return"EdDSA";default:throw new y("unsupported CryptoKey algorithm name")}}function C(e){let t=e?.[s];return"number"==typeof t&&Number.isFinite(t)?t:0}function W(){return Math.floor(Date.now()/1e3)}async function J(e,t,r,n){return M({alg:R(r),kid:n},function(e,t){let r=W()+C(t);return{jti:A(),aud:[e.issuer,e.token_endpoint],exp:r+60,iat:r,nbf:r,iss:t.client_id,sub:t.client_id}}(e,t),r)}function L(e){if("object"!=typeof e||null===e)throw TypeError('"as" must be an object');if(!E(e.issuer))throw TypeError('"as.issuer" property must be a non-empty string');return!0}function U(e){if("object"!=typeof e||null===e)throw TypeError('"client" must be an object');if(!E(e.client_id))throw TypeError('"client.client_id" property must be a non-empty string');return!0}function D(e){if(!E(e))throw TypeError('"client.client_secret" property must be a non-empty string');return e}function K(e,t){if(void 0!==t)throw TypeError(`"options.clientPrivateKey" property must not be provided when ${e} client authentication method is used.`)}function N(e,t){if(void 0!==t)throw TypeError(`"client.client_secret" property must not be provided when ${e} client authentication method is used.`)}async function $(e,t,r,n,o){switch(r.delete("client_secret"),r.delete("client_assertion_type"),r.delete("client_assertion"),t.token_endpoint_auth_method){case void 0:case"client_secret_basic":K("client_secret_basic",o),n.set("authorization",function(e,t){let r=O(e),n=O(t),o=btoa(`${r}:${n}`);return`Basic ${o}`}(t.client_id,D(t.client_secret)));break;case"client_secret_post":K("client_secret_post",o),r.set("client_id",t.client_id),r.set("client_secret",D(t.client_secret));break;case"private_key_jwt":{if(N("private_key_jwt",t.client_secret),void 0===o)throw TypeError('"options.clientPrivateKey" must be provided when "client.token_endpoint_auth_method" is "private_key_jwt"');let{key:n,kid:i}=function(e){if(e instanceof CryptoKey)return{key:e};if(!(e?.key instanceof CryptoKey))return{};if(void 0!==e.kid&&!E(e.kid))throw TypeError('"kid" must be a non-empty string');return{key:e.key,kid:e.kid}}(o);if(!v(n))throw TypeError('"options.clientPrivateKey.key" must be a private CryptoKey');r.set("client_id",t.client_id),r.set("client_assertion_type","urn:ietf:params:oauth:client-assertion-type:jwt-bearer"),r.set("client_assertion",await J(e,t,n,i));break}case"tls_client_auth":case"self_signed_tls_client_auth":case"none":N(t.token_endpoint_auth_method,t.client_secret),K(t.token_endpoint_auth_method,o),r.set("client_id",t.client_id);break;default:throw new y("unsupported client token_endpoint_auth_method")}}async function M(e,t,r){if(!r.usages.includes("sign"))throw TypeError('CryptoKey instances used for signing assertions must include "sign" in their "usages"');let n=`${d(f(JSON.stringify(e)))}.${d(f(JSON.stringify(t)))}`,o=d(await crypto.subtle.sign(ep(r),r,f(n)));return`${n}.${o}`}async function z(e,t,r,n,o,i){let{privateKey:s,publicKey:a,nonce:c=g.get(r.origin)}=t;if(!v(s))throw TypeError('"DPoP.privateKey" must be a private CryptoKey');if(!(b(a)&&"public"===a.type))throw TypeError('"DPoP.publicKey" must be a public CryptoKey');if(void 0!==c&&!E(c))throw TypeError('"DPoP.nonce" must be a non-empty string or undefined');if(!a.extractable)throw TypeError('"DPoP.publicKey.extractable" must be true');let u=W()+o,l=await M({alg:R(s),typ:"dpop+jwt",jwk:await I(a)},{iat:u,jti:A(),htm:n,nonce:c,htu:`${r.origin}${r.pathname}`,ath:i?d(await crypto.subtle.digest("SHA-256",f(i))):void 0},s);e.set("dpop",l)}async function H(e){let{kty:t,e:r,n,x:i,y:s,crv:a}=await crypto.subtle.exportKey("jwk",e),c={kty:t,e:r,n,x:i,y:s,crv:a};return o.set(e,c),c}async function I(e){return o||(o=new WeakMap),o.get(e)||H(e)}function B(e,t,r){if("string"!=typeof e){if(r?.[u])throw TypeError(`"as.mtls_endpoint_aliases.${t}" must be a string`);throw TypeError(`"as.${t}" must be a string`)}return new URL(e)}function F(e,t,r){return r?.[u]&&e.mtls_endpoint_aliases&&t in e.mtls_endpoint_aliases?B(e.mtls_endpoint_aliases[t],t,r):B(e[t],t)}function q(e){return!("object"!=typeof e||Array.isArray(e))&&null!==e&&void 0!==e.error}async function V(e,t,r,n,o,i,s){return await $(e,t,o,i,s?.clientPrivateKey),i.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"),(s?.[c]||fetch)(n.href,{body:o,headers:Object.fromEntries(i.entries()),method:r,redirect:"manual",signal:s?.signal?k(s.signal):null}).then(_)}async function G(e,t,r,n,o){let i=F(e,"token_endpoint",o);n.set("grant_type",r);let s=S(o?.headers);return s.set("accept","application/json"),o?.DPoP!==void 0&&await z(s,o.DPoP,i,"POST",C(t)),V(e,t,"POST",i,n,s,o)}async function Y(e,t,r,n){if(L(e),U(t),!E(r))throw TypeError('"refreshToken" must be a non-empty string');let o=new URLSearchParams(n?.additionalParameters);return o.set("refresh_token",r),G(e,t,"refresh_token",o,n)}Symbol();let Q=new WeakMap;async function X(e,t,r,n=!1,o=!1){let s;if(L(e),U(t),!i(r,Response))throw TypeError('"response" must be an instance of Response');if(200!==r.status){let e;if(e=await eu(r))return e;throw new w('"response" is not a conform Token Endpoint response')}ec(r);try{s=await r.json()}catch(e){throw new w('failed to parse "response" body as JSON',{cause:e})}if(!T(s))throw new w('"response" body must be a top level object');if(!E(s.access_token))throw new w('"response" body "access_token" property must be a non-empty string');if(!E(s.token_type))throw new w('"response" body "token_type" property must be a non-empty string');if(s.token_type=s.token_type.toLowerCase(),"dpop"!==s.token_type&&"bearer"!==s.token_type)throw new y("unsupported `token_type` value");if(void 0!==s.expires_in&&("number"!=typeof s.expires_in||s.expires_in<=0))throw new w('"response" body "expires_in" property must be a positive number');if(!o&&void 0!==s.refresh_token&&!E(s.refresh_token))throw new w('"response" body "refresh_token" property must be a non-empty string');if(void 0!==s.scope&&"string"!=typeof s.scope)throw new w('"response" body "scope" property must be a string');if(!n){if(void 0!==s.id_token&&!E(s.id_token))throw new w('"response" body "id_token" property must be a non-empty string');if(s.id_token){let{claims:r}=await ed(s.id_token,eh.bind(void 0,t.id_token_signed_response_alg,e.id_token_signing_alg_values_supported),ef,C(t),function(e){let t=e?.[a];return"number"==typeof t&&Number.isFinite(t)&&-1!==Math.sign(t)?t:30}(t)).then(eo.bind(void 0,["aud","exp","iat","iss","sub"])).then(ee.bind(void 0,e.issuer)).then(Z.bind(void 0,t.client_id));if(Array.isArray(r.aud)&&1!==r.aud.length&&r.azp!==t.client_id)throw new w('unexpected ID Token "azp" (authorized party) claim value');if(t.require_auth_time&&"number"!=typeof r.auth_time)throw new w('unexpected ID Token "auth_time" (authentication time) claim value');Q.set(s,r)}}return s}function Z(e,t){if(Array.isArray(t.claims.aud)){if(!t.claims.aud.includes(e))throw new w('unexpected JWT "aud" (audience) claim value')}else if(t.claims.aud!==e)throw new w('unexpected JWT "aud" (audience) claim value');return t}function ee(e,t){if(t.claims.iss!==e)throw new w('unexpected JWT "iss" (issuer) claim value');return t}let et=new WeakSet;async function er(e,t,r,n,o,i){if(L(e),U(t),!et.has(r))throw TypeError('"callbackParameters" must be an instance of URLSearchParams obtained from "validateAuthResponse()", or "validateJwtAuthResponse()');if(!E(n))throw TypeError('"redirectUri" must be a non-empty string');if(!E(o))throw TypeError('"codeVerifier" must be a non-empty string');let s=ey(r,"code");if(!s)throw new w('no authorization code in "callbackParameters"');let a=new URLSearchParams(i?.additionalParameters);return a.set("redirect_uri",n),a.set("code_verifier",o),a.set("code",s),G(e,t,"authorization_code",a,i)}let en={aud:"audience",c_hash:"code hash",client_id:"client id",exp:"expiration time",iat:"issued at",iss:"issuer",jti:"jwt id",nonce:"nonce",s_hash:"state hash",sub:"subject",ath:"access token hash",htm:"http method",htu:"http uri",cnf:"confirmation"};function eo(e,t){for(let r of e)if(void 0===t.claims[r])throw new w(`JWT "${r}" (${en[r]}) claim missing`);return t}async function ei(e,t,r){let n=await X(e,t,r,!0);if(q(n))return n;if(void 0!==n.id_token){if("string"==typeof n.id_token&&n.id_token.length)throw new w("Unexpected ID Token returned, use processAuthorizationCodeOpenIDResponse() for OpenID Connect callback processing");delete n.id_token}return n}async function es(e,t,r,n){if(L(e),U(t),!E(r))throw TypeError('"token" must be a non-empty string');let o=F(e,"revocation_endpoint",n),i=new URLSearchParams(n?.additionalParameters);i.set("token",r);let s=S(n?.headers);return s.delete("accept"),V(e,t,"POST",o,i,s,n)}async function ea(e){if(!i(e,Response))throw TypeError('"response" must be an instance of Response');if(200!==e.status){let t;if(t=await eu(e))return t;throw new w('"response" is not a conform Revocation Endpoint response')}}function ec(e){if(e.bodyUsed)throw TypeError('"response" body has been used already')}async function eu(e){if(e.status>399&&e.status<500){ec(e);try{let t=await e.json();if(T(t)&&"string"==typeof t.error&&t.error.length)return void 0!==t.error_description&&"string"!=typeof t.error_description&&delete t.error_description,void 0!==t.error_uri&&"string"!=typeof t.error_uri&&delete t.error_uri,void 0!==t.algs&&"string"!=typeof t.algs&&delete t.algs,void 0!==t.scope&&"string"!=typeof t.scope&&delete t.scope,t}catch{}}}function el(e){if("number"!=typeof e.modulusLength||e.modulusLength<2048)throw new w(`${e.name} modulusLength must be at least 2048 bits`)}function ep(e){switch(e.algorithm.name){case"ECDSA":return{name:e.algorithm.name,hash:function(e){switch(e){case"P-256":return"SHA-256";case"P-384":return"SHA-384";case"P-521":return"SHA-512";default:throw new y}}(e.algorithm.namedCurve)};case"RSA-PSS":switch(el(e.algorithm),e.algorithm.hash.name){case"SHA-256":case"SHA-384":case"SHA-512":return{name:e.algorithm.name,saltLength:parseInt(e.algorithm.hash.name.slice(-3),10)>>3};default:throw new y}case"RSASSA-PKCS1-v1_5":return el(e.algorithm),e.algorithm.name;case"Ed448":case"Ed25519":return e.algorithm.name}throw new y}Symbol(),Symbol();let ef=Symbol();async function ed(e,t,r,n,o){let i,s,a;let{0:c,1:u,2:l,length:p}=e.split(".");if(5===p)throw new y("JWE structure JWTs are not supported");if(3!==p)throw new w("Invalid JWT");try{i=JSON.parse(f(d(c)))}catch(e){throw new w("failed to parse JWT Header body as base64url encoded JSON",{cause:e})}if(!T(i))throw new w("JWT Header must be a top level object");if(t(i),void 0!==i.crit)throw new w('unexpected JWT "crit" header parameter');let h=d(l);if(r!==ef){s=await r(i);let e=`${c}.${u}`;if(!await crypto.subtle.verify(ep(s),s,h,f(e)))throw new w("JWT signature verification failed")}try{a=JSON.parse(f(d(u)))}catch(e){throw new w("failed to parse JWT Payload body as base64url encoded JSON",{cause:e})}if(!T(a))throw new w("JWT Payload must be a top level object");let m=W()+n;if(void 0!==a.exp){if("number"!=typeof a.exp)throw new w('unexpected JWT "exp" (expiration time) claim type');if(a.exp<=m-o)throw new w('unexpected JWT "exp" (expiration time) claim value, timestamp is <= now()')}if(void 0!==a.iat&&"number"!=typeof a.iat)throw new w('unexpected JWT "iat" (issued at) claim type');if(void 0!==a.iss&&"string"!=typeof a.iss)throw new w('unexpected JWT "iss" (issuer) claim type');if(void 0!==a.nbf){if("number"!=typeof a.nbf)throw new w('unexpected JWT "nbf" (not before) claim type');if(a.nbf>m+o)throw new w('unexpected JWT "nbf" (not before) claim value, timestamp is > now()')}if(void 0!==a.aud&&"string"!=typeof a.aud&&!Array.isArray(a.aud))throw new w('unexpected JWT "aud" (audience) claim type');return{header:i,claims:a,signature:h,key:s}}function eh(e,t,r){if(void 0!==e){if(r.alg!==e)throw new w('unexpected JWT "alg" header parameter');return}if(Array.isArray(t)){if(!t.includes(r.alg))throw new w('unexpected JWT "alg" header parameter');return}if("RS256"!==r.alg)throw new w('unexpected JWT "alg" header parameter')}function ey(e,t){let{0:r,length:n}=e.getAll(t);if(n>1)throw new w(`"${t}" parameter must be provided only once`);return r}let em=Symbol(),ew=Symbol();function eg(e,t,r,n){var o;if(L(e),U(t),r instanceof URL&&(r=r.searchParams),!(r instanceof URLSearchParams))throw TypeError('"parameters" must be an instance of URLSearchParams, or URL');if(ey(r,"response"))throw new w('"parameters" contains a JARM response, use validateJwtAuthResponse() instead of validateAuthResponse()');let i=ey(r,"iss"),s=ey(r,"state");if(!i&&e.authorization_response_iss_parameter_supported)throw new w('response parameter "iss" (issuer) missing');if(i&&i!==e.issuer)throw new w('unexpected "iss" (issuer) response parameter value');switch(n){case void 0:case ew:if(void 0!==s)throw new w('unexpected "state" response parameter encountered');break;case em:break;default:if(!E(n))throw new w('"expectedState" must be a non-empty string');if(void 0===s)throw new w('response parameter "state" missing');if(s!==n)throw new w('unexpected "state" response parameter value')}let a=ey(r,"error");if(a)return{error:a,error_description:ey(r,"error_description"),error_uri:ey(r,"error_uri")};let c=ey(r,"id_token"),u=ey(r,"token");if(void 0!==c||void 0!==u)throw new y("implicit and hybrid flows are not supported");return o=new URLSearchParams(r),et.add(o),o}},7985:(e,t,r)=>{"use strict";function n(e,t){if(!e)throw Error("Invariant failed")}r.d(t,{A:()=>n})},3025:(e,t,r)=>{"use strict";r.d(t,{m:()=>n});var n=class extends EventTarget{dispatchTypedEvent(e,t){return super.dispatchEvent(t)}}}}]);