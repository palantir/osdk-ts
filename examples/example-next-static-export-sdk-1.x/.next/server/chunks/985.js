exports.id=985,exports.ids=[985],exports.modules={5076:e=>{"use strict";function t(e){return Number.isInteger(e)&&e>=0}function r(e){this.name="ArgumentError",this.message=e}e.exports=function(e,n){if(n=n||{},"function"!=typeof e)throw new r("fetch must be a function");if("object"!=typeof n)throw new r("defaults must be an object");if(void 0!==n.retries&&!t(n.retries))throw new r("retries must be a positive integer");if(void 0!==n.retryDelay&&!t(n.retryDelay)&&"function"!=typeof n.retryDelay)throw new r("retryDelay must be a positive integer or a function returning a positive integer");if(void 0!==n.retryOn&&!Array.isArray(n.retryOn)&&"function"!=typeof n.retryOn)throw new r("retryOn property expects an array or function");return n=Object.assign({retries:3,retryDelay:1e3,retryOn:[]},n),function(o,a){var i=n.retries,s=n.retryDelay,u=n.retryOn;if(a&&void 0!==a.retries){if(t(a.retries))i=a.retries;else throw new r("retries must be a positive integer")}if(a&&void 0!==a.retryDelay){if(t(a.retryDelay)||"function"==typeof a.retryDelay)s=a.retryDelay;else throw new r("retryDelay must be a positive integer or a function returning a positive integer")}if(a&&a.retryOn){if(Array.isArray(a.retryOn)||"function"==typeof a.retryOn)u=a.retryOn;else throw new r("retryOn property expects an array or function")}return new Promise(function(t,r){var n=function(n){e("undefined"!=typeof Request&&o instanceof Request?o.clone():o,a).then(function(e){if(Array.isArray(u)&&-1===u.indexOf(e.status))t(e);else if("function"==typeof u)try{return Promise.resolve(u(n,null,e)).then(function(r){r?l(n,null,e):t(e)}).catch(r)}catch(e){r(e)}else n<i?l(n,null,e):t(e)}).catch(function(e){if("function"==typeof u)try{Promise.resolve(u(n,e,null)).then(function(t){t?l(n,e,null):r(e)}).catch(function(e){r(e)})}catch(e){r(e)}else n<i?l(n,e,null):r(e)})};function l(e,t,r){setTimeout(function(){n(++e)},"function"==typeof s?s(e,t,r):s)}n(0)})}}},1695:(e,t,r)=>{"use strict";var n=r(3691);r.o(n,"useRouter")&&r.d(t,{useRouter:function(){return n.useRouter}})},4118:e=>{for(var t="0123456789bcdefghjkmnpqrstuvwxyz",r={},n=0;n<t.length;n++)r[t.charAt(n)]=n;var o="auto",a=[0,5,7,8,11,12,13,15,16,17,18],i=function(e,r,n){if(n===o){if("number"==typeof e||"number"==typeof r)throw Error("string notation required for auto precision.");n=a[Math.max(e.split(".")[1].length,r.split(".")[1].length)]}else void 0===n&&(n=9);for(var i,s=[],u=0,l=0,c=0,d=90,m=-90,h=180,p=-180;s.length<n;)if(l%2==0?r>(i=(h+p)/2)?(c=(c<<1)+1,p=i):(c=(c<<1)+0,h=i):e>(i=(d+m)/2)?(c=(c<<1)+1,m=i):(c=(c<<1)+0,d=i),u++,l++,5===u){var f=t[c];s.push(f),u=0,c=0}return s.join("")},s=function(e,t,r){r=r||52;for(var n,o=0,a=90,i=-90,s=180,u=-180,l=0;o<r;)l*=2,o%2==0?t>(n=(s+u)/2)?(l+=1,u=n):s=n:e>(n=(a+i)/2)?(l+=1,i=n):a=n,o++;return l},u=function(e){for(var t,n=!0,o=90,a=-90,i=180,s=-180,u=0,l=0,c=e.length;l<c;l++){u=r[e[l].toLowerCase()];for(var d=4;d>=0;d--){var m=u>>d&1;n?(t=(i+s)/2,1===m?s=t:i=t):(t=(o+a)/2,1===m?a=t:o=t),n=!n}}return[a,s,o,i]},l=function(e,t){for(var r=90,n=-90,o=180,a=-180,i=0,s=(t=t||52)/2,u=0;u<s;u++)i=c(e,(s-u)*2-1),0===c(e,(s-u)*2-2)?r=(r+n)/2:n=(r+n)/2,0===i?o=(o+a)/2:a=(o+a)/2;return[n,a,r,o]};function c(e,t){return e/Math.pow(2,t)&1}var d=function(e){var t=u(e),r=(t[0]+t[2])/2,n=(t[1]+t[3])/2,o=t[2]-r,a=t[3]-n;return{latitude:r,longitude:n,error:{latitude:o,longitude:a}}},m=function(e,t){var r=l(e,t),n=(r[0]+r[2])/2,o=(r[1]+r[3])/2,a=r[2]-n,i=r[3]-o;return{latitude:n,longitude:o,error:{latitude:a,longitude:i}}},h=function(e,t){var r=d(e),n=r.latitude+t[0]*r.error.latitude*2,o=r.longitude+t[1]*r.error.longitude*2;return o=f(o),i(n=y(n),o,e.length)},p=function(e,t,r){var n=m(e,r=r||52),o=n.latitude+t[0]*n.error.latitude*2,a=n.longitude+t[1]*n.error.longitude*2;return a=f(a),s(o=y(o),a,r)};function f(e){return e>180?-180+e%180:e<-180?180+e%180:e}function y(e){return e>90?90:e<-90?-90:e}e.exports={ENCODE_AUTO:o,encode:i,encode_uint64:s,encode_int:s,decode:d,decode_int:m,decode_uint64:m,decode_bbox:u,decode_bbox_uint64:l,decode_bbox_int:l,neighbor:h,neighbor_int:p,neighbors:function(e){var t,r,n=e.length,o=d(e),a=o.latitude,s=o.longitude,u=2*o.error.latitude,l=2*o.error.longitude;function c(e,o){return t=a+e*u,r=f(r=s+o*l),i(t=y(t),r,n)}return[c(1,0),c(1,1),c(0,1),c(-1,1),c(-1,0),c(-1,-1),c(0,-1),c(1,-1)]},neighbors_int:function(e,t){var r,n,o=m(e,t=t||52),a=o.latitude,i=o.longitude,u=2*o.error.latitude,l=2*o.error.longitude;function c(e,o){return r=a+e*u,n=f(n=i+o*l),s(r=y(r),n,t)}return[c(1,0),c(1,1),c(0,1),c(-1,1),c(-1,0),c(-1,-1),c(0,-1),c(1,-1)]},bboxes:function(e,t,r,n,o){for(var a=i(e,t,o=o||9),s=i(r,n,o),l=d(a),c=2*l.error.latitude,m=2*l.error.longitude,p=u(a),f=u(s),y=Math.round((f[0]-p[0])/c),g=Math.round((f[1]-p[1])/m),T=[],I=0;I<=y;I++)for(var N=0;N<=g;N++)T.push(h(a,[I,N]));return T},bboxes_int:function(e,t,r,n,o){for(var a=s(e,t,o=o||52),i=s(r,n,o),u=m(a,o),c=2*u.error.latitude,d=2*u.error.longitude,h=l(a,o),f=l(i,o),y=Math.round((f[0]-h[0])/c),g=Math.round((f[1]-h[1])/d),T=[],I=0;I<=y;I++)for(var N=0;N<=g;N++)T.push(p(a,[I,N],o));return T}}},4095:e=>{(()=>{"use strict";"undefined"!=typeof __nccwpck_require__&&(__nccwpck_require__.ab=__dirname+"/");var t={};(()=>{t.parse=function(t,r){if("string"!=typeof t)throw TypeError("argument str must be a string");for(var o={},a=t.split(n),i=(r||{}).decode||e,s=0;s<a.length;s++){var u=a[s],l=u.indexOf("=");if(!(l<0)){var c=u.substr(0,l).trim(),d=u.substr(++l,u.length).trim();'"'==d[0]&&(d=d.slice(1,-1)),void 0==o[c]&&(o[c]=function(e,t){try{return t(e)}catch(t){return e}}(d,i))}}return o},t.serialize=function(e,t,n){var a=n||{},i=a.encode||r;if("function"!=typeof i)throw TypeError("option encode is invalid");if(!o.test(e))throw TypeError("argument name is invalid");var s=i(t);if(s&&!o.test(s))throw TypeError("argument val is invalid");var u=e+"="+s;if(null!=a.maxAge){var l=a.maxAge-0;if(isNaN(l)||!isFinite(l))throw TypeError("option maxAge is invalid");u+="; Max-Age="+Math.floor(l)}if(a.domain){if(!o.test(a.domain))throw TypeError("option domain is invalid");u+="; Domain="+a.domain}if(a.path){if(!o.test(a.path))throw TypeError("option path is invalid");u+="; Path="+a.path}if(a.expires){if("function"!=typeof a.expires.toUTCString)throw TypeError("option expires is invalid");u+="; Expires="+a.expires.toUTCString()}if(a.httpOnly&&(u+="; HttpOnly"),a.secure&&(u+="; Secure"),a.sameSite)switch("string"==typeof a.sameSite?a.sameSite.toLowerCase():a.sameSite){case!0:case"strict":u+="; SameSite=Strict";break;case"lax":u+="; SameSite=Lax";break;case"none":u+="; SameSite=None";break;default:throw TypeError("option sameSite is invalid")}return u};var e=decodeURIComponent,r=encodeURIComponent,n=/; */,o=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/})(),e.exports=t})()},9714:e=>{(()=>{"use strict";"undefined"!=typeof __nccwpck_require__&&(__nccwpck_require__.ab=__dirname+"/");var t={};(()=>{function e(e,t){void 0===t&&(t={});for(var r=function(e){for(var t=[],r=0;r<e.length;){var n=e[r];if("*"===n||"+"===n||"?"===n){t.push({type:"MODIFIER",index:r,value:e[r++]});continue}if("\\"===n){t.push({type:"ESCAPED_CHAR",index:r++,value:e[r++]});continue}if("{"===n){t.push({type:"OPEN",index:r,value:e[r++]});continue}if("}"===n){t.push({type:"CLOSE",index:r,value:e[r++]});continue}if(":"===n){for(var o="",a=r+1;a<e.length;){var i=e.charCodeAt(a);if(i>=48&&i<=57||i>=65&&i<=90||i>=97&&i<=122||95===i){o+=e[a++];continue}break}if(!o)throw TypeError("Missing parameter name at "+r);t.push({type:"NAME",index:r,value:o}),r=a;continue}if("("===n){var s=1,u="",a=r+1;if("?"===e[a])throw TypeError('Pattern cannot start with "?" at '+a);for(;a<e.length;){if("\\"===e[a]){u+=e[a++]+e[a++];continue}if(")"===e[a]){if(0==--s){a++;break}}else if("("===e[a]&&(s++,"?"!==e[a+1]))throw TypeError("Capturing groups are not allowed at "+a);u+=e[a++]}if(s)throw TypeError("Unbalanced pattern at "+r);if(!u)throw TypeError("Missing pattern at "+r);t.push({type:"PATTERN",index:r,value:u}),r=a;continue}t.push({type:"CHAR",index:r,value:e[r++]})}return t.push({type:"END",index:r,value:""}),t}(e),n=t.prefixes,a=void 0===n?"./":n,i="[^"+o(t.delimiter||"/#?")+"]+?",s=[],u=0,l=0,c="",d=function(e){if(l<r.length&&r[l].type===e)return r[l++].value},m=function(e){var t=d(e);if(void 0!==t)return t;var n=r[l];throw TypeError("Unexpected "+n.type+" at "+n.index+", expected "+e)},h=function(){for(var e,t="";e=d("CHAR")||d("ESCAPED_CHAR");)t+=e;return t};l<r.length;){var p=d("CHAR"),f=d("NAME"),y=d("PATTERN");if(f||y){var g=p||"";-1===a.indexOf(g)&&(c+=g,g=""),c&&(s.push(c),c=""),s.push({name:f||u++,prefix:g,suffix:"",pattern:y||i,modifier:d("MODIFIER")||""});continue}var T=p||d("ESCAPED_CHAR");if(T){c+=T;continue}if(c&&(s.push(c),c=""),d("OPEN")){var g=h(),I=d("NAME")||"",N=d("PATTERN")||"",b=h();m("CLOSE"),s.push({name:I||(N?u++:""),pattern:I&&!N?i:N,prefix:g,suffix:b,modifier:d("MODIFIER")||""});continue}m("END")}return s}function r(e,t){void 0===t&&(t={});var r=a(t),n=t.encode,o=void 0===n?function(e){return e}:n,i=t.validate,s=void 0===i||i,u=e.map(function(e){if("object"==typeof e)return RegExp("^(?:"+e.pattern+")$",r)});return function(t){for(var r="",n=0;n<e.length;n++){var a=e[n];if("string"==typeof a){r+=a;continue}var i=t?t[a.name]:void 0,l="?"===a.modifier||"*"===a.modifier,c="*"===a.modifier||"+"===a.modifier;if(Array.isArray(i)){if(!c)throw TypeError('Expected "'+a.name+'" to not repeat, but got an array');if(0===i.length){if(l)continue;throw TypeError('Expected "'+a.name+'" to not be empty')}for(var d=0;d<i.length;d++){var m=o(i[d],a);if(s&&!u[n].test(m))throw TypeError('Expected all "'+a.name+'" to match "'+a.pattern+'", but got "'+m+'"');r+=a.prefix+m+a.suffix}continue}if("string"==typeof i||"number"==typeof i){var m=o(String(i),a);if(s&&!u[n].test(m))throw TypeError('Expected "'+a.name+'" to match "'+a.pattern+'", but got "'+m+'"');r+=a.prefix+m+a.suffix;continue}if(!l){var h=c?"an array":"a string";throw TypeError('Expected "'+a.name+'" to be '+h)}}return r}}function n(e,t,r){void 0===r&&(r={});var n=r.decode,o=void 0===n?function(e){return e}:n;return function(r){var n=e.exec(r);if(!n)return!1;for(var a=n[0],i=n.index,s=Object.create(null),u=1;u<n.length;u++)!function(e){if(void 0!==n[e]){var r=t[e-1];"*"===r.modifier||"+"===r.modifier?s[r.name]=n[e].split(r.prefix+r.suffix).map(function(e){return o(e,r)}):s[r.name]=o(n[e],r)}}(u);return{path:a,index:i,params:s}}}function o(e){return e.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1")}function a(e){return e&&e.sensitive?"":"i"}function i(e,t,r){void 0===r&&(r={});for(var n=r.strict,i=void 0!==n&&n,s=r.start,u=r.end,l=r.encode,c=void 0===l?function(e){return e}:l,d="["+o(r.endsWith||"")+"]|$",m="["+o(r.delimiter||"/#?")+"]",h=void 0===s||s?"^":"",p=0;p<e.length;p++){var f=e[p];if("string"==typeof f)h+=o(c(f));else{var y=o(c(f.prefix)),g=o(c(f.suffix));if(f.pattern){if(t&&t.push(f),y||g){if("+"===f.modifier||"*"===f.modifier){var T="*"===f.modifier?"?":"";h+="(?:"+y+"((?:"+f.pattern+")(?:"+g+y+"(?:"+f.pattern+"))*)"+g+")"+T}else h+="(?:"+y+"("+f.pattern+")"+g+")"+f.modifier}else h+="("+f.pattern+")"+f.modifier}else h+="(?:"+y+g+")"+f.modifier}}if(void 0===u||u)i||(h+=m+"?"),h+=r.endsWith?"(?="+d+")":"$";else{var I=e[e.length-1],N="string"==typeof I?m.indexOf(I[I.length-1])>-1:void 0===I;i||(h+="(?:"+m+"(?="+d+"))?"),N||(h+="(?="+m+"|"+d+")")}return new RegExp(h,a(r))}function s(t,r,n){return t instanceof RegExp?function(e,t){if(!t)return e;var r=e.source.match(/\((?!\?)/g);if(r)for(var n=0;n<r.length;n++)t.push({name:n,prefix:"",suffix:"",modifier:"",pattern:""});return e}(t,r):Array.isArray(t)?RegExp("(?:"+t.map(function(e){return s(e,r,n).source}).join("|")+")",a(n)):i(e(t,n),r,n)}Object.defineProperty(t,"__esModule",{value:!0}),t.parse=e,t.compile=function(t,n){return r(e(t,n),n)},t.tokensToFunction=r,t.match=function(e,t){var r=[];return n(s(e,r,t),r,t)},t.regexpToFunction=n,t.tokensToRegexp=i,t.pathToRegexp=s})(),e.exports=t})()},5418:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{fillMetadataSegment:function(){return m},normalizeMetadataPageToRoute:function(){return p},normalizeMetadataRoute:function(){return h}});let n=r(4752),o=function(e){return e&&e.__esModule?e:{default:e}}(r(4495)),a=r(7013),i=r(6895),s=r(8468),u=r(1778),l=r(238),c=r(779);function d(e){let t=o.default.dirname(e);if(e.endsWith("/sitemap"))return"";let r="";return t.split("/").some(e=>(0,c.isGroupSegment)(e)||(0,c.isParallelRouteSegment)(e))&&(r=(0,s.djb2Hash)(t).toString(36).slice(0,6)),r}function m(e,t,r){let n=(0,u.normalizeAppPath)(e),s=(0,i.getNamedRouteRegex)(n,!1),c=(0,a.interpolateDynamicPath)(n,t,s),{name:m,ext:h}=o.default.parse(r),p=d(o.default.posix.join(e,m)),f=p?`-${p}`:"";return(0,l.normalizePathSep)(o.default.join(c,`${m}${f}${h}`))}function h(e){if(!(0,n.isMetadataRoute)(e))return e;let t=e,r="";if("/robots"===e?t+=".txt":"/manifest"===e?t+=".webmanifest":r=d(e),!t.endsWith("/route")){let{dir:e,name:n,ext:a}=o.default.parse(t);t=o.default.posix.join(e,`${n}${r?`-${r}`:""}${a}`,"route")}return t}function p(e,t){let r=e.endsWith("/route"),n=r?e.slice(0,-6):e,o=n.endsWith("/sitemap")?".xml":"";return(t?`${n}/[__metadata_id__]`:`${n}${o}`)+(r?"/route":"")}},4752:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{STATIC_METADATA_IMAGES:function(){return o},getExtensionRegexString:function(){return i},isMetadataRoute:function(){return c},isMetadataRouteFile:function(){return s},isStaticMetadataRoute:function(){return l},isStaticMetadataRouteFile:function(){return u}});let n=r(238),o={icon:{filename:"icon",extensions:["ico","jpg","jpeg","png","svg"]},apple:{filename:"apple-icon",extensions:["jpg","jpeg","png"]},favicon:{filename:"favicon",extensions:["ico"]},openGraph:{filename:"opengraph-image",extensions:["jpg","jpeg","png","gif"]},twitter:{filename:"twitter-image",extensions:["jpg","jpeg","png","gif"]}},a=["js","jsx","ts","tsx"],i=(e,t)=>t?`(?:\\.(${e.join("|")})|((\\[\\])?\\.(${t.join("|")})))`:`\\.(?:${e.join("|")})`;function s(e,t,r){let a=[RegExp(`^[\\\\/]robots${r?`${i(t.concat("txt"),null)}$`:""}`),RegExp(`^[\\\\/]manifest${r?`${i(t.concat("webmanifest","json"),null)}$`:""}`),RegExp("^[\\\\/]favicon\\.ico$"),RegExp(`[\\\\/]sitemap${r?`${i(["xml"],t)}$`:""}`),RegExp(`[\\\\/]${o.icon.filename}\\d?${r?`${i(o.icon.extensions,t)}$`:""}`),RegExp(`[\\\\/]${o.apple.filename}\\d?${r?`${i(o.apple.extensions,t)}$`:""}`),RegExp(`[\\\\/]${o.openGraph.filename}\\d?${r?`${i(o.openGraph.extensions,t)}$`:""}`),RegExp(`[\\\\/]${o.twitter.filename}\\d?${r?`${i(o.twitter.extensions,t)}$`:""}`)],s=(0,n.normalizePathSep)(e);return a.some(e=>e.test(s))}function u(e){return s(e,[],!0)}function l(e){return"/robots"===e||"/manifest"===e||u(e)}function c(e){let t=e.replace(/^\/?app\//,"").replace(/\/route$/,"");return"/"!==t[0]&&(t="/"+t),!t.endsWith("/page")&&s(t,a,!1)}},2020:(e,t,r)=>{"use strict";function n(e){return function(){let{cookie:t}=e;if(!t)return{};let{parse:n}=r(4095);return n(Array.isArray(t)?t.join("; "):t)}}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"getCookieParser",{enumerable:!0,get:function(){return n}})},1269:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{INTERCEPTION_ROUTE_MARKERS:function(){return o},extractInterceptionRouteInformation:function(){return i},isInterceptionRouteAppPath:function(){return a}});let n=r(1778),o=["(..)(..)","(.)","(..)","(...)"];function a(e){return void 0!==e.split("/").find(e=>o.find(t=>e.startsWith(t)))}function i(e){let t,r,a;for(let n of e.split("/"))if(r=o.find(e=>n.startsWith(e))){[t,a]=e.split(r,2);break}if(!t||!r||!a)throw Error(`Invalid interception route: ${e}. Must be in the format /<intercepting route>/(..|...|..)(..)/<intercepted route>`);switch(t=(0,n.normalizeAppPath)(t),r){case"(.)":a="/"===t?`/${a}`:t+"/"+a;break;case"(..)":if("/"===t)throw Error(`Invalid interception route: ${e}. Cannot use (..) marker at the root level, use (.) instead.`);a=t.split("/").slice(0,-1).concat(a).join("/");break;case"(...)":a="/"+a;break;case"(..)(..)":let i=t.split("/");if(i.length<=2)throw Error(`Invalid interception route: ${e}. Cannot use (..)(..) marker at the root level or one level up.`);a=i.slice(0,-2).concat(a).join("/");break;default:throw Error("Invariant: unexpected marker")}return{interceptingRoute:t,interceptedRoute:a}}},7013:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{getUtils:function(){return f},interpolateDynamicPath:function(){return h},normalizeDynamicRouteParams:function(){return p},normalizeVercelUrl:function(){return m}});let n=r(9551),o=r(3159),a=r(9893),i=r(6895),s=r(9234),u=r(7878),l=r(2951),c=r(1778),d=r(6335);function m(e,t,r,o,a){if(o&&t&&a){let t=(0,n.parse)(e.url,!0);for(let e of(delete t.search,Object.keys(t.query))){let n=e!==d.NEXT_QUERY_PARAM_PREFIX&&e.startsWith(d.NEXT_QUERY_PARAM_PREFIX),o=e!==d.NEXT_INTERCEPTION_MARKER_PREFIX&&e.startsWith(d.NEXT_INTERCEPTION_MARKER_PREFIX);(n||o||(r||Object.keys(a.groups)).includes(e))&&delete t.query[e]}e.url=(0,n.format)(t)}}function h(e,t,r){if(!r)return e;for(let n of Object.keys(r.groups)){let o;let{optional:a,repeat:i}=r.groups[n],s=`[${i?"...":""}${n}]`;a&&(s=`[${s}]`);let u=t[n];o=Array.isArray(u)?u.map(e=>e&&encodeURIComponent(e)).join("/"):u?encodeURIComponent(u):"",e=e.replaceAll(s,o)}return e}function p(e,t,r,n){let o=!0;return r?{params:e=Object.keys(r.groups).reduce((a,i)=>{let s=e[i];"string"==typeof s&&(s=(0,c.normalizeRscURL)(s)),Array.isArray(s)&&(s=s.map(e=>("string"==typeof e&&(e=(0,c.normalizeRscURL)(e)),e)));let u=n[i],l=r.groups[i].optional;return((Array.isArray(u)?u.some(e=>Array.isArray(s)?s.some(t=>t.includes(e)):null==s?void 0:s.includes(e)):null==s?void 0:s.includes(u))||void 0===s&&!(l&&t))&&(o=!1),l&&(!s||Array.isArray(s)&&1===s.length&&("index"===s[0]||s[0]===`[[...${i}]]`))&&(s=void 0,delete e[i]),s&&"string"==typeof s&&r.groups[i].repeat&&(s=s.split("/")),s&&(a[i]=s),a},{}),hasValidParams:o}:{params:e,hasValidParams:!1}}function f({page:e,i18n:t,basePath:r,rewrites:n,pageIsDynamic:c,trailingSlash:f,caseSensitive:y}){let g,T,I;return c&&(g=(0,i.getNamedRouteRegex)(e,!1),I=(T=(0,s.getRouteMatcher)(g))(e)),{handleRewrites:function(i,s){let d={},m=s.pathname,h=n=>{let l=(0,a.getPathMatch)(n.source+(f?"(/)?":""),{removeUnnamedParams:!0,strict:!0,sensitive:!!y})(s.pathname);if((n.has||n.missing)&&l){let e=(0,u.matchHas)(i,s.query,n.has,n.missing);e?Object.assign(l,e):l=!1}if(l){let{parsedDestination:a,destQuery:i}=(0,u.prepareDestination)({appendParamsToQuery:!0,destination:n.destination,params:l,query:s.query});if(a.protocol)return!0;if(Object.assign(d,i,l),Object.assign(s.query,a.query),delete a.query,Object.assign(s,a),m=s.pathname,r&&(m=m.replace(RegExp(`^${r}`),"")||"/"),t){let e=(0,o.normalizeLocalePath)(m,t.locales);m=e.pathname,s.query.nextInternalLocale=e.detectedLocale||l.nextInternalLocale}if(m===e)return!0;if(c&&T){let e=T(m);if(e)return s.query={...s.query,...e},!0}}return!1};for(let e of n.beforeFiles||[])h(e);if(m!==e){let t=!1;for(let e of n.afterFiles||[])if(t=h(e))break;if(!t&&!(()=>{let t=(0,l.removeTrailingSlash)(m||"");return t===(0,l.removeTrailingSlash)(e)||(null==T?void 0:T(t))})()){for(let e of n.fallback||[])if(t=h(e))break}}return d},defaultRouteRegex:g,dynamicRouteMatcher:T,defaultRouteMatches:I,getParamsFromRouteMatches:function(e,r,n){return(0,s.getRouteMatcher)(function(){let{groups:e,routeKeys:o}=g;return{re:{exec:a=>{let i=Object.fromEntries(new URLSearchParams(a)),s=t&&n&&i["1"]===n;for(let e of Object.keys(i)){let t=i[e];e!==d.NEXT_QUERY_PARAM_PREFIX&&e.startsWith(d.NEXT_QUERY_PARAM_PREFIX)&&(i[e.substring(d.NEXT_QUERY_PARAM_PREFIX.length)]=t,delete i[e])}let u=Object.keys(o||{}),l=e=>{if(t){let o=Array.isArray(e),a=o?e[0]:e;if("string"==typeof a&&t.locales.some(e=>e.toLowerCase()===a.toLowerCase()&&(n=e,r.locale=n,!0)))return o&&e.splice(0,1),!o||0===e.length}return!1};return u.every(e=>i[e])?u.reduce((t,r)=>{let n=null==o?void 0:o[r];return n&&!l(i[r])&&(t[e[n].pos]=i[r]),t},{}):Object.keys(i).reduce((e,t)=>{if(!l(i[t])){let r=t;return s&&(r=parseInt(t,10)-1+""),Object.assign(e,{[r]:i[t]})}return e},{})}},groups:e}}())(e.headers["x-now-route-matches"])},normalizeDynamicRouteParams:(e,t)=>p(e,t,g,I),normalizeVercelUrl:(e,t,r)=>m(e,t,r,c,g),interpolateDynamicPath:(e,t)=>h(e,t,g)}}},781:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"escapeStringRegexp",{enumerable:!0,get:function(){return o}});let r=/[|\\{}()[\]^$+*?.-]/,n=/[|\\{}()[\]^$+*?.-]/g;function o(e){return r.test(e)?e.replace(n,"\\$&"):e}},8468:(e,t)=>{"use strict";function r(e){let t=5381;for(let r=0;r<e.length;r++)t=(t<<5)+t+e.charCodeAt(r)&0xffffffff;return t>>>0}function n(e){return r(e).toString(36).slice(0,5)}Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{djb2Hash:function(){return r},hexHash:function(){return n}})},8859:(e,t)=>{"use strict";function r(e){return e.startsWith("/")?e:"/"+e}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"ensureLeadingSlash",{enumerable:!0,get:function(){return r}})},238:(e,t)=>{"use strict";function r(e){return e.replace(/\\/g,"/")}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"normalizePathSep",{enumerable:!0,get:function(){return r}})},1778:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{normalizeAppPath:function(){return a},normalizeRscURL:function(){return i}});let n=r(8859),o=r(779);function a(e){return(0,n.ensureLeadingSlash)(e.split("/").reduce((e,t,r,n)=>!t||(0,o.isGroupSegment)(t)||"@"===t[0]||("page"===t||"route"===t)&&r===n.length-1?e:e+"/"+t,""))}function i(e){return e.replace(/\.rsc($|\?)/,"$1")}},9528:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"parseRelativeUrl",{enumerable:!0,get:function(){return o}}),r(7163);let n=r(7665);function o(e,t,r){void 0===r&&(r=!0);let o=new URL("http://n"),a=t?new URL(t,o):e.startsWith(".")?new URL("http://n"):o,{pathname:i,searchParams:s,search:u,hash:l,href:c,origin:d}=new URL(e,a);if(d!==o.origin)throw Error("invariant: invalid relative URL, router received "+e);return{pathname:i,query:r?(0,n.searchParamsToUrlQuery)(s):void 0,search:u,hash:l,href:c.slice(d.length)}}},3815:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"parseUrl",{enumerable:!0,get:function(){return a}});let n=r(7665),o=r(9528);function a(e){if(e.startsWith("/"))return(0,o.parseRelativeUrl)(e);let t=new URL(e);return{hash:t.hash,hostname:t.hostname,href:t.href,pathname:t.pathname,port:t.port,protocol:t.protocol,query:(0,n.searchParamsToUrlQuery)(t.searchParams),search:t.search}}},9893:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"getPathMatch",{enumerable:!0,get:function(){return o}});let n=r(9714);function o(e,t){let r=[],o=(0,n.pathToRegexp)(e,r,{delimiter:"/",sensitive:"boolean"==typeof(null==t?void 0:t.sensitive)&&t.sensitive,strict:null==t?void 0:t.strict}),a=(0,n.regexpToFunction)((null==t?void 0:t.regexModifier)?new RegExp(t.regexModifier(o.source),o.flags):o,r);return(e,n)=>{if("string"!=typeof e)return!1;let o=a(e);if(!o)return!1;if(null==t?void 0:t.removeUnnamedParams)for(let e of r)"number"==typeof e.name&&delete o.params[e.name];return{...n,...o.params}}}},7878:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{compileNonPath:function(){return d},matchHas:function(){return c},prepareDestination:function(){return m}});let n=r(9714),o=r(781),a=r(3815),i=r(1269),s=r(217),u=r(2020);function l(e){return e.replace(/__ESC_COLON_/gi,":")}function c(e,t,r,n){void 0===r&&(r=[]),void 0===n&&(n=[]);let o={},a=r=>{let n;let a=r.key;switch(r.type){case"header":a=a.toLowerCase(),n=e.headers[a];break;case"cookie":n="cookies"in e?e.cookies[r.key]:(0,u.getCookieParser)(e.headers)()[r.key];break;case"query":n=t[a];break;case"host":{let{host:t}=(null==e?void 0:e.headers)||{};n=null==t?void 0:t.split(":",1)[0].toLowerCase()}}if(!r.value&&n)return o[function(e){let t="";for(let r=0;r<e.length;r++){let n=e.charCodeAt(r);(n>64&&n<91||n>96&&n<123)&&(t+=e[r])}return t}(a)]=n,!0;if(n){let e=RegExp("^"+r.value+"$"),t=Array.isArray(n)?n.slice(-1)[0].match(e):n.match(e);if(t)return Array.isArray(t)&&(t.groups?Object.keys(t.groups).forEach(e=>{o[e]=t.groups[e]}):"host"===r.type&&t[0]&&(o.host=t[0])),!0}return!1};return!!r.every(e=>a(e))&&!n.some(e=>a(e))&&o}function d(e,t){if(!e.includes(":"))return e;for(let r of Object.keys(t))e.includes(":"+r)&&(e=e.replace(RegExp(":"+r+"\\*","g"),":"+r+"--ESCAPED_PARAM_ASTERISKS").replace(RegExp(":"+r+"\\?","g"),":"+r+"--ESCAPED_PARAM_QUESTION").replace(RegExp(":"+r+"\\+","g"),":"+r+"--ESCAPED_PARAM_PLUS").replace(RegExp(":"+r+"(?!\\w)","g"),"--ESCAPED_PARAM_COLON"+r));return e=e.replace(/(:|\*|\?|\+|\(|\)|\{|\})/g,"\\$1").replace(/--ESCAPED_PARAM_PLUS/g,"+").replace(/--ESCAPED_PARAM_COLON/g,":").replace(/--ESCAPED_PARAM_QUESTION/g,"?").replace(/--ESCAPED_PARAM_ASTERISKS/g,"*"),(0,n.compile)("/"+e,{validate:!1})(t).slice(1)}function m(e){let t;let r=Object.assign({},e.query);delete r.__nextLocale,delete r.__nextDefaultLocale,delete r.__nextDataReq,delete r.__nextInferredLocaleFromDefault,delete r[s.NEXT_RSC_UNION_QUERY];let u=e.destination;for(let t of Object.keys({...e.params,...r}))u=t?u.replace(RegExp(":"+(0,o.escapeStringRegexp)(t),"g"),"__ESC_COLON_"+t):u;let c=(0,a.parseUrl)(u),m=c.query,h=l(""+c.pathname+(c.hash||"")),p=l(c.hostname||""),f=[],y=[];(0,n.pathToRegexp)(h,f),(0,n.pathToRegexp)(p,y);let g=[];f.forEach(e=>g.push(e.name)),y.forEach(e=>g.push(e.name));let T=(0,n.compile)(h,{validate:!1}),I=(0,n.compile)(p,{validate:!1});for(let[t,r]of Object.entries(m))Array.isArray(r)?m[t]=r.map(t=>d(l(t),e.params)):"string"==typeof r&&(m[t]=d(l(r),e.params));let N=Object.keys(e.params).filter(e=>"nextInternalLocale"!==e);if(e.appendParamsToQuery&&!N.some(e=>g.includes(e)))for(let t of N)t in m||(m[t]=e.params[t]);if((0,i.isInterceptionRouteAppPath)(h))for(let t of h.split("/")){let r=i.INTERCEPTION_ROUTE_MARKERS.find(e=>t.startsWith(e));if(r){"(..)(..)"===r?(e.params["0"]="(..)",e.params["1"]="(..)"):e.params["0"]=r;break}}try{let[r,n]=(t=T(e.params)).split("#",2);c.hostname=I(e.params),c.pathname=r,c.hash=(n?"#":"")+(n||""),delete c.search}catch(e){if(e.message.match(/Expected .*? to not repeat, but got an array/))throw Error("To use a multi-match in the destination you must add `*` at the end of the param name to signify it should repeat. https://nextjs.org/docs/messages/invalid-multi-match");throw e}return c.query={...r,...c.query},{newUrl:t,destQuery:m,parsedDestination:c}}},7665:(e,t)=>{"use strict";function r(e){let t={};return e.forEach((e,r)=>{void 0===t[r]?t[r]=e:Array.isArray(t[r])?t[r].push(e):t[r]=[t[r],e]}),t}function n(e){return"string"!=typeof e&&("number"!=typeof e||isNaN(e))&&"boolean"!=typeof e?"":String(e)}function o(e){let t=new URLSearchParams;return Object.entries(e).forEach(e=>{let[r,o]=e;Array.isArray(o)?o.forEach(e=>t.append(r,n(e))):t.set(r,n(o))}),t}function a(e){for(var t=arguments.length,r=Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return r.forEach(t=>{Array.from(t.keys()).forEach(t=>e.delete(t)),t.forEach((t,r)=>e.append(r,t))}),e}Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{assign:function(){return a},searchParamsToUrlQuery:function(){return r},urlQueryToSearchParams:function(){return o}})},9234:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"getRouteMatcher",{enumerable:!0,get:function(){return o}});let n=r(7163);function o(e){let{re:t,groups:r}=e;return e=>{let o=t.exec(e);if(!o)return!1;let a=e=>{try{return decodeURIComponent(e)}catch(e){throw new n.DecodeError("failed to decode param")}},i={};return Object.keys(r).forEach(e=>{let t=r[e],n=o[t.pos];void 0!==n&&(i[e]=~n.indexOf("/")?n.split("/").map(e=>a(e)):t.repeat?[a(n)]:a(n))}),i}}},6895:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{getNamedMiddlewareRegex:function(){return f},getNamedRouteRegex:function(){return p},getRouteRegex:function(){return d},parseParameter:function(){return u}});let n=r(6335),o=r(1269),a=r(781),i=r(2951),s=/\[((?:\[.*\])|.+)\]/;function u(e){let t=e.match(s);return t?l(t[1]):l(e)}function l(e){let t=e.startsWith("[")&&e.endsWith("]");t&&(e=e.slice(1,-1));let r=e.startsWith("...");return r&&(e=e.slice(3)),{key:e,repeat:r,optional:t}}function c(e){let t=(0,i.removeTrailingSlash)(e).slice(1).split("/"),r={},n=1;return{parameterizedRoute:t.map(e=>{let t=o.INTERCEPTION_ROUTE_MARKERS.find(t=>e.startsWith(t)),i=e.match(s);if(t&&i){let{key:e,optional:o,repeat:s}=l(i[1]);return r[e]={pos:n++,repeat:s,optional:o},"/"+(0,a.escapeStringRegexp)(t)+"([^/]+?)"}if(!i)return"/"+(0,a.escapeStringRegexp)(e);{let{key:e,repeat:t,optional:o}=l(i[1]);return r[e]={pos:n++,repeat:t,optional:o},t?o?"(?:/(.+?))?":"/(.+?)":"/([^/]+?)"}}).join(""),groups:r}}function d(e){let{parameterizedRoute:t,groups:r}=c(e);return{re:RegExp("^"+t+"(?:/)?$"),groups:r}}function m(e){let{interceptionMarker:t,getSafeRouteKey:r,segment:n,routeKeys:o,keyPrefix:i}=e,{key:s,optional:u,repeat:c}=l(n),d=s.replace(/\W/g,"");i&&(d=""+i+d);let m=!1;(0===d.length||d.length>30)&&(m=!0),isNaN(parseInt(d.slice(0,1)))||(m=!0),m&&(d=r()),i?o[d]=""+i+s:o[d]=s;let h=t?(0,a.escapeStringRegexp)(t):"";return c?u?"(?:/"+h+"(?<"+d+">.+?))?":"/"+h+"(?<"+d+">.+?)":"/"+h+"(?<"+d+">[^/]+?)"}function h(e,t){let r;let s=(0,i.removeTrailingSlash)(e).slice(1).split("/"),u=(r=0,()=>{let e="",t=++r;for(;t>0;)e+=String.fromCharCode(97+(t-1)%26),t=Math.floor((t-1)/26);return e}),l={};return{namedParameterizedRoute:s.map(e=>{let r=o.INTERCEPTION_ROUTE_MARKERS.some(t=>e.startsWith(t)),i=e.match(/\[((?:\[.*\])|.+)\]/);if(r&&i){let[r]=e.split(i[0]);return m({getSafeRouteKey:u,interceptionMarker:r,segment:i[1],routeKeys:l,keyPrefix:t?n.NEXT_INTERCEPTION_MARKER_PREFIX:void 0})}return i?m({getSafeRouteKey:u,segment:i[1],routeKeys:l,keyPrefix:t?n.NEXT_QUERY_PARAM_PREFIX:void 0}):"/"+(0,a.escapeStringRegexp)(e)}).join(""),routeKeys:l}}function p(e,t){let r=h(e,t);return{...d(e),namedRegex:"^"+r.namedParameterizedRoute+"(?:/)?$",routeKeys:r.routeKeys}}function f(e,t){let{parameterizedRoute:r}=c(e),{catchAll:n=!0}=t;if("/"===r)return{namedRegex:"^/"+(n?".*":"")+"$"};let{namedParameterizedRoute:o}=h(e,!1);return{namedRegex:"^"+o+(n?"(?:(/.*)?)":"")+"$"}}},7163:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{DecodeError:function(){return p},MiddlewareNotFoundError:function(){return T},MissingStaticPage:function(){return g},NormalizeError:function(){return f},PageNotFoundError:function(){return y},SP:function(){return m},ST:function(){return h},WEB_VITALS:function(){return r},execOnce:function(){return n},getDisplayName:function(){return u},getLocationOrigin:function(){return i},getURL:function(){return s},isAbsoluteUrl:function(){return a},isResSent:function(){return l},loadGetInitialProps:function(){return d},normalizeRepeatedSlashes:function(){return c},stringifyError:function(){return I}});let r=["CLS","FCP","FID","INP","LCP","TTFB"];function n(e){let t,r=!1;return function(){for(var n=arguments.length,o=Array(n),a=0;a<n;a++)o[a]=arguments[a];return r||(r=!0,t=e(...o)),t}}let o=/^[a-zA-Z][a-zA-Z\d+\-.]*?:/,a=e=>o.test(e);function i(){let{protocol:e,hostname:t,port:r}=window.location;return e+"//"+t+(r?":"+r:"")}function s(){let{href:e}=window.location,t=i();return e.substring(t.length)}function u(e){return"string"==typeof e?e:e.displayName||e.name||"Unknown"}function l(e){return e.finished||e.headersSent}function c(e){let t=e.split("?");return t[0].replace(/\\/g,"/").replace(/\/\/+/g,"/")+(t[1]?"?"+t.slice(1).join("?"):"")}async function d(e,t){let r=t.res||t.ctx&&t.ctx.res;if(!e.getInitialProps)return t.ctx&&t.Component?{pageProps:await d(t.Component,t.ctx)}:{};let n=await e.getInitialProps(t);if(r&&l(r))return n;if(!n)throw Error('"'+u(e)+'.getInitialProps()" should resolve to an object. But found "'+n+'" instead.');return n}let m="undefined"!=typeof performance,h=m&&["mark","measure","getEntriesByName"].every(e=>"function"==typeof performance[e]);class p extends Error{}class f extends Error{}class y extends Error{constructor(e){super(),this.code="ENOENT",this.name="PageNotFoundError",this.message="Cannot find module for page: "+e}}class g extends Error{constructor(e,t){super(),this.message="Failed to load static file for page: "+e+" "+t}}class T extends Error{constructor(){super(),this.code="ENOENT",this.message="Cannot find the middleware module"}}function I(e){return JSON.stringify({message:e.message,stack:e.stack})}},7972:(e,t,r)=>{"use strict";r.r(t),r.d(t,{ActionExecutionMode:()=>au,ActionResponse:()=>ad,ActionValidationResult:()=>ac,ApproximateDistinctCountAggregatableProperty:()=>i_,ArrayFilter:()=>iZ,ArrayType:()=>aK,AttachmentFilter:()=>iJ,AttachmentType:()=>aZ,BaseFoundryClient:()=>su,BooleanFilter:()=>iH,BooleanGroupBy:()=>iP,BooleanType:()=>aF,ByteType:()=>a_,ComputeStep:()=>ik,ConfidentialClientAuth:()=>sl,CountOperation:()=>iA,DateType:()=>aR,DecimalType:()=>aL,DefaultAggregatableProperty:()=>iL,Distance:()=>aI,DistanceUnit:()=>aT,DoubleType:()=>az,FloatType:()=>a$,FoundryApiError:()=>ok,GeoPoint:()=>aS,GeoPointFilter:()=>iX,GeoPointType:()=>aB,GeoShape:()=>aC,GeoShapeFilter:()=>i1,GeoShapeType:()=>aq,GeometryCollection:()=>aP,GroupKeyType:()=>iI,IntegerType:()=>ax,LineString:()=>aw,LocalDate:()=>aM,LocalDateFilter:()=>iK,LocalDateGroupBy:()=>iD,LocalDatePropertyMetric:()=>iV,LongType:()=>aW,MetricValueType:()=>iN,MultiGeoPoint:()=>aO,MultiLineString:()=>av,MultiPolygon:()=>aA,MultipleAggregatableProperty:()=>i$,NumericFilter:()=>i2,NumericGroupBy:()=>ij,NumericPropertyMetric:()=>iU,OAuthToken:()=>sd,ObjectType:()=>aJ,Op:()=>i3,OrderByOption:()=>i8,Polygon:()=>ak,PublicClientAuth:()=>sO,ReturnEditsMode:()=>al,SetType:()=>aQ,ShortType:()=>aG,StringFilter:()=>i9,StringGroupBy:()=>ix,StringType:()=>aj,StructField:()=>aH,StructType:()=>aY,TimeSeriesType:()=>aV,Timestamp:()=>aD,TimestampFilter:()=>iY,TimestampGroupBy:()=>iR,TimestampPropertyMetric:()=>iG,TimestampType:()=>aU,UserTokenAuth:()=>sv,assertBucketingInternal:()=>ip,isCountOperation:()=>iC,isErr:()=>o9,isGeoPoint:()=>ab,isOk:()=>o8,isOntologyObject:()=>aX,mapCoordinatesToGeoPoint:()=>aE,visitError:()=>o7,visitInternalBucketing:()=>iy});var n=Object.defineProperty;function o(e,t){return e("POST","/v1/datasets",t,w,w)}function a(e,t){return e("GET",`/v1/datasets/${t}`,w,w,w)}function i(e,t,r){return e("GET",`/v1/datasets/${t}/readTable`,w,r,w,w,E)}function s(e,t,r){return e("GET",`/v1/datasets/${t}/schema`,w,r,w)}function u(e,t,r,n){return e("PUT",`/v1/datasets/${t}/schema`,r,n,w)}function l(e,t,r){return e("DELETE",`/v1/datasets/${t}/schema`,w,r,w)}function c(e,t,r){return e("GET",`/v1/datasets/${t}/branches`,w,r,w)}function d(e,t,r){return e("POST",`/v1/datasets/${t}/branches`,r,w,w)}function m(e,t,r){return e("GET",`/v1/datasets/${t}/branches/${r}`,w,w,w)}function h(e,t,r){return e("DELETE",`/v1/datasets/${t}/branches/${r}`,w,w,w)}function p(e,t,r,n){return e("POST",`/v1/datasets/${t}/transactions`,r,n,w)}function f(e,t,r){return e("GET",`/v1/datasets/${t}/transactions/${r}`,w,w,w)}function y(e,t,r){return e("POST",`/v1/datasets/${t}/transactions/${r}/commit`,w,w,w)}function g(e,t,r){return e("POST",`/v1/datasets/${t}/transactions/${r}/abort`,w,w,w)}function T(e,t,r){return e("GET",`/v1/datasets/${t}/files`,w,r,w)}function I(e,t,r,n){return e("POST",`/v1/datasets/${t}/files:upload`,r,n,w,E)}function N(e,t,r,n){return e("GET",`/v1/datasets/${t}/files/${r}`,w,n,w)}function b(e,t,r,n){return e("DELETE",`/v1/datasets/${t}/files/${r}`,w,n,w)}function S(e,t,r,n){return e("GET",`/v1/datasets/${t}/files/${r}/content`,w,n,w,w,E)}var E="*/*",w=void 0;function O(e,t,r){return e("POST",`/v1/models/languageModels/${t}/chatCompletions`,r,P,P)}function v(e,t,r){return e("POST",`/v1/models/languageModels/${t}/chatCompletions/stream`,r,P,P,C,A)}function k(e,t){return e("GET","/v1/models/languageModels",P,t,P)}var A="*/*",C="application/json",P=void 0;function D(e){return e("GET","/v1/ontologies",eo,eo,eo)}function M(e,t){return e("GET",`/v1/ontologies/${t}`,eo,eo,eo)}function j(e,t,r){return e("GET",`/v1/ontologies/${t}/objectTypes`,eo,r,eo)}function x(e,t,r){return e("GET",`/v1/ontologies/${t}/objectTypes/${r}`,eo,eo,eo)}function R(e,t,r,n){return e("GET",`/v1/ontologies/${t}/objectTypes/${r}/outgoingLinkTypes`,eo,n,eo)}function F(e,t,r,n){return e("GET",`/v1/ontologies/${t}/objectTypes/${r}/outgoingLinkTypes/${n}`,eo,eo,eo)}function _(e,t,r){return e("GET",`/v1/ontologies/${t}/actionTypes`,eo,r,eo)}function L(e,t,r){return e("GET",`/v1/ontologies/${t}/actionTypes/${r}`,eo,eo,eo)}function $(e,t,r,n){return e("POST",`/v1/ontologies/${t}/actions/${r}/apply`,n,eo,eo)}function V(e,t,r,n){return e("POST",`/v1/ontologies/${t}/actions/${r}/applyBatch`,n,eo,eo)}function U(e,t,r,n,o){return e("POST",`/v1/ontologies/${t}/actions/${r}/applyAsync`,n,o,eo,en,er)}function G(e,t,r,n,o){return e("GET",`/v1/ontologies/${t}/actions/${r}/applyAsync/${n}`,eo,o,eo)}function W(e,t,r,n){return e("POST",`/v1/ontologies/${t}/actions/${r}/validate`,n,eo,eo)}function z(e,t,r){return e("GET",`/v1/ontologies/${t}/queryTypes`,eo,r,eo)}function B(e,t,r,n){return e("GET",`/v1/ontologies/${t}/queryTypes/${r}`,eo,n,eo)}function q(e,t,r,n,o){return e("POST",`/v1/ontologies/${t}/queries/${r}/execute`,n,o,eo)}function Z(e,t,r,n){return e("GET",`/v1/ontologies/${t}/objects/${r}`,eo,n,eo)}function J(e,t,r,n,o){return e("GET",`/v1/ontologies/${t}/objects/${r}/${n}`,eo,o,eo)}function H(e,t,r,n,o,a){return e("GET",`/v1/ontologies/${t}/objects/${r}/${n}/links/${o}`,eo,a,eo)}function Y(e,t,r,n,o,a,i){return e("GET",`/v1/ontologies/${t}/objects/${r}/${n}/links/${o}/${a}`,eo,i,eo)}function K(e,t,r,n){return e("POST",`/v1/ontologies/${t}/objects/${r}/search`,n,eo,eo)}function Q(e,t,r,n){return e("POST",`/v1/ontologies/${t}/objects/${r}/aggregate`,n,eo,eo)}function X(e,t,r,n){return e("POST","/v1/attachments/upload",t,r,n,er)}function ee(e,t){return e("GET",`/v1/attachments/${t}/content`,eo,eo,eo,eo,er)}function et(e,t){return e("GET",`/v1/attachments/${t}`,eo,eo,eo)}var er="*/*",en="application/json",eo=void 0;function ea(e){return e("GET","/v2/ontologies",eB,eB,eB)}function ei(e,t){return e("GET",`/v2/ontologies/${t}`,eB,eB,eB)}function es(e,t){return e("GET",`/v2/ontologies/${t}/fullMetadata`,eB,eB,eB)}function eu(e,t,r){return e("GET",`/v2/ontologies/${t}/actionTypes`,eB,r,eB)}function el(e,t,r){return e("GET",`/v2/ontologies/${t}/actionTypes/${r}`,eB,eB,eB)}function ec(e,t,r){return e("GET",`/v2/ontologies/${t}/objectTypes`,eB,r,eB)}function ed(e,t,r){return e("GET",`/v2/ontologies/${t}/objectTypes/${r}`,eB,eB,eB)}function em(e,t,r,n){return e("GET",`/v2/ontologies/${t}/objectTypes/${r}/outgoingLinkTypes`,eB,n,eB)}function eh(e,t,r,n){return e("GET",`/v2/ontologies/${t}/objectTypes/${r}/outgoingLinkTypes/${n}`,eB,eB,eB)}function ep(e,t,r,n){return e("GET",`/v2/ontologies/${t}/objects/${r}`,eB,n,eB)}function ef(e,t,r,n,o){return e("GET",`/v2/ontologies/${t}/objects/${r}/${n}`,eB,o,eB)}function ey(e,t,r,n){return e("POST",`/v2/ontologies/${t}/objects/${r}/count`,eB,n,eB)}function eg(e,t,r,n,o){return e("POST",`/v2/ontologies/${t}/objects/${r}/search`,n,o,eB)}function eT(e,t,r,n,o){return e("POST",`/v2/ontologies/${t}/objects/${r}/aggregate`,n,o,eB)}function eI(e,t,r){return e("GET",`/v2/ontologies/${t}/interfaceTypes`,eB,r,eB)}function eN(e,t,r,n){return e("GET",`/v2/ontologies/${t}/interfaceTypes/${r}`,eB,n,eB)}function eb(e,t,r,n,o){return e("POST",`/v2/ontologies/${t}/interfaces/${r}/search`,n,o,eB)}function eS(e,t,r,n,o){return e("POST",`/v2/ontologies/${t}/interfaces/${r}/aggregate`,n,o,eB)}function eE(e,t,r,n,o,a){return e("GET",`/v2/ontologies/${t}/objects/${r}/${n}/links/${o}`,eB,a,eB)}function ew(e,t,r,n,o,a,i){return e("GET",`/v2/ontologies/${t}/objects/${r}/${n}/links/${o}/${a}`,eB,i,eB)}function eO(e,t,r,n,o,a){return e("GET",`/v2/ontologies/${t}/objects/${r}/${n}/attachments/${o}`,eB,a,eB)}function ev(e,t,r,n,o,a,i){return e("GET",`/v2/ontologies/${t}/objects/${r}/${n}/attachments/${o}/${a}`,eB,i,eB)}function ek(e,t,r,n,o,a){return e("GET",`/v2/ontologies/${t}/objects/${r}/${n}/attachments/${o}/content`,eB,a,eB,eB,eW)}function eA(e,t,r,n,o,a,i){return e("GET",`/v2/ontologies/${t}/objects/${r}/${n}/attachments/${o}/${a}/content`,eB,i,eB,eB,eW)}function eC(e,t,r,n,o,a){return e("GET",`/v2/ontologies/${t}/objects/${r}/${n}/timeseries/${o}/firstPoint`,eB,a,eB)}function eP(e,t,r,n,o,a){return e("GET",`/v2/ontologies/${t}/objects/${r}/${n}/timeseries/${o}/lastPoint`,eB,a,eB)}function eD(e,t,r,n,o,a,i){return e("POST",`/v2/ontologies/${t}/objects/${r}/${n}/timeseries/${o}/streamPoints`,a,i,eB,ez,eW)}function eM(e,t,r,n){return e("GET",`/v2/ontologies/${t}/objectTypes/${r}/fullMetadata`,eB,n,eB)}function ej(e,t,r,n,o){return e("POST",`/v2/ontologies/${t}/actions/${r}/apply`,n,o,eB)}function ex(e,t,r,n,o){return e("POST",`/v2/ontologies/${t}/actions/${r}/applyBatch`,n,o,eB)}function eR(e,t,r,n,o){return e("POST",`/v2/ontologies/${t}/actions/${r}/applyAsync`,n,o,eB)}function eF(e,t,r){return e("GET",`/v2/ontologies/${t}/queryTypes`,eB,r,eB)}function e_(e,t,r){return e("GET",`/v2/ontologies/${t}/queryTypes/${r}`,eB,eB,eB)}function eL(e,t,r,n,o){return e("POST",`/v2/ontologies/${t}/queries/${r}/execute`,n,o,eB)}function e$(e,t,r){return e("POST",`/v2/ontologies/${t}/objectSets/createTemporary`,r,eB,eB)}function eV(e,t,r){return e("GET",`/v2/ontologies/${t}/objectSets/${r}`,eB,eB,eB)}function eU(e,t,r,n){return e("POST",`/v2/ontologies/${t}/objectSets/loadObjects`,r,n,eB)}function eG(e,t,r,n){return e("POST",`/v2/ontologies/${t}/objectSets/aggregate`,r,n,eB)}var eW="*/*",ez="application/json",eB=void 0;function eq(e,t){return e("GET",`/v2/operations/${t}`,eZ,eZ,eZ)}var eZ=void 0;((e,t)=>{for(var r in t)n(e,r,{get:t[r],enumerable:!0})})({},{abortTransaction:()=>g,aggregateObjectSetV2:()=>eG,aggregateObjects:()=>Q,aggregateObjectsForInterface:()=>eS,aggregateObjectsV2:()=>eT,applyAction:()=>$,applyActionAsync:()=>U,applyActionAsyncV2:()=>eR,applyActionBatch:()=>V,applyActionBatchV2:()=>ex,applyActionV2:()=>ej,commitTransaction:()=>y,countObjects:()=>ey,createBranch:()=>d,createChatCompletion:()=>O,createDataset:()=>o,createTemporaryObjectSetV2:()=>e$,createTransaction:()=>p,deleteBranch:()=>h,deleteFile:()=>b,deleteSchema:()=>l,executeQuery:()=>q,executeQueryV2:()=>eL,getActionType:()=>L,getActionTypeV2:()=>el,getAsyncActionStatus:()=>G,getAttachment:()=>et,getAttachmentByRidV2:()=>ev,getAttachmentContent:()=>ee,getAttachmentContentByRidV2:()=>eA,getAttachmentContentV2:()=>ek,getAttachmentsV2:()=>eO,getBranch:()=>m,getDataset:()=>a,getFileContent:()=>S,getFileMetadata:()=>N,getFirstPoint:()=>eC,getInterfaceType:()=>eN,getLastPoint:()=>eP,getLinkedObject:()=>Y,getLinkedObjectV2:()=>ew,getObject:()=>J,getObjectSetV2:()=>eV,getObjectType:()=>x,getObjectTypeFullMetadata:()=>eM,getObjectTypeV2:()=>ed,getObjectV2:()=>ef,getOntology:()=>M,getOntologyFullMetadata:()=>es,getOntologyV2:()=>ei,getOperation:()=>eq,getOutgoingLinkType:()=>F,getOutgoingLinkTypeV2:()=>eh,getQueryType:()=>B,getQueryTypeV2:()=>e_,getSchema:()=>s,getTransaction:()=>f,listActionTypes:()=>_,listActionTypesV2:()=>eu,listBranches:()=>c,listFiles:()=>T,listInterfaceTypes:()=>eI,listLanguageModels:()=>k,listLinkedObjects:()=>H,listLinkedObjectsV2:()=>eE,listObjectTypes:()=>j,listObjectTypesV2:()=>ec,listObjects:()=>Z,listObjectsV2:()=>ep,listOntologies:()=>D,listOntologiesV2:()=>ea,listOutgoingLinkTypes:()=>R,listOutgoingLinkTypesV2:()=>em,listQueryTypes:()=>z,listQueryTypesV2:()=>eF,loadObjectSetV2:()=>eU,putSchema:()=>u,readTable:()=>i,searchObjects:()=>K,searchObjectsForInterface:()=>eb,searchObjectsV2:()=>eg,streamChatCompletion:()=>v,streamPoints:()=>eD,uploadAttachment:()=>X,uploadFile:()=>I,validateAction:()=>W});var eJ=class extends Error{constructor(e,t,r,n,o,a){super(e),this.message=e,this.errorName=t,this.errorType=r,this.statusCode=n,this.errorInstanceId=o,this.parameters=a}},eH=class extends eJ{constructor(e,t,r){super(e,t),this.originalError=r}},eY=r(5076);function eK(e=fetch,t){return async function(r,n){return n?e(r,{...n,headers:await t(new Headers(n.headers))}):e(r,{headers:await t(new Headers)})}}function eQ(e=fetch){return async function(t,r){let n;try{n=await e(t,r)}catch(e){throw eX(e,"A network error occurred")}if(!n.ok){let e;if("text/plain"===n.headers.get("Content-Type"))throw new eJ(await n.text());try{e=await n.json()}catch(e){throw eX(e,"A network error occurred while reading response")}throw new eJ(e?.message??`Failed to fetch ${n.status} ${n.statusText}`,e?.errorName,e?.errorCode,n.status,e?.errorInstanceId,e?.parameters)}return n}}function eX(e,t="An unknown error occurred"){return e instanceof Error?new eH(e.message,"UNKNOWN",e):new eH(t,"UNKNOWN")}function e0(e){return eY(e,{retryDelay(e){let t=1e3*2**e,r=.5*t*(2*Math.random()-1);return t+r},retryOn(e,t,r){let n=r?.status??0;return!(n>=200&&n<300)&&(!(t instanceof eJ)||t.statusCode===e1||t.statusCode===e2)&&e<3}})}var e1=503,e2=429;function e3(e){let t=new URL(e);return"http:"===t.protocol&&"localhost"===t.hostname?e:(t.protocol="https:",t.toString())}function e6(e,t,r="/api",n){return async function(o,a,i,s,u,l,c){let d=new URL(`${r}${a}`,/^https?:\/\//i.test(e)?e3(e):`https://${e}`);for(let[e,t]of Object.entries(s||{}))if(null!=t){if(Array.isArray(t))for(let r of t)d.searchParams.append(e,r);else d.searchParams.append(e,t)}let m=new Headers;m.set("Content-Type",l??"application/json"),m.set("Accept",c??"application/json"),Object.entries(u||{}).forEach(([e,t])=>{null!=t&&m.append(e,t.toString())});let h=null==i||globalThis.Blob&&i instanceof globalThis.Blob?i:JSON.stringify(i),p=await t(d.toString(),{body:h,method:o,headers:m});if(!p.ok)throw await e4(p);return c&&"*/*"===c?n?p.body:await p.blob():await p.json()}}async function e4(e){try{let t=await e.json();return new eJ(t.message,t.errorName,t.errorCode,e.status,t.errorInstanceId,t.parameters)}catch(e){if(e instanceof Error)return new eH(e.message,"UNKNOWN");return new eH("Unable to parse error response","UNKNOWN")}}var e5=r(4118);class e8 extends Error{}class e9 extends e8{constructor(e){super(`Invalid DateTime: ${e.toMessage()}`)}}class e7 extends e8{constructor(e){super(`Invalid Interval: ${e.toMessage()}`)}}class te extends e8{constructor(e){super(`Invalid Duration: ${e.toMessage()}`)}}class tt extends e8{}class tr extends e8{constructor(e){super(`Invalid unit ${e}`)}}class tn extends e8{}class to extends e8{constructor(){super("Zone is an abstract class")}}let ta="numeric",ti="short",ts="long",tu={year:ta,month:ta,day:ta},tl={year:ta,month:ti,day:ta},tc={year:ta,month:ti,day:ta,weekday:ti},td={year:ta,month:ts,day:ta},tm={year:ta,month:ts,day:ta,weekday:ts},th={hour:ta,minute:ta},tp={hour:ta,minute:ta,second:ta},tf={hour:ta,minute:ta,second:ta,timeZoneName:ti},ty={hour:ta,minute:ta,second:ta,timeZoneName:ts},tg={hour:ta,minute:ta,hourCycle:"h23"},tT={hour:ta,minute:ta,second:ta,hourCycle:"h23"},tI={hour:ta,minute:ta,second:ta,hourCycle:"h23",timeZoneName:ti},tN={hour:ta,minute:ta,second:ta,hourCycle:"h23",timeZoneName:ts},tb={year:ta,month:ta,day:ta,hour:ta,minute:ta},tS={year:ta,month:ta,day:ta,hour:ta,minute:ta,second:ta},tE={year:ta,month:ti,day:ta,hour:ta,minute:ta},tw={year:ta,month:ti,day:ta,hour:ta,minute:ta,second:ta},tO={year:ta,month:ti,day:ta,weekday:ti,hour:ta,minute:ta},tv={year:ta,month:ts,day:ta,hour:ta,minute:ta,timeZoneName:ti},tk={year:ta,month:ts,day:ta,hour:ta,minute:ta,second:ta,timeZoneName:ti},tA={year:ta,month:ts,day:ta,weekday:ts,hour:ta,minute:ta,timeZoneName:ts},tC={year:ta,month:ts,day:ta,weekday:ts,hour:ta,minute:ta,second:ta,timeZoneName:ts};class tP{get type(){throw new to}get name(){throw new to}get ianaName(){return this.name}get isUniversal(){throw new to}offsetName(e,t){throw new to}formatOffset(e,t){throw new to}offset(e){throw new to}equals(e){throw new to}get isValid(){throw new to}}let tD=null;class tM extends tP{static get instance(){return null===tD&&(tD=new tM),tD}get type(){return"system"}get name(){return new Intl.DateTimeFormat().resolvedOptions().timeZone}get isUniversal(){return!1}offsetName(e,{format:t,locale:r}){return rx(e,t,r)}formatOffset(e,t){return rL(this.offset(e),t)}offset(e){return-new Date(e).getTimezoneOffset()}equals(e){return"system"===e.type}get isValid(){return!0}}let tj={},tx={year:0,month:1,day:2,era:3,hour:4,minute:5,second:6},tR={};class tF extends tP{static create(e){return tR[e]||(tR[e]=new tF(e)),tR[e]}static resetCache(){tR={},tj={}}static isValidSpecifier(e){return this.isValidZone(e)}static isValidZone(e){if(!e)return!1;try{return new Intl.DateTimeFormat("en-US",{timeZone:e}).format(),!0}catch(e){return!1}}constructor(e){super(),this.zoneName=e,this.valid=tF.isValidZone(e)}get type(){return"iana"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(e,{format:t,locale:r}){return rx(e,t,r,this.name)}formatOffset(e,t){return rL(this.offset(e),t)}offset(e){var t;let r=new Date(e);if(isNaN(r))return NaN;let n=(tj[t=this.name]||(tj[t]=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:t,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",era:"short"})),tj[t]),[o,a,i,s,u,l,c]=n.formatToParts?function(e,t){let r=e.formatToParts(t),n=[];for(let e=0;e<r.length;e++){let{type:t,value:o}=r[e],a=tx[t];"era"===t?n[a]=o:rh(a)||(n[a]=parseInt(o,10))}return n}(n,r):function(e,t){let r=e.format(t).replace(/\u200E/g,""),[,n,o,a,i,s,u,l]=/(\d+)\/(\d+)\/(\d+) (AD|BC),? (\d+):(\d+):(\d+)/.exec(r);return[a,n,o,i,s,u,l]}(n,r);"BC"===s&&(o=-Math.abs(o)+1);let d=rP({year:o,month:a,day:i,hour:24===u?0:u,minute:l,second:c,millisecond:0}),m=+r,h=m%1e3;return(d-(m-=h>=0?h:1e3+h))/6e4}equals(e){return"iana"===e.type&&e.name===this.name}get isValid(){return this.valid}}let t_={},tL={};function t$(e,t={}){let r=JSON.stringify([e,t]),n=tL[r];return n||(n=new Intl.DateTimeFormat(e,t),tL[r]=n),n}let tV={},tU={},tG=null,tW={};function tz(e,t,r,n){let o=e.listingMode();return"error"===o?null:"en"===o?r(t):n(t)}class tB{constructor(e,t,r){this.padTo=r.padTo||0,this.floor=r.floor||!1;let{padTo:n,floor:o,...a}=r;if(!t||Object.keys(a).length>0){let t={useGrouping:!1,...r};r.padTo>0&&(t.minimumIntegerDigits=r.padTo),this.inf=function(e,t={}){let r=JSON.stringify([e,t]),n=tV[r];return n||(n=new Intl.NumberFormat(e,t),tV[r]=n),n}(e,t)}}format(e){if(!this.inf)return rS(this.floor?Math.floor(e):rv(e,3),this.padTo);{let t=this.floor?Math.floor(e):e;return this.inf.format(t)}}}class tq{constructor(e,t,r){let n;if(this.opts=r,this.originalZone=void 0,this.opts.timeZone)this.dt=e;else if("fixed"===e.zone.type){let t=-1*(e.offset/60),r=t>=0?`Etc/GMT+${t}`:`Etc/GMT${t}`;0!==e.offset&&tF.create(r).valid?(n=r,this.dt=e):(n="UTC",this.dt=0===e.offset?e:e.setZone("UTC").plus({minutes:e.offset}),this.originalZone=e.zone)}else"system"===e.zone.type?this.dt=e:"iana"===e.zone.type?(this.dt=e,n=e.zone.name):(n="UTC",this.dt=e.setZone("UTC").plus({minutes:e.offset}),this.originalZone=e.zone);let o={...this.opts};o.timeZone=o.timeZone||n,this.dtf=t$(t,o)}format(){return this.originalZone?this.formatToParts().map(({value:e})=>e).join(""):this.dtf.format(this.dt.toJSDate())}formatToParts(){let e=this.dtf.formatToParts(this.dt.toJSDate());return this.originalZone?e.map(e=>{if("timeZoneName"!==e.type)return e;{let t=this.originalZone.offsetName(this.dt.ts,{locale:this.dt.locale,format:this.opts.timeZoneName});return{...e,value:t}}}):e}resolvedOptions(){return this.dtf.resolvedOptions()}}class tZ{constructor(e,t,r){this.opts={style:"long",...r},!t&&ry()&&(this.rtf=function(e,t={}){let{base:r,...n}=t,o=JSON.stringify([e,n]),a=tU[o];return a||(a=new Intl.RelativeTimeFormat(e,t),tU[o]=a),a}(e,r))}format(e,t){return this.rtf?this.rtf.format(e,t):function(e,t,r="always",n=!1){let o={years:["year","yr."],quarters:["quarter","qtr."],months:["month","mo."],weeks:["week","wk."],days:["day","day","days"],hours:["hour","hr."],minutes:["minute","min."],seconds:["second","sec."]},a=-1===["hours","minutes","seconds"].indexOf(e);if("auto"===r&&a){let r="days"===e;switch(t){case 1:return r?"tomorrow":`next ${o[e][0]}`;case -1:return r?"yesterday":`last ${o[e][0]}`;case 0:return r?"today":`this ${o[e][0]}`}}let i=Object.is(t,-0)||t<0,s=Math.abs(t),u=1===s,l=o[e],c=n?u?l[1]:l[2]||l[1]:u?o[e][0]:e;return i?`${s} ${c} ago`:`in ${s} ${c}`}(t,e,this.opts.numeric,"long"!==this.opts.style)}formatToParts(e,t){return this.rtf?this.rtf.formatToParts(e,t):[]}}let tJ={firstDay:1,minimalDays:4,weekend:[6,7]};class tH{static fromOpts(e){return tH.create(e.locale,e.numberingSystem,e.outputCalendar,e.weekSettings,e.defaultToEN)}static create(e,t,r,n,o=!1){let a=e||t9.defaultLocale,i=a||(o?"en-US":tG||(tG=new Intl.DateTimeFormat().resolvedOptions().locale));return new tH(i,t||t9.defaultNumberingSystem,r||t9.defaultOutputCalendar,rN(n)||t9.defaultWeekSettings,a)}static resetCache(){tG=null,tL={},tV={},tU={}}static fromObject({locale:e,numberingSystem:t,outputCalendar:r,weekSettings:n}={}){return tH.create(e,t,r,n)}constructor(e,t,r,n,o){let[a,i,s]=function(e){let t=e.indexOf("-x-");-1!==t&&(e=e.substring(0,t));let r=e.indexOf("-u-");if(-1===r)return[e];{let t,n;try{t=t$(e).resolvedOptions(),n=e}catch(a){let o=e.substring(0,r);t=t$(o).resolvedOptions(),n=o}let{numberingSystem:o,calendar:a}=t;return[n,o,a]}}(e);this.locale=a,this.numberingSystem=t||i||null,this.outputCalendar=r||s||null,this.weekSettings=n,this.intl=function(e,t,r){return(r||t)&&(e.includes("-u-")||(e+="-u"),r&&(e+=`-ca-${r}`),t&&(e+=`-nu-${t}`)),e}(this.locale,this.numberingSystem,this.outputCalendar),this.weekdaysCache={format:{},standalone:{}},this.monthsCache={format:{},standalone:{}},this.meridiemCache=null,this.eraCache={},this.specifiedLocale=o,this.fastNumbersCached=null}get fastNumbers(){return null==this.fastNumbersCached&&(this.fastNumbersCached=(!this.numberingSystem||"latn"===this.numberingSystem)&&("latn"===this.numberingSystem||!this.locale||this.locale.startsWith("en")||"latn"===new Intl.DateTimeFormat(this.intl).resolvedOptions().numberingSystem)),this.fastNumbersCached}listingMode(){let e=this.isEnglish(),t=(null===this.numberingSystem||"latn"===this.numberingSystem)&&(null===this.outputCalendar||"gregory"===this.outputCalendar);return e&&t?"en":"intl"}clone(e){return e&&0!==Object.getOwnPropertyNames(e).length?tH.create(e.locale||this.specifiedLocale,e.numberingSystem||this.numberingSystem,e.outputCalendar||this.outputCalendar,rN(e.weekSettings)||this.weekSettings,e.defaultToEN||!1):this}redefaultToEN(e={}){return this.clone({...e,defaultToEN:!0})}redefaultToSystem(e={}){return this.clone({...e,defaultToEN:!1})}months(e,t=!1){return tz(this,e,rW,()=>{let r=t?{month:e,day:"numeric"}:{month:e},n=t?"format":"standalone";return this.monthsCache[n][e]||(this.monthsCache[n][e]=function(e){let t=[];for(let r=1;r<=12;r++){let n=ow.utc(2009,r,1);t.push(e(n))}return t}(e=>this.extract(e,r,"month"))),this.monthsCache[n][e]})}weekdays(e,t=!1){return tz(this,e,rZ,()=>{let r=t?{weekday:e,year:"numeric",month:"long",day:"numeric"}:{weekday:e},n=t?"format":"standalone";return this.weekdaysCache[n][e]||(this.weekdaysCache[n][e]=function(e){let t=[];for(let r=1;r<=7;r++){let n=ow.utc(2016,11,13+r);t.push(e(n))}return t}(e=>this.extract(e,r,"weekday"))),this.weekdaysCache[n][e]})}meridiems(){return tz(this,void 0,()=>rJ,()=>{if(!this.meridiemCache){let e={hour:"numeric",hourCycle:"h12"};this.meridiemCache=[ow.utc(2016,11,13,9),ow.utc(2016,11,13,19)].map(t=>this.extract(t,e,"dayperiod"))}return this.meridiemCache})}eras(e){return tz(this,e,rQ,()=>{let t={era:e};return this.eraCache[e]||(this.eraCache[e]=[ow.utc(-40,1,1),ow.utc(2017,1,1)].map(e=>this.extract(e,t,"era"))),this.eraCache[e]})}extract(e,t,r){let n=this.dtFormatter(e,t).formatToParts().find(e=>e.type.toLowerCase()===r);return n?n.value:null}numberFormatter(e={}){return new tB(this.intl,e.forceSimple||this.fastNumbers,e)}dtFormatter(e,t={}){return new tq(e,this.intl,t)}relFormatter(e={}){return new tZ(this.intl,this.isEnglish(),e)}listFormatter(e={}){return function(e,t={}){let r=JSON.stringify([e,t]),n=t_[r];return n||(n=new Intl.ListFormat(e,t),t_[r]=n),n}(this.intl,e)}isEnglish(){return"en"===this.locale||"en-us"===this.locale.toLowerCase()||new Intl.DateTimeFormat(this.intl).resolvedOptions().locale.startsWith("en-us")}getWeekSettings(){return this.weekSettings?this.weekSettings:rg()?function(e){let t=tW[e];if(!t){let r=new Intl.Locale(e);t="getWeekInfo"in r?r.getWeekInfo():r.weekInfo,tW[e]=t}return t}(this.locale):tJ}getStartOfWeek(){return this.getWeekSettings().firstDay}getMinDaysInFirstWeek(){return this.getWeekSettings().minimalDays}getWeekendDays(){return this.getWeekSettings().weekend}equals(e){return this.locale===e.locale&&this.numberingSystem===e.numberingSystem&&this.outputCalendar===e.outputCalendar}}let tY=null;class tK extends tP{static get utcInstance(){return null===tY&&(tY=new tK(0)),tY}static instance(e){return 0===e?tK.utcInstance:new tK(e)}static parseSpecifier(e){if(e){let t=e.match(/^utc(?:([+-]\d{1,2})(?::(\d{2}))?)?$/i);if(t)return new tK(rR(t[1],t[2]))}return null}constructor(e){super(),this.fixed=e}get type(){return"fixed"}get name(){return 0===this.fixed?"UTC":`UTC${rL(this.fixed,"narrow")}`}get ianaName(){return 0===this.fixed?"Etc/UTC":`Etc/GMT${rL(-this.fixed,"narrow")}`}offsetName(){return this.name}formatOffset(e,t){return rL(this.fixed,t)}get isUniversal(){return!0}offset(){return this.fixed}equals(e){return"fixed"===e.type&&e.fixed===this.fixed}get isValid(){return!0}}class tQ extends tP{constructor(e){super(),this.zoneName=e}get type(){return"invalid"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(){return null}formatOffset(){return""}offset(){return NaN}equals(){return!1}get isValid(){return!1}}function tX(e,t){if(rh(e)||null===e)return t;if(e instanceof tP)return e;if("string"==typeof e){let r=e.toLowerCase();return"default"===r?t:"local"===r||"system"===r?tM.instance:"utc"===r||"gmt"===r?tK.utcInstance:tK.parseSpecifier(r)||tF.create(e)}return rp(e)?tK.instance(e):"object"==typeof e&&"offset"in e&&"function"==typeof e.offset?e:new tQ(e)}let t0=()=>Date.now(),t1="system",t2=null,t3=null,t6=null,t4=60,t5,t8=null;class t9{static get now(){return t0}static set now(e){t0=e}static set defaultZone(e){t1=e}static get defaultZone(){return tX(t1,tM.instance)}static get defaultLocale(){return t2}static set defaultLocale(e){t2=e}static get defaultNumberingSystem(){return t3}static set defaultNumberingSystem(e){t3=e}static get defaultOutputCalendar(){return t6}static set defaultOutputCalendar(e){t6=e}static get defaultWeekSettings(){return t8}static set defaultWeekSettings(e){t8=rN(e)}static get twoDigitCutoffYear(){return t4}static set twoDigitCutoffYear(e){t4=e%100}static get throwOnInvalid(){return t5}static set throwOnInvalid(e){t5=e}static resetCaches(){tH.resetCache(),tF.resetCache()}}class t7{constructor(e,t){this.reason=e,this.explanation=t}toMessage(){return this.explanation?`${this.reason}: ${this.explanation}`:this.reason}}let re=[0,31,59,90,120,151,181,212,243,273,304,334],rt=[0,31,60,91,121,152,182,213,244,274,305,335];function rr(e,t){return new t7("unit out of range",`you specified ${t} (of type ${typeof t}) as a ${e}, which is invalid`)}function rn(e,t,r){let n=new Date(Date.UTC(e,t-1,r));e<100&&e>=0&&n.setUTCFullYear(n.getUTCFullYear()-1900);let o=n.getUTCDay();return 0===o?7:o}function ro(e,t){let r=rk(e)?rt:re,n=r.findIndex(e=>e<t),o=t-r[n];return{month:n+1,day:o}}function ra(e,t){return(e-t+7)%7+1}function ri(e,t=4,r=1){let{year:n,month:o,day:a}=e,i=a+(rk(n)?rt:re)[o-1],s=ra(rn(n,o,a),r),u=Math.floor((i-s+14-t)/7),l;return u<1?u=rM(l=n-1,t,r):u>rM(n,t,r)?(l=n+1,u=1):l=n,{weekYear:l,weekNumber:u,weekday:s,...r$(e)}}function rs(e,t=4,r=1){let{weekYear:n,weekNumber:o,weekday:a}=e,i=ra(rn(n,1,t),r),s=rA(n),u=7*o+a-i-7+t,l;u<1?u+=rA(l=n-1):u>s?(l=n+1,u-=rA(n)):l=n;let{month:c,day:d}=ro(l,u);return{year:l,month:c,day:d,...r$(e)}}function ru(e){let{year:t,month:r,day:n}=e,o=n+(rk(t)?rt:re)[r-1];return{year:t,ordinal:o,...r$(e)}}function rl(e){let{year:t,ordinal:r}=e,{month:n,day:o}=ro(t,r);return{year:t,month:n,day:o,...r$(e)}}function rc(e,t){if(!(!rh(e.localWeekday)||!rh(e.localWeekNumber)||!rh(e.localWeekYear)))return{minDaysInFirstWeek:4,startOfWeek:1};if(!rh(e.weekday)||!rh(e.weekNumber)||!rh(e.weekYear))throw new tt("Cannot mix locale-based week fields with ISO-based week fields");return rh(e.localWeekday)||(e.weekday=e.localWeekday),rh(e.localWeekNumber)||(e.weekNumber=e.localWeekNumber),rh(e.localWeekYear)||(e.weekYear=e.localWeekYear),delete e.localWeekday,delete e.localWeekNumber,delete e.localWeekYear,{minDaysInFirstWeek:t.getMinDaysInFirstWeek(),startOfWeek:t.getStartOfWeek()}}function rd(e){let t=rf(e.year),r=rb(e.month,1,12),n=rb(e.day,1,rC(e.year,e.month));return t?r?!n&&rr("day",e.day):rr("month",e.month):rr("year",e.year)}function rm(e){let{hour:t,minute:r,second:n,millisecond:o}=e,a=rb(t,0,23)||24===t&&0===r&&0===n&&0===o,i=rb(r,0,59),s=rb(n,0,59),u=rb(o,0,999);return a?i?s?!u&&rr("millisecond",o):rr("second",n):rr("minute",r):rr("hour",t)}function rh(e){return void 0===e}function rp(e){return"number"==typeof e}function rf(e){return"number"==typeof e&&e%1==0}function ry(){try{return"undefined"!=typeof Intl&&!!Intl.RelativeTimeFormat}catch(e){return!1}}function rg(){try{return"undefined"!=typeof Intl&&!!Intl.Locale&&("weekInfo"in Intl.Locale.prototype||"getWeekInfo"in Intl.Locale.prototype)}catch(e){return!1}}function rT(e,t,r){if(0!==e.length)return e.reduce((e,n)=>{let o=[t(n),n];return e&&r(e[0],o[0])===e[0]?e:o},null)[1]}function rI(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function rN(e){if(null==e)return null;if("object"!=typeof e)throw new tn("Week settings must be an object");if(!rb(e.firstDay,1,7)||!rb(e.minimalDays,1,7)||!Array.isArray(e.weekend)||e.weekend.some(e=>!rb(e,1,7)))throw new tn("Invalid week settings");return{firstDay:e.firstDay,minimalDays:e.minimalDays,weekend:Array.from(e.weekend)}}function rb(e,t,r){return rf(e)&&e>=t&&e<=r}function rS(e,t=2){return e<0?"-"+(""+-e).padStart(t,"0"):(""+e).padStart(t,"0")}function rE(e){if(!rh(e)&&null!==e&&""!==e)return parseInt(e,10)}function rw(e){if(!rh(e)&&null!==e&&""!==e)return parseFloat(e)}function rO(e){if(!rh(e)&&null!==e&&""!==e)return Math.floor(1e3*parseFloat("0."+e))}function rv(e,t,r=!1){let n=10**t;return(r?Math.trunc:Math.round)(e*n)/n}function rk(e){return e%4==0&&(e%100!=0||e%400==0)}function rA(e){return rk(e)?366:365}function rC(e,t){var r;let n=(r=t-1)-12*Math.floor(r/12)+1;return 2===n?rk(e+(t-n)/12)?29:28:[31,null,31,30,31,30,31,31,30,31,30,31][n-1]}function rP(e){let t=Date.UTC(e.year,e.month-1,e.day,e.hour,e.minute,e.second,e.millisecond);return e.year<100&&e.year>=0&&(t=new Date(t)).setUTCFullYear(e.year,e.month-1,e.day),+t}function rD(e,t,r){return-ra(rn(e,1,t),r)+t-1}function rM(e,t=4,r=1){let n=rD(e,t,r),o=rD(e+1,t,r);return(rA(e)-n+o)/7}function rj(e){return e>99?e:e>t9.twoDigitCutoffYear?1900+e:2e3+e}function rx(e,t,r,n=null){let o=new Date(e),a={hourCycle:"h23",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"};n&&(a.timeZone=n);let i={timeZoneName:t,...a},s=new Intl.DateTimeFormat(r,i).formatToParts(o).find(e=>"timezonename"===e.type.toLowerCase());return s?s.value:null}function rR(e,t){let r=parseInt(e,10);Number.isNaN(r)&&(r=0);let n=parseInt(t,10)||0,o=r<0||Object.is(r,-0)?-n:n;return 60*r+o}function rF(e){let t=Number(e);if("boolean"==typeof e||""===e||Number.isNaN(t))throw new tn(`Invalid unit value ${e}`);return t}function r_(e,t){let r={};for(let n in e)if(rI(e,n)){let o=e[n];if(null==o)continue;r[t(n)]=rF(o)}return r}function rL(e,t){let r=Math.trunc(Math.abs(e/60)),n=Math.trunc(Math.abs(e%60)),o=e>=0?"+":"-";switch(t){case"short":return`${o}${rS(r,2)}:${rS(n,2)}`;case"narrow":return`${o}${r}${n>0?`:${n}`:""}`;case"techie":return`${o}${rS(r,2)}${rS(n,2)}`;default:throw RangeError(`Value format ${t} is out of range for property format`)}}function r$(e){return["hour","minute","second","millisecond"].reduce((t,r)=>(t[r]=e[r],t),{})}let rV=["January","February","March","April","May","June","July","August","September","October","November","December"],rU=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],rG=["J","F","M","A","M","J","J","A","S","O","N","D"];function rW(e){switch(e){case"narrow":return[...rG];case"short":return[...rU];case"long":return[...rV];case"numeric":return["1","2","3","4","5","6","7","8","9","10","11","12"];case"2-digit":return["01","02","03","04","05","06","07","08","09","10","11","12"];default:return null}}let rz=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],rB=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],rq=["M","T","W","T","F","S","S"];function rZ(e){switch(e){case"narrow":return[...rq];case"short":return[...rB];case"long":return[...rz];case"numeric":return["1","2","3","4","5","6","7"];default:return null}}let rJ=["AM","PM"],rH=["Before Christ","Anno Domini"],rY=["BC","AD"],rK=["B","A"];function rQ(e){switch(e){case"narrow":return[...rK];case"short":return[...rY];case"long":return[...rH];default:return null}}function rX(e,t){let r="";for(let n of e)n.literal?r+=n.val:r+=t(n.val);return r}let r0={D:tu,DD:tl,DDD:td,DDDD:tm,t:th,tt:tp,ttt:tf,tttt:ty,T:tg,TT:tT,TTT:tI,TTTT:tN,f:tb,ff:tE,fff:tv,ffff:tA,F:tS,FF:tw,FFF:tk,FFFF:tC};class r1{static create(e,t={}){return new r1(e,t)}static parseFormat(e){let t=null,r="",n=!1,o=[];for(let a=0;a<e.length;a++){let i=e.charAt(a);"'"===i?(r.length>0&&o.push({literal:n||/^\s+$/.test(r),val:r}),t=null,r="",n=!n):n?r+=i:i===t?r+=i:(r.length>0&&o.push({literal:/^\s+$/.test(r),val:r}),r=i,t=i)}return r.length>0&&o.push({literal:n||/^\s+$/.test(r),val:r}),o}static macroTokenToFormatOpts(e){return r0[e]}constructor(e,t){this.opts=t,this.loc=e,this.systemLoc=null}formatWithSystemDefault(e,t){return null===this.systemLoc&&(this.systemLoc=this.loc.redefaultToSystem()),this.systemLoc.dtFormatter(e,{...this.opts,...t}).format()}dtFormatter(e,t={}){return this.loc.dtFormatter(e,{...this.opts,...t})}formatDateTime(e,t){return this.dtFormatter(e,t).format()}formatDateTimeParts(e,t){return this.dtFormatter(e,t).formatToParts()}formatInterval(e,t){return this.dtFormatter(e.start,t).dtf.formatRange(e.start.toJSDate(),e.end.toJSDate())}resolvedOptions(e,t){return this.dtFormatter(e,t).resolvedOptions()}num(e,t=0){if(this.opts.forceSimple)return rS(e,t);let r={...this.opts};return t>0&&(r.padTo=t),this.loc.numberFormatter(r).format(e)}formatDateTimeFromString(e,t){let r="en"===this.loc.listingMode(),n=this.loc.outputCalendar&&"gregory"!==this.loc.outputCalendar,o=(t,r)=>this.loc.extract(e,t,r),a=t=>e.isOffsetFixed&&0===e.offset&&t.allowZ?"Z":e.isValid?e.zone.formatOffset(e.ts,t.format):"",i=()=>r?rJ[e.hour<12?0:1]:o({hour:"numeric",hourCycle:"h12"},"dayperiod"),s=(t,n)=>r?rW(t)[e.month-1]:o(n?{month:t}:{month:t,day:"numeric"},"month"),u=(t,n)=>r?rZ(t)[e.weekday-1]:o(n?{weekday:t}:{weekday:t,month:"long",day:"numeric"},"weekday"),l=t=>{let r=r1.macroTokenToFormatOpts(t);return r?this.formatWithSystemDefault(e,r):t},c=t=>r?rQ(t)[e.year<0?0:1]:o({era:t},"era");return rX(r1.parseFormat(t),t=>{switch(t){case"S":return this.num(e.millisecond);case"u":case"SSS":return this.num(e.millisecond,3);case"s":return this.num(e.second);case"ss":return this.num(e.second,2);case"uu":return this.num(Math.floor(e.millisecond/10),2);case"uuu":return this.num(Math.floor(e.millisecond/100));case"m":return this.num(e.minute);case"mm":return this.num(e.minute,2);case"h":return this.num(e.hour%12==0?12:e.hour%12);case"hh":return this.num(e.hour%12==0?12:e.hour%12,2);case"H":return this.num(e.hour);case"HH":return this.num(e.hour,2);case"Z":return a({format:"narrow",allowZ:this.opts.allowZ});case"ZZ":return a({format:"short",allowZ:this.opts.allowZ});case"ZZZ":return a({format:"techie",allowZ:this.opts.allowZ});case"ZZZZ":return e.zone.offsetName(e.ts,{format:"short",locale:this.loc.locale});case"ZZZZZ":return e.zone.offsetName(e.ts,{format:"long",locale:this.loc.locale});case"z":return e.zoneName;case"a":return i();case"d":return n?o({day:"numeric"},"day"):this.num(e.day);case"dd":return n?o({day:"2-digit"},"day"):this.num(e.day,2);case"c":case"E":return this.num(e.weekday);case"ccc":return u("short",!0);case"cccc":return u("long",!0);case"ccccc":return u("narrow",!0);case"EEE":return u("short",!1);case"EEEE":return u("long",!1);case"EEEEE":return u("narrow",!1);case"L":return n?o({month:"numeric",day:"numeric"},"month"):this.num(e.month);case"LL":return n?o({month:"2-digit",day:"numeric"},"month"):this.num(e.month,2);case"LLL":return s("short",!0);case"LLLL":return s("long",!0);case"LLLLL":return s("narrow",!0);case"M":return n?o({month:"numeric"},"month"):this.num(e.month);case"MM":return n?o({month:"2-digit"},"month"):this.num(e.month,2);case"MMM":return s("short",!1);case"MMMM":return s("long",!1);case"MMMMM":return s("narrow",!1);case"y":return n?o({year:"numeric"},"year"):this.num(e.year);case"yy":return n?o({year:"2-digit"},"year"):this.num(e.year.toString().slice(-2),2);case"yyyy":return n?o({year:"numeric"},"year"):this.num(e.year,4);case"yyyyyy":return n?o({year:"numeric"},"year"):this.num(e.year,6);case"G":return c("short");case"GG":return c("long");case"GGGGG":return c("narrow");case"kk":return this.num(e.weekYear.toString().slice(-2),2);case"kkkk":return this.num(e.weekYear,4);case"W":return this.num(e.weekNumber);case"WW":return this.num(e.weekNumber,2);case"n":return this.num(e.localWeekNumber);case"nn":return this.num(e.localWeekNumber,2);case"ii":return this.num(e.localWeekYear.toString().slice(-2),2);case"iiii":return this.num(e.localWeekYear,4);case"o":return this.num(e.ordinal);case"ooo":return this.num(e.ordinal,3);case"q":return this.num(e.quarter);case"qq":return this.num(e.quarter,2);case"X":return this.num(Math.floor(e.ts/1e3));case"x":return this.num(e.ts);default:return l(t)}})}formatDurationFromString(e,t){let r;let n=e=>{switch(e[0]){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":return"hour";case"d":return"day";case"w":return"week";case"M":return"month";case"y":return"year";default:return null}},o=r1.parseFormat(t),a=o.reduce((e,{literal:t,val:r})=>t?e:e.concat(r),[]);return rX(o,(r=e.shiftTo(...a.map(n).filter(e=>e)),e=>{let t=n(e);return t?this.num(r.get(t),e.length):e}))}}let r2=/[A-Za-z_+-]{1,256}(?::?\/[A-Za-z0-9_+-]{1,256}(?:\/[A-Za-z0-9_+-]{1,256})?)?/;function r3(...e){let t=e.reduce((e,t)=>e+t.source,"");return RegExp(`^${t}$`)}function r6(...e){return t=>e.reduce(([e,r,n],o)=>{let[a,i,s]=o(t,n);return[{...e,...a},i||r,s]},[{},null,1]).slice(0,2)}function r4(e,...t){if(null==e)return[null,null];for(let[r,n]of t){let t=r.exec(e);if(t)return n(t)}return[null,null]}function r5(...e){return(t,r)=>{let n;let o={};for(n=0;n<e.length;n++)o[e[n]]=rE(t[r+n]);return[o,null,r+n]}}let r8=/(?:(Z)|([+-]\d\d)(?::?(\d\d))?)/,r9=`(?:${r8.source}?(?:\\[(${r2.source})\\])?)?`,r7=/(\d\d)(?::?(\d\d)(?::?(\d\d)(?:[.,](\d{1,30}))?)?)?/,ne=RegExp(`${r7.source}${r9}`),nt=RegExp(`(?:T${ne.source})?`),nr=r5("weekYear","weekNumber","weekDay"),nn=r5("year","ordinal"),no=RegExp(`${r7.source} ?(?:${r8.source}|(${r2.source}))?`),na=RegExp(`(?: ${no.source})?`);function ni(e,t,r){let n=e[t];return rh(n)?r:rE(n)}function ns(e,t){return[{hours:ni(e,t,0),minutes:ni(e,t+1,0),seconds:ni(e,t+2,0),milliseconds:rO(e[t+3])},null,t+4]}function nu(e,t){let r=!e[t]&&!e[t+1],n=rR(e[t+1],e[t+2]);return[{},r?null:tK.instance(n),t+3]}function nl(e,t){return[{},e[t]?tF.create(e[t]):null,t+1]}let nc=RegExp(`^T?${r7.source}$`),nd=/^-?P(?:(?:(-?\d{1,20}(?:\.\d{1,20})?)Y)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20}(?:\.\d{1,20})?)W)?(?:(-?\d{1,20}(?:\.\d{1,20})?)D)?(?:T(?:(-?\d{1,20}(?:\.\d{1,20})?)H)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20})(?:[.,](-?\d{1,20}))?S)?)?)$/;function nm(e){let[t,r,n,o,a,i,s,u,l]=e,c="-"===t[0],d=u&&"-"===u[0],m=(e,t=!1)=>void 0!==e&&(t||e&&c)?-e:e;return[{years:m(rw(r)),months:m(rw(n)),weeks:m(rw(o)),days:m(rw(a)),hours:m(rw(i)),minutes:m(rw(s)),seconds:m(rw(u),"-0"===u),milliseconds:m(rO(l),d)}]}let nh={GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function np(e,t,r,n,o,a,i){let s={year:2===t.length?rj(rE(t)):rE(t),month:rU.indexOf(r)+1,day:rE(n),hour:rE(o),minute:rE(a)};return i&&(s.second=rE(i)),e&&(s.weekday=e.length>3?rz.indexOf(e)+1:rB.indexOf(e)+1),s}let nf=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|(?:([+-]\d\d)(\d\d)))$/;function ny(e){let[,t,r,n,o,a,i,s,u,l,c,d]=e;return[np(t,o,n,r,a,i,s),new tK(u?nh[u]:l?0:rR(c,d))]}let ng=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d\d) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d\d):(\d\d):(\d\d) GMT$/,nT=/^(Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d\d)-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d\d) (\d\d):(\d\d):(\d\d) GMT$/,nI=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( \d|\d\d) (\d\d):(\d\d):(\d\d) (\d{4})$/;function nN(e){let[,t,r,n,o,a,i,s]=e;return[np(t,o,n,r,a,i,s),tK.utcInstance]}function nb(e){let[,t,r,n,o,a,i,s]=e;return[np(t,s,r,n,o,a,i),tK.utcInstance]}let nS=r3(/([+-]\d{6}|\d{4})(?:-?(\d\d)(?:-?(\d\d))?)?/,nt),nE=r3(/(\d{4})-?W(\d\d)(?:-?(\d))?/,nt),nw=r3(/(\d{4})-?(\d{3})/,nt),nO=r3(ne),nv=r6(function(e,t){return[{year:ni(e,t),month:ni(e,t+1,1),day:ni(e,t+2,1)},null,t+3]},ns,nu,nl),nk=r6(nr,ns,nu,nl),nA=r6(nn,ns,nu,nl),nC=r6(ns,nu,nl),nP=r6(ns),nD=r3(/(\d{4})-(\d\d)-(\d\d)/,na),nM=r3(no),nj=r6(ns,nu,nl),nx="Invalid Duration",nR={weeks:{days:7,hours:168,minutes:10080,seconds:604800,milliseconds:6048e5},days:{hours:24,minutes:1440,seconds:86400,milliseconds:864e5},hours:{minutes:60,seconds:3600,milliseconds:36e5},minutes:{seconds:60,milliseconds:6e4},seconds:{milliseconds:1e3}},nF={years:{quarters:4,months:12,weeks:52,days:365,hours:8760,minutes:525600,seconds:31536e3,milliseconds:31536e6},quarters:{months:3,weeks:13,days:91,hours:2184,minutes:131040,seconds:7862400,milliseconds:78624e5},months:{weeks:4,days:30,hours:720,minutes:43200,seconds:2592e3,milliseconds:2592e6},...nR},n_={years:{quarters:4,months:12,weeks:52.1775,days:365.2425,hours:8765.82,minutes:525949.2,seconds:0x1e18558,milliseconds:31556952e3},quarters:{months:3,weeks:13.044375,days:91.310625,hours:2191.455,minutes:131487.3,seconds:7889238,milliseconds:7889238e3},months:{weeks:30.436875/7,days:30.436875,hours:730.485,minutes:43829.1,seconds:2629746,milliseconds:2629746e3},...nR},nL=["years","quarters","months","weeks","days","hours","minutes","seconds","milliseconds"],n$=nL.slice(0).reverse();function nV(e,t,r=!1){return new nW({values:r?t.values:{...e.values,...t.values||{}},loc:e.loc.clone(t.loc),conversionAccuracy:t.conversionAccuracy||e.conversionAccuracy,matrix:t.matrix||e.matrix})}function nU(e,t){let r=t.milliseconds??0;for(let n of n$.slice(1))t[n]&&(r+=t[n]*e[n].milliseconds);return r}function nG(e,t){let r=0>nU(e,t)?-1:1;nL.reduceRight((n,o)=>{if(rh(t[o]))return n;if(n){let a=t[n]*r,i=e[o][n],s=Math.floor(a/i);t[o]+=s*r,t[n]-=s*i*r}return o},null),nL.reduce((r,n)=>{if(rh(t[n]))return r;if(r){let o=t[r]%1;t[r]-=o,t[n]+=o*e[r][n]}return n},null)}class nW{constructor(e){let t="longterm"===e.conversionAccuracy,r=t?n_:nF;e.matrix&&(r=e.matrix),this.values=e.values,this.loc=e.loc||tH.create(),this.conversionAccuracy=t?"longterm":"casual",this.invalid=e.invalid||null,this.matrix=r,this.isLuxonDuration=!0}static fromMillis(e,t){return nW.fromObject({milliseconds:e},t)}static fromObject(e,t={}){if(null==e||"object"!=typeof e)throw new tn(`Duration.fromObject: argument expected to be an object, got ${null===e?"null":typeof e}`);return new nW({values:r_(e,nW.normalizeUnit),loc:tH.fromObject(t),conversionAccuracy:t.conversionAccuracy,matrix:t.matrix})}static fromDurationLike(e){if(rp(e))return nW.fromMillis(e);if(nW.isDuration(e))return e;if("object"==typeof e)return nW.fromObject(e);throw new tn(`Unknown duration argument ${e} of type ${typeof e}`)}static fromISO(e,t){let[r]=r4(e,[nd,nm]);return r?nW.fromObject(r,t):nW.invalid("unparsable",`the input "${e}" can't be parsed as ISO 8601`)}static fromISOTime(e,t){let[r]=r4(e,[nc,nP]);return r?nW.fromObject(r,t):nW.invalid("unparsable",`the input "${e}" can't be parsed as ISO 8601`)}static invalid(e,t=null){if(!e)throw new tn("need to specify a reason the Duration is invalid");let r=e instanceof t7?e:new t7(e,t);if(!t9.throwOnInvalid)return new nW({invalid:r});throw new te(r)}static normalizeUnit(e){let t={year:"years",years:"years",quarter:"quarters",quarters:"quarters",month:"months",months:"months",week:"weeks",weeks:"weeks",day:"days",days:"days",hour:"hours",hours:"hours",minute:"minutes",minutes:"minutes",second:"seconds",seconds:"seconds",millisecond:"milliseconds",milliseconds:"milliseconds"}[e?e.toLowerCase():e];if(!t)throw new tr(e);return t}static isDuration(e){return e&&e.isLuxonDuration||!1}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}toFormat(e,t={}){let r={...t,floor:!1!==t.round&&!1!==t.floor};return this.isValid?r1.create(this.loc,r).formatDurationFromString(this,e):nx}toHuman(e={}){if(!this.isValid)return nx;let t=nL.map(t=>{let r=this.values[t];return rh(r)?null:this.loc.numberFormatter({style:"unit",unitDisplay:"long",...e,unit:t.slice(0,-1)}).format(r)}).filter(e=>e);return this.loc.listFormatter({type:"conjunction",style:e.listStyle||"narrow",...e}).format(t)}toObject(){return this.isValid?{...this.values}:{}}toISO(){if(!this.isValid)return null;let e="P";return 0!==this.years&&(e+=this.years+"Y"),(0!==this.months||0!==this.quarters)&&(e+=this.months+3*this.quarters+"M"),0!==this.weeks&&(e+=this.weeks+"W"),0!==this.days&&(e+=this.days+"D"),(0!==this.hours||0!==this.minutes||0!==this.seconds||0!==this.milliseconds)&&(e+="T"),0!==this.hours&&(e+=this.hours+"H"),0!==this.minutes&&(e+=this.minutes+"M"),(0!==this.seconds||0!==this.milliseconds)&&(e+=rv(this.seconds+this.milliseconds/1e3,3)+"S"),"P"===e&&(e+="T0S"),e}toISOTime(e={}){if(!this.isValid)return null;let t=this.toMillis();return t<0||t>=864e5?null:(e={suppressMilliseconds:!1,suppressSeconds:!1,includePrefix:!1,format:"extended",...e,includeOffset:!1},ow.fromMillis(t,{zone:"UTC"}).toISOTime(e))}toJSON(){return this.toISO()}toString(){return this.toISO()}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`Duration { values: ${JSON.stringify(this.values)} }`:`Duration { Invalid, reason: ${this.invalidReason} }`}toMillis(){return this.isValid?nU(this.matrix,this.values):NaN}valueOf(){return this.toMillis()}plus(e){if(!this.isValid)return this;let t=nW.fromDurationLike(e),r={};for(let e of nL)(rI(t.values,e)||rI(this.values,e))&&(r[e]=t.get(e)+this.get(e));return nV(this,{values:r},!0)}minus(e){if(!this.isValid)return this;let t=nW.fromDurationLike(e);return this.plus(t.negate())}mapUnits(e){if(!this.isValid)return this;let t={};for(let r of Object.keys(this.values))t[r]=rF(e(this.values[r],r));return nV(this,{values:t},!0)}get(e){return this[nW.normalizeUnit(e)]}set(e){return this.isValid?nV(this,{values:{...this.values,...r_(e,nW.normalizeUnit)}}):this}reconfigure({locale:e,numberingSystem:t,conversionAccuracy:r,matrix:n}={}){return nV(this,{loc:this.loc.clone({locale:e,numberingSystem:t}),matrix:n,conversionAccuracy:r})}as(e){return this.isValid?this.shiftTo(e).get(e):NaN}normalize(){if(!this.isValid)return this;let e=this.toObject();return nG(this.matrix,e),nV(this,{values:e},!0)}rescale(){return this.isValid?nV(this,{values:function(e){let t={};for(let[r,n]of Object.entries(e))0!==n&&(t[r]=n);return t}(this.normalize().shiftToAll().toObject())},!0):this}shiftTo(...e){let t;if(!this.isValid||0===e.length)return this;e=e.map(e=>nW.normalizeUnit(e));let r={},n={},o=this.toObject();for(let a of nL)if(e.indexOf(a)>=0){t=a;let e=0;for(let t in n)e+=this.matrix[t][a]*n[t],n[t]=0;rp(o[a])&&(e+=o[a]);let i=Math.trunc(e);r[a]=i,n[a]=(1e3*e-1e3*i)/1e3}else rp(o[a])&&(n[a]=o[a]);for(let e in n)0!==n[e]&&(r[t]+=e===t?n[e]:n[e]/this.matrix[t][e]);return nG(this.matrix,r),nV(this,{values:r},!0)}shiftToAll(){return this.isValid?this.shiftTo("years","months","weeks","days","hours","minutes","seconds","milliseconds"):this}negate(){if(!this.isValid)return this;let e={};for(let t of Object.keys(this.values))e[t]=0===this.values[t]?0:-this.values[t];return nV(this,{values:e},!0)}get years(){return this.isValid?this.values.years||0:NaN}get quarters(){return this.isValid?this.values.quarters||0:NaN}get months(){return this.isValid?this.values.months||0:NaN}get weeks(){return this.isValid?this.values.weeks||0:NaN}get days(){return this.isValid?this.values.days||0:NaN}get hours(){return this.isValid?this.values.hours||0:NaN}get minutes(){return this.isValid?this.values.minutes||0:NaN}get seconds(){return this.isValid?this.values.seconds||0:NaN}get milliseconds(){return this.isValid?this.values.milliseconds||0:NaN}get isValid(){return null===this.invalid}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}equals(e){if(!this.isValid||!e.isValid||!this.loc.equals(e.loc))return!1;for(let n of nL){var t,r;if(t=this.values[n],r=e.values[n],void 0===t||0===t?void 0!==r&&0!==r:t!==r)return!1}return!0}}let nz="Invalid Interval";class nB{constructor(e){this.s=e.start,this.e=e.end,this.invalid=e.invalid||null,this.isLuxonInterval=!0}static invalid(e,t=null){if(!e)throw new tn("need to specify a reason the Interval is invalid");let r=e instanceof t7?e:new t7(e,t);if(!t9.throwOnInvalid)return new nB({invalid:r});throw new e7(r)}static fromDateTimes(e,t){let r=oO(e),n=oO(t),o=r&&r.isValid?n&&n.isValid?n<r?nB.invalid("end before start",`The end of an interval must be after its start, but you had start=${r.toISO()} and end=${n.toISO()}`):null:nB.invalid("missing or invalid end"):nB.invalid("missing or invalid start");return null==o?new nB({start:r,end:n}):o}static after(e,t){let r=nW.fromDurationLike(t),n=oO(e);return nB.fromDateTimes(n,n.plus(r))}static before(e,t){let r=nW.fromDurationLike(t),n=oO(e);return nB.fromDateTimes(n.minus(r),n)}static fromISO(e,t){let[r,n]=(e||"").split("/",2);if(r&&n){let e,o,a,i;try{o=(e=ow.fromISO(r,t)).isValid}catch(e){o=!1}try{i=(a=ow.fromISO(n,t)).isValid}catch(e){i=!1}if(o&&i)return nB.fromDateTimes(e,a);if(o){let r=nW.fromISO(n,t);if(r.isValid)return nB.after(e,r)}else if(i){let e=nW.fromISO(r,t);if(e.isValid)return nB.before(a,e)}}return nB.invalid("unparsable",`the input "${e}" can't be parsed as ISO 8601`)}static isInterval(e){return e&&e.isLuxonInterval||!1}get start(){return this.isValid?this.s:null}get end(){return this.isValid?this.e:null}get isValid(){return null===this.invalidReason}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}length(e="milliseconds"){return this.isValid?this.toDuration(e).get(e):NaN}count(e="milliseconds",t){let r;if(!this.isValid)return NaN;let n=this.start.startOf(e,t);return Math.floor((r=(r=t?.useLocaleWeeks?this.end.reconfigure({locale:n.locale}):this.end).startOf(e,t)).diff(n,e).get(e))+(r.valueOf()!==this.end.valueOf())}hasSame(e){return!!this.isValid&&(this.isEmpty()||this.e.minus(1).hasSame(this.s,e))}isEmpty(){return this.s.valueOf()===this.e.valueOf()}isAfter(e){return!!this.isValid&&this.s>e}isBefore(e){return!!this.isValid&&this.e<=e}contains(e){return!!this.isValid&&this.s<=e&&this.e>e}set({start:e,end:t}={}){return this.isValid?nB.fromDateTimes(e||this.s,t||this.e):this}splitAt(...e){if(!this.isValid)return[];let t=e.map(oO).filter(e=>this.contains(e)).sort((e,t)=>e.toMillis()-t.toMillis()),r=[],{s:n}=this,o=0;for(;n<this.e;){let e=t[o]||this.e,a=+e>+this.e?this.e:e;r.push(nB.fromDateTimes(n,a)),n=a,o+=1}return r}splitBy(e){let t=nW.fromDurationLike(e);if(!this.isValid||!t.isValid||0===t.as("milliseconds"))return[];let{s:r}=this,n=1,o,a=[];for(;r<this.e;){let e=this.start.plus(t.mapUnits(e=>e*n));o=+e>+this.e?this.e:e,a.push(nB.fromDateTimes(r,o)),r=o,n+=1}return a}divideEqually(e){return this.isValid?this.splitBy(this.length()/e).slice(0,e):[]}overlaps(e){return this.e>e.s&&this.s<e.e}abutsStart(e){return!!this.isValid&&+this.e==+e.s}abutsEnd(e){return!!this.isValid&&+e.e==+this.s}engulfs(e){return!!this.isValid&&this.s<=e.s&&this.e>=e.e}equals(e){return!!this.isValid&&!!e.isValid&&this.s.equals(e.s)&&this.e.equals(e.e)}intersection(e){if(!this.isValid)return this;let t=this.s>e.s?this.s:e.s,r=this.e<e.e?this.e:e.e;return t>=r?null:nB.fromDateTimes(t,r)}union(e){if(!this.isValid)return this;let t=this.s<e.s?this.s:e.s,r=this.e>e.e?this.e:e.e;return nB.fromDateTimes(t,r)}static merge(e){let[t,r]=e.sort((e,t)=>e.s-t.s).reduce(([e,t],r)=>t?t.overlaps(r)||t.abutsStart(r)?[e,t.union(r)]:[e.concat([t]),r]:[e,r],[[],null]);return r&&t.push(r),t}static xor(e){let t=null,r=0,n=[],o=e.map(e=>[{time:e.s,type:"s"},{time:e.e,type:"e"}]);for(let e of Array.prototype.concat(...o).sort((e,t)=>e.time-t.time))1===(r+="s"===e.type?1:-1)?t=e.time:(t&&+t!=+e.time&&n.push(nB.fromDateTimes(t,e.time)),t=null);return nB.merge(n)}difference(...e){return nB.xor([this].concat(e)).map(e=>this.intersection(e)).filter(e=>e&&!e.isEmpty())}toString(){return this.isValid?`[${this.s.toISO()} – ${this.e.toISO()})`:nz}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`Interval { start: ${this.s.toISO()}, end: ${this.e.toISO()} }`:`Interval { Invalid, reason: ${this.invalidReason} }`}toLocaleString(e=tu,t={}){return this.isValid?r1.create(this.s.loc.clone(t),e).formatInterval(this):nz}toISO(e){return this.isValid?`${this.s.toISO(e)}/${this.e.toISO(e)}`:nz}toISODate(){return this.isValid?`${this.s.toISODate()}/${this.e.toISODate()}`:nz}toISOTime(e){return this.isValid?`${this.s.toISOTime(e)}/${this.e.toISOTime(e)}`:nz}toFormat(e,{separator:t=" – "}={}){return this.isValid?`${this.s.toFormat(e)}${t}${this.e.toFormat(e)}`:nz}toDuration(e,t){return this.isValid?this.e.diff(this.s,e,t):nW.invalid(this.invalidReason)}mapEndpoints(e){return nB.fromDateTimes(e(this.s),e(this.e))}}class nq{static hasDST(e=t9.defaultZone){let t=ow.now().setZone(e).set({month:12});return!e.isUniversal&&t.offset!==t.set({month:6}).offset}static isValidIANAZone(e){return tF.isValidZone(e)}static normalizeZone(e){return tX(e,t9.defaultZone)}static getStartOfWeek({locale:e=null,locObj:t=null}={}){return(t||tH.create(e)).getStartOfWeek()}static getMinimumDaysInFirstWeek({locale:e=null,locObj:t=null}={}){return(t||tH.create(e)).getMinDaysInFirstWeek()}static getWeekendWeekdays({locale:e=null,locObj:t=null}={}){return(t||tH.create(e)).getWeekendDays().slice()}static months(e="long",{locale:t=null,numberingSystem:r=null,locObj:n=null,outputCalendar:o="gregory"}={}){return(n||tH.create(t,r,o)).months(e)}static monthsFormat(e="long",{locale:t=null,numberingSystem:r=null,locObj:n=null,outputCalendar:o="gregory"}={}){return(n||tH.create(t,r,o)).months(e,!0)}static weekdays(e="long",{locale:t=null,numberingSystem:r=null,locObj:n=null}={}){return(n||tH.create(t,r,null)).weekdays(e)}static weekdaysFormat(e="long",{locale:t=null,numberingSystem:r=null,locObj:n=null}={}){return(n||tH.create(t,r,null)).weekdays(e,!0)}static meridiems({locale:e=null}={}){return tH.create(e).meridiems()}static eras(e="short",{locale:t=null}={}){return tH.create(t,null,"gregory").eras(e)}static features(){return{relative:ry(),localeWeek:rg()}}}function nZ(e,t){let r=e=>e.toUTC(0,{keepLocalTime:!0}).startOf("day").valueOf(),n=r(t)-r(e);return Math.floor(nW.fromMillis(n).as("days"))}let nJ={arab:"[٠-٩]",arabext:"[۰-۹]",bali:"[᭐-᭙]",beng:"[০-৯]",deva:"[०-९]",fullwide:"[０-９]",gujr:"[૦-૯]",hanidec:"[〇|一|二|三|四|五|六|七|八|九]",khmr:"[០-៩]",knda:"[೦-೯]",laoo:"[໐-໙]",limb:"[᥆-᥏]",mlym:"[൦-൯]",mong:"[᠐-᠙]",mymr:"[၀-၉]",orya:"[୦-୯]",tamldec:"[௦-௯]",telu:"[౦-౯]",thai:"[๐-๙]",tibt:"[༠-༩]",latn:"\\d"},nH={arab:[1632,1641],arabext:[1776,1785],bali:[6992,7001],beng:[2534,2543],deva:[2406,2415],fullwide:[65296,65303],gujr:[2790,2799],khmr:[6112,6121],knda:[3302,3311],laoo:[3792,3801],limb:[6470,6479],mlym:[3430,3439],mong:[6160,6169],mymr:[4160,4169],orya:[2918,2927],tamldec:[3046,3055],telu:[3174,3183],thai:[3664,3673],tibt:[3872,3881]},nY=nJ.hanidec.replace(/[\[|\]]/g,"").split("");function nK({numberingSystem:e},t=""){return RegExp(`${nJ[e||"latn"]}${t}`)}function nQ(e,t=e=>e){return{regex:e,deser:([e])=>t(function(e){let t=parseInt(e,10);if(!isNaN(t))return t;t="";for(let r=0;r<e.length;r++){let n=e.charCodeAt(r);if(-1!==e[r].search(nJ.hanidec))t+=nY.indexOf(e[r]);else for(let e in nH){let[r,o]=nH[e];n>=r&&n<=o&&(t+=n-r)}}return parseInt(t,10)}(e))}}let nX=String.fromCharCode(160),n0=`[ ${nX}]`,n1=RegExp(n0,"g");function n2(e){return e.replace(/\./g,"\\.?").replace(n1,n0)}function n3(e){return e.replace(/\./g,"").replace(n1," ").toLowerCase()}function n6(e,t){return null===e?null:{regex:RegExp(e.map(n2).join("|")),deser:([r])=>e.findIndex(e=>n3(r)===n3(e))+t}}function n4(e,t){return{regex:e,deser:([,e,t])=>rR(e,t),groups:t}}function n5(e){return{regex:e,deser:([e])=>e}}let n8={year:{"2-digit":"yy",numeric:"yyyyy"},month:{numeric:"M","2-digit":"MM",short:"MMM",long:"MMMM"},day:{numeric:"d","2-digit":"dd"},weekday:{short:"EEE",long:"EEEE"},dayperiod:"a",dayPeriod:"a",hour12:{numeric:"h","2-digit":"hh"},hour24:{numeric:"H","2-digit":"HH"},minute:{numeric:"m","2-digit":"mm"},second:{numeric:"s","2-digit":"ss"},timeZoneName:{long:"ZZZZZ",short:"ZZZ"}},n9=null;function n7(e,t){return Array.prototype.concat(...e.map(e=>(function(e,t){if(e.literal)return e;let r=ot(r1.macroTokenToFormatOpts(e.val),t);return null==r||r.includes(void 0)?e:r})(e,t)))}function oe(e,t,r){let n=n7(r1.parseFormat(r),e),o=n.map(t=>(function(e,t){let r=nK(t),n=nK(t,"{2}"),o=nK(t,"{3}"),a=nK(t,"{4}"),i=nK(t,"{6}"),s=nK(t,"{1,2}"),u=nK(t,"{1,3}"),l=nK(t,"{1,6}"),c=nK(t,"{1,9}"),d=nK(t,"{2,4}"),m=nK(t,"{4,6}"),h=e=>({regex:RegExp(e.val.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")),deser:([e])=>e,literal:!0}),p=(p=>{if(e.literal)return h(p);switch(p.val){case"G":return n6(t.eras("short"),0);case"GG":return n6(t.eras("long"),0);case"y":return nQ(l);case"yy":case"kk":return nQ(d,rj);case"yyyy":case"kkkk":return nQ(a);case"yyyyy":return nQ(m);case"yyyyyy":return nQ(i);case"M":case"L":case"d":case"H":case"h":case"m":case"q":case"s":case"W":return nQ(s);case"MM":case"LL":case"dd":case"HH":case"hh":case"mm":case"qq":case"ss":case"WW":return nQ(n);case"MMM":return n6(t.months("short",!0),1);case"MMMM":return n6(t.months("long",!0),1);case"LLL":return n6(t.months("short",!1),1);case"LLLL":return n6(t.months("long",!1),1);case"o":case"S":return nQ(u);case"ooo":case"SSS":return nQ(o);case"u":return n5(c);case"uu":return n5(s);case"uuu":case"E":case"c":return nQ(r);case"a":return n6(t.meridiems(),0);case"EEE":return n6(t.weekdays("short",!1),1);case"EEEE":return n6(t.weekdays("long",!1),1);case"ccc":return n6(t.weekdays("short",!0),1);case"cccc":return n6(t.weekdays("long",!0),1);case"Z":case"ZZ":return n4(RegExp(`([+-]${s.source})(?::(${n.source}))?`),2);case"ZZZ":return n4(RegExp(`([+-]${s.source})(${n.source})?`),2);case"z":return n5(/[a-z_+-/]{1,256}?/i);case" ":return n5(/[^\S\n\r]/);default:return h(p)}})(e)||{invalidReason:"missing Intl.DateTimeFormat.formatToParts support"};return p.token=e,p})(t,e)),a=o.find(e=>e.invalidReason);if(a)return{input:t,tokens:n,invalidReason:a.invalidReason};{let[e,r]=function(e){let t=e.map(e=>e.regex).reduce((e,t)=>`${e}(${t.source})`,"");return[`^${t}$`,e]}(o),a=RegExp(e,"i"),[i,s]=function(e,t,r){let n=e.match(t);if(!n)return[n,{}];{let e={},t=1;for(let o in r)if(rI(r,o)){let a=r[o],i=a.groups?a.groups+1:1;!a.literal&&a.token&&(e[a.token.val[0]]=a.deser(n.slice(t,t+i))),t+=i}return[n,e]}}(t,a,r),[u,l,c]=s?function(e){let t;let r=e=>{switch(e){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":case"H":return"hour";case"d":return"day";case"o":return"ordinal";case"L":case"M":return"month";case"y":return"year";case"E":case"c":return"weekday";case"W":return"weekNumber";case"k":return"weekYear";case"q":return"quarter";default:return null}},n=null;return rh(e.z)||(n=tF.create(e.z)),rh(e.Z)||(n||(n=new tK(e.Z)),t=e.Z),rh(e.q)||(e.M=(e.q-1)*3+1),rh(e.h)||(e.h<12&&1===e.a?e.h+=12:12!==e.h||0!==e.a||(e.h=0)),0===e.G&&e.y&&(e.y=-e.y),rh(e.u)||(e.S=rO(e.u)),[Object.keys(e).reduce((t,n)=>{let o=r(n);return o&&(t[o]=e[n]),t},{}),n,t]}(s):[null,null,void 0];if(rI(s,"a")&&rI(s,"H"))throw new tt("Can't include meridiem when specifying 24-hour format");return{input:t,tokens:n,regex:a,rawMatches:i,matches:s,result:u,zone:l,specificOffset:c}}}function ot(e,t){if(!e)return null;let r=r1.create(t,e).dtFormatter((n9||(n9=ow.fromMillis(0x16a2e5618e3)),n9)),n=r.formatToParts(),o=r.resolvedOptions();return n.map(t=>(function(e,t,r){let{type:n,value:o}=e;if("literal"===n){let e=/^\s+$/.test(o);return{literal:!e,val:e?" ":o}}let a=t[n],i=n;"hour"===n&&(i=null!=t.hour12?t.hour12?"hour12":"hour24":null!=t.hourCycle?"h11"===t.hourCycle||"h12"===t.hourCycle?"hour12":"hour24":r.hour12?"hour12":"hour24");let s=n8[i];if("object"==typeof s&&(s=s[a]),s)return{literal:!1,val:s}})(t,e,o))}let or="Invalid DateTime";function on(e){return new t7("unsupported zone",`the zone "${e.name}" is not supported`)}function oo(e){return null===e.weekData&&(e.weekData=ri(e.c)),e.weekData}function oa(e){return null===e.localWeekData&&(e.localWeekData=ri(e.c,e.loc.getMinDaysInFirstWeek(),e.loc.getStartOfWeek())),e.localWeekData}function oi(e,t){let r={ts:e.ts,zone:e.zone,c:e.c,o:e.o,loc:e.loc,invalid:e.invalid};return new ow({...r,...t,old:r})}function os(e,t,r){let n=e-6e4*t,o=r.offset(n);if(t===o)return[n,t];n-=(o-t)*6e4;let a=r.offset(n);return o===a?[n,o]:[e-6e4*Math.min(o,a),Math.max(o,a)]}function ou(e,t){let r=new Date(e+=6e4*t);return{year:r.getUTCFullYear(),month:r.getUTCMonth()+1,day:r.getUTCDate(),hour:r.getUTCHours(),minute:r.getUTCMinutes(),second:r.getUTCSeconds(),millisecond:r.getUTCMilliseconds()}}function ol(e,t){let r=e.o,n=e.c.year+Math.trunc(t.years),o=e.c.month+Math.trunc(t.months)+3*Math.trunc(t.quarters),a={...e.c,year:n,month:o,day:Math.min(e.c.day,rC(n,o))+Math.trunc(t.days)+7*Math.trunc(t.weeks)},i=nW.fromObject({years:t.years-Math.trunc(t.years),quarters:t.quarters-Math.trunc(t.quarters),months:t.months-Math.trunc(t.months),weeks:t.weeks-Math.trunc(t.weeks),days:t.days-Math.trunc(t.days),hours:t.hours,minutes:t.minutes,seconds:t.seconds,milliseconds:t.milliseconds}).as("milliseconds"),[s,u]=os(rP(a),r,e.zone);return 0!==i&&(s+=i,u=e.zone.offset(s)),{ts:s,o:u}}function oc(e,t,r,n,o,a){let{setZone:i,zone:s}=r;if((!e||0===Object.keys(e).length)&&!t)return ow.invalid(new t7("unparsable",`the input "${o}" can't be parsed as ${n}`));{let n=ow.fromObject(e,{...r,zone:t||s,specificOffset:a});return i?n:n.setZone(s)}}function od(e,t,r=!0){return e.isValid?r1.create(tH.create("en-US"),{allowZ:r,forceSimple:!0}).formatDateTimeFromString(e,t):null}function om(e,t){let r=e.c.year>9999||e.c.year<0,n="";return r&&e.c.year>=0&&(n+="+"),n+=rS(e.c.year,r?6:4),t?(n+="-",n+=rS(e.c.month),n+="-"):n+=rS(e.c.month),n+=rS(e.c.day)}function oh(e,t,r,n,o,a){let i=rS(e.c.hour);return t?(i+=":",i+=rS(e.c.minute),0===e.c.millisecond&&0===e.c.second&&r||(i+=":")):i+=rS(e.c.minute),0===e.c.millisecond&&0===e.c.second&&r||(i+=rS(e.c.second),0===e.c.millisecond&&n||(i+=".",i+=rS(e.c.millisecond,3))),o&&(e.isOffsetFixed&&0===e.offset&&!a?i+="Z":e.o<0?(i+="-",i+=rS(Math.trunc(-e.o/60)),i+=":",i+=rS(Math.trunc(-e.o%60))):(i+="+",i+=rS(Math.trunc(e.o/60)),i+=":",i+=rS(Math.trunc(e.o%60)))),a&&(i+="["+e.zone.ianaName+"]"),i}let op={month:1,day:1,hour:0,minute:0,second:0,millisecond:0},of={weekNumber:1,weekday:1,hour:0,minute:0,second:0,millisecond:0},oy={ordinal:1,hour:0,minute:0,second:0,millisecond:0},og=["year","month","day","hour","minute","second","millisecond"],oT=["weekYear","weekNumber","weekday","hour","minute","second","millisecond"],oI=["year","ordinal","hour","minute","second","millisecond"];function oN(e){switch(e.toLowerCase()){case"localweekday":case"localweekdays":return"localWeekday";case"localweeknumber":case"localweeknumbers":return"localWeekNumber";case"localweekyear":case"localweekyears":return"localWeekYear";default:return function(e){let t={year:"year",years:"year",month:"month",months:"month",day:"day",days:"day",hour:"hour",hours:"hour",minute:"minute",minutes:"minute",quarter:"quarter",quarters:"quarter",second:"second",seconds:"second",millisecond:"millisecond",milliseconds:"millisecond",weekday:"weekday",weekdays:"weekday",weeknumber:"weekNumber",weeksnumber:"weekNumber",weeknumbers:"weekNumber",weekyear:"weekYear",weekyears:"weekYear",ordinal:"ordinal"}[e.toLowerCase()];if(!t)throw new tr(e);return t}(e)}}function ob(e,t){let r,n;let o=tX(t.zone,t9.defaultZone),a=tH.fromObject(t),i=t9.now();if(rh(e.year))r=i;else{for(let t of og)rh(e[t])&&(e[t]=op[t]);let t=rd(e)||rm(e);if(t)return ow.invalid(t);let a=o.offset(i);[r,n]=os(rP(e),a,o)}return new ow({ts:r,zone:o,loc:a,o:n})}function oS(e,t,r){let n=!!rh(r.round)||r.round,o=(e,o)=>(e=rv(e,n||r.calendary?0:2,!0),t.loc.clone(r).relFormatter(r).format(e,o)),a=n=>r.calendary?t.hasSame(e,n)?0:t.startOf(n).diff(e.startOf(n),n).get(n):t.diff(e,n).get(n);if(r.unit)return o(a(r.unit),r.unit);for(let e of r.units){let t=a(e);if(Math.abs(t)>=1)return o(t,e)}return o(e>t?-0:0,r.units[r.units.length-1])}function oE(e){let t={},r;return e.length>0&&"object"==typeof e[e.length-1]?(t=e[e.length-1],r=Array.from(e).slice(0,e.length-1)):r=Array.from(e),[t,r]}class ow{constructor(e){let t=e.zone||t9.defaultZone,r=e.invalid||(Number.isNaN(e.ts)?new t7("invalid input"):null)||(t.isValid?null:on(t));this.ts=rh(e.ts)?t9.now():e.ts;let n=null,o=null;if(!r){if(e.old&&e.old.ts===this.ts&&e.old.zone.equals(t))[n,o]=[e.old.c,e.old.o];else{let e=t.offset(this.ts);n=(r=Number.isNaN((n=ou(this.ts,e)).year)?new t7("invalid input"):null)?null:n,o=r?null:e}}this._zone=t,this.loc=e.loc||tH.create(),this.invalid=r,this.weekData=null,this.localWeekData=null,this.c=n,this.o=o,this.isLuxonDateTime=!0}static now(){return new ow({})}static local(){let[e,t]=oE(arguments),[r,n,o,a,i,s,u]=t;return ob({year:r,month:n,day:o,hour:a,minute:i,second:s,millisecond:u},e)}static utc(){let[e,t]=oE(arguments),[r,n,o,a,i,s,u]=t;return e.zone=tK.utcInstance,ob({year:r,month:n,day:o,hour:a,minute:i,second:s,millisecond:u},e)}static fromJSDate(e,t={}){let r="[object Date]"===Object.prototype.toString.call(e)?e.valueOf():NaN;if(Number.isNaN(r))return ow.invalid("invalid input");let n=tX(t.zone,t9.defaultZone);return n.isValid?new ow({ts:r,zone:n,loc:tH.fromObject(t)}):ow.invalid(on(n))}static fromMillis(e,t={}){if(rp(e))return e<-864e13||e>864e13?ow.invalid("Timestamp out of range"):new ow({ts:e,zone:tX(t.zone,t9.defaultZone),loc:tH.fromObject(t)});throw new tn(`fromMillis requires a numerical input, but received a ${typeof e} with value ${e}`)}static fromSeconds(e,t={}){if(rp(e))return new ow({ts:1e3*e,zone:tX(t.zone,t9.defaultZone),loc:tH.fromObject(t)});throw new tn("fromSeconds requires a numerical input")}static fromObject(e,t={}){e=e||{};let r=tX(t.zone,t9.defaultZone);if(!r.isValid)return ow.invalid(on(r));let n=tH.fromObject(t),o=r_(e,oN),{minDaysInFirstWeek:a,startOfWeek:i}=rc(o,n),s=t9.now(),u=rh(t.specificOffset)?r.offset(s):t.specificOffset,l=!rh(o.ordinal),c=!rh(o.year),d=!rh(o.month)||!rh(o.day),m=c||d,h=o.weekYear||o.weekNumber;if((m||l)&&h)throw new tt("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(d&&l)throw new tt("Can't mix ordinal dates with month/day");let p=h||o.weekday&&!m,f,y,g=ou(s,u);p?(f=oT,y=of,g=ri(g,a,i)):l?(f=oI,y=oy,g=ru(g)):(f=og,y=op);let T=!1;for(let e of f)rh(o[e])?T?o[e]=y[e]:o[e]=g[e]:T=!0;let I=(p?function(e,t=4,r=1){let n=rf(e.weekYear),o=rb(e.weekNumber,1,rM(e.weekYear,t,r)),a=rb(e.weekday,1,7);return n?o?!a&&rr("weekday",e.weekday):rr("week",e.weekNumber):rr("weekYear",e.weekYear)}(o,a,i):l?function(e){let t=rf(e.year),r=rb(e.ordinal,1,rA(e.year));return t?!r&&rr("ordinal",e.ordinal):rr("year",e.year)}(o):rd(o))||rm(o);if(I)return ow.invalid(I);let[N,b]=os(rP(p?rs(o,a,i):l?rl(o):o),u,r),S=new ow({ts:N,zone:r,o:b,loc:n});return o.weekday&&m&&e.weekday!==S.weekday?ow.invalid("mismatched weekday",`you can't specify both a weekday of ${o.weekday} and a date of ${S.toISO()}`):S}static fromISO(e,t={}){let[r,n]=r4(e,[nS,nv],[nE,nk],[nw,nA],[nO,nC]);return oc(r,n,t,"ISO 8601",e)}static fromRFC2822(e,t={}){let[r,n]=r4(e.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim(),[nf,ny]);return oc(r,n,t,"RFC 2822",e)}static fromHTTP(e,t={}){let[r,n]=r4(e,[ng,nN],[nT,nN],[nI,nb]);return oc(r,n,t,"HTTP",t)}static fromFormat(e,t,r={}){if(rh(e)||rh(t))throw new tn("fromFormat requires an input string and a format");let{locale:n=null,numberingSystem:o=null}=r,[a,i,s,u]=function(e,t,r){let{result:n,zone:o,specificOffset:a,invalidReason:i}=oe(e,t,r);return[n,o,a,i]}(tH.fromOpts({locale:n,numberingSystem:o,defaultToEN:!0}),e,t);return u?ow.invalid(u):oc(a,i,r,`format ${t}`,e,s)}static fromString(e,t,r={}){return ow.fromFormat(e,t,r)}static fromSQL(e,t={}){let[r,n]=r4(e,[nD,nv],[nM,nj]);return oc(r,n,t,"SQL",e)}static invalid(e,t=null){if(!e)throw new tn("need to specify a reason the DateTime is invalid");let r=e instanceof t7?e:new t7(e,t);if(!t9.throwOnInvalid)return new ow({invalid:r});throw new e9(r)}static isDateTime(e){return e&&e.isLuxonDateTime||!1}static parseFormatForOpts(e,t={}){let r=ot(e,tH.fromObject(t));return r?r.map(e=>e?e.val:null).join(""):null}static expandFormat(e,t={}){return n7(r1.parseFormat(e),tH.fromObject(t)).map(e=>e.val).join("")}get(e){return this[e]}get isValid(){return null===this.invalid}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}get outputCalendar(){return this.isValid?this.loc.outputCalendar:null}get zone(){return this._zone}get zoneName(){return this.isValid?this.zone.name:null}get year(){return this.isValid?this.c.year:NaN}get quarter(){return this.isValid?Math.ceil(this.c.month/3):NaN}get month(){return this.isValid?this.c.month:NaN}get day(){return this.isValid?this.c.day:NaN}get hour(){return this.isValid?this.c.hour:NaN}get minute(){return this.isValid?this.c.minute:NaN}get second(){return this.isValid?this.c.second:NaN}get millisecond(){return this.isValid?this.c.millisecond:NaN}get weekYear(){return this.isValid?oo(this).weekYear:NaN}get weekNumber(){return this.isValid?oo(this).weekNumber:NaN}get weekday(){return this.isValid?oo(this).weekday:NaN}get isWeekend(){return this.isValid&&this.loc.getWeekendDays().includes(this.weekday)}get localWeekday(){return this.isValid?oa(this).weekday:NaN}get localWeekNumber(){return this.isValid?oa(this).weekNumber:NaN}get localWeekYear(){return this.isValid?oa(this).weekYear:NaN}get ordinal(){return this.isValid?ru(this.c).ordinal:NaN}get monthShort(){return this.isValid?nq.months("short",{locObj:this.loc})[this.month-1]:null}get monthLong(){return this.isValid?nq.months("long",{locObj:this.loc})[this.month-1]:null}get weekdayShort(){return this.isValid?nq.weekdays("short",{locObj:this.loc})[this.weekday-1]:null}get weekdayLong(){return this.isValid?nq.weekdays("long",{locObj:this.loc})[this.weekday-1]:null}get offset(){return this.isValid?+this.o:NaN}get offsetNameShort(){return this.isValid?this.zone.offsetName(this.ts,{format:"short",locale:this.locale}):null}get offsetNameLong(){return this.isValid?this.zone.offsetName(this.ts,{format:"long",locale:this.locale}):null}get isOffsetFixed(){return this.isValid?this.zone.isUniversal:null}get isInDST(){return!this.isOffsetFixed&&(this.offset>this.set({month:1,day:1}).offset||this.offset>this.set({month:5}).offset)}getPossibleOffsets(){if(!this.isValid||this.isOffsetFixed)return[this];let e=rP(this.c),t=this.zone.offset(e-864e5),r=this.zone.offset(e+864e5),n=this.zone.offset(e-6e4*t),o=this.zone.offset(e-6e4*r);if(n===o)return[this];let a=e-6e4*n,i=e-6e4*o,s=ou(a,n),u=ou(i,o);return s.hour===u.hour&&s.minute===u.minute&&s.second===u.second&&s.millisecond===u.millisecond?[oi(this,{ts:a}),oi(this,{ts:i})]:[this]}get isInLeapYear(){return rk(this.year)}get daysInMonth(){return rC(this.year,this.month)}get daysInYear(){return this.isValid?rA(this.year):NaN}get weeksInWeekYear(){return this.isValid?rM(this.weekYear):NaN}get weeksInLocalWeekYear(){return this.isValid?rM(this.localWeekYear,this.loc.getMinDaysInFirstWeek(),this.loc.getStartOfWeek()):NaN}resolvedLocaleOptions(e={}){let{locale:t,numberingSystem:r,calendar:n}=r1.create(this.loc.clone(e),e).resolvedOptions(this);return{locale:t,numberingSystem:r,outputCalendar:n}}toUTC(e=0,t={}){return this.setZone(tK.instance(e),t)}toLocal(){return this.setZone(t9.defaultZone)}setZone(e,{keepLocalTime:t=!1,keepCalendarTime:r=!1}={}){if((e=tX(e,t9.defaultZone)).equals(this.zone))return this;if(!e.isValid)return ow.invalid(on(e));{let o=this.ts;if(t||r){var n;let t=e.offset(this.ts),r=this.toObject();[o]=(n=e,os(rP(r),t,n))}return oi(this,{ts:o,zone:e})}}reconfigure({locale:e,numberingSystem:t,outputCalendar:r}={}){return oi(this,{loc:this.loc.clone({locale:e,numberingSystem:t,outputCalendar:r})})}setLocale(e){return this.reconfigure({locale:e})}set(e){var t,r,n;let o;if(!this.isValid)return this;let a=r_(e,oN),{minDaysInFirstWeek:i,startOfWeek:s}=rc(a,this.loc),u=!rh(a.weekYear)||!rh(a.weekNumber)||!rh(a.weekday),l=!rh(a.ordinal),c=!rh(a.year),d=!rh(a.month)||!rh(a.day),m=a.weekYear||a.weekNumber;if((c||d||l)&&m)throw new tt("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(d&&l)throw new tt("Can't mix ordinal dates with month/day");u?o=rs({...ri(this.c,i,s),...a},i,s):rh(a.ordinal)?(o={...this.toObject(),...a},rh(a.day)&&(o.day=Math.min(rC(o.year,o.month),o.day))):o=rl({...ru(this.c),...a});let[h,p]=(t=o,r=this.o,n=this.zone,os(rP(t),r,n));return oi(this,{ts:h,o:p})}plus(e){return this.isValid?oi(this,ol(this,nW.fromDurationLike(e))):this}minus(e){return this.isValid?oi(this,ol(this,nW.fromDurationLike(e).negate())):this}startOf(e,{useLocaleWeeks:t=!1}={}){if(!this.isValid)return this;let r={},n=nW.normalizeUnit(e);switch(n){case"years":r.month=1;case"quarters":case"months":r.day=1;case"weeks":case"days":r.hour=0;case"hours":r.minute=0;case"minutes":r.second=0;case"seconds":r.millisecond=0}if("weeks"===n){if(t){let e=this.loc.getStartOfWeek(),{weekday:t}=this;t<e&&(r.weekNumber=this.weekNumber-1),r.weekday=e}else r.weekday=1}if("quarters"===n){let e=Math.ceil(this.month/3);r.month=(e-1)*3+1}return this.set(r)}endOf(e,t){return this.isValid?this.plus({[e]:1}).startOf(e,t).minus(1):this}toFormat(e,t={}){return this.isValid?r1.create(this.loc.redefaultToEN(t)).formatDateTimeFromString(this,e):or}toLocaleString(e=tu,t={}){return this.isValid?r1.create(this.loc.clone(t),e).formatDateTime(this):or}toLocaleParts(e={}){return this.isValid?r1.create(this.loc.clone(e),e).formatDateTimeParts(this):[]}toISO({format:e="extended",suppressSeconds:t=!1,suppressMilliseconds:r=!1,includeOffset:n=!0,extendedZone:o=!1}={}){if(!this.isValid)return null;let a="extended"===e,i=om(this,a);return i+="T",i+=oh(this,a,t,r,n,o)}toISODate({format:e="extended"}={}){return this.isValid?om(this,"extended"===e):null}toISOWeekDate(){return od(this,"kkkk-'W'WW-c")}toISOTime({suppressMilliseconds:e=!1,suppressSeconds:t=!1,includeOffset:r=!0,includePrefix:n=!1,extendedZone:o=!1,format:a="extended"}={}){return this.isValid?(n?"T":"")+oh(this,"extended"===a,t,e,r,o):null}toRFC2822(){return od(this,"EEE, dd LLL yyyy HH:mm:ss ZZZ",!1)}toHTTP(){return od(this.toUTC(),"EEE, dd LLL yyyy HH:mm:ss 'GMT'")}toSQLDate(){return this.isValid?om(this,!0):null}toSQLTime({includeOffset:e=!0,includeZone:t=!1,includeOffsetSpace:r=!0}={}){let n="HH:mm:ss.SSS";return(t||e)&&(r&&(n+=" "),t?n+="z":e&&(n+="ZZ")),od(this,n,!0)}toSQL(e={}){return this.isValid?`${this.toSQLDate()} ${this.toSQLTime(e)}`:null}toString(){return this.isValid?this.toISO():or}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`DateTime { ts: ${this.toISO()}, zone: ${this.zone.name}, locale: ${this.locale} }`:`DateTime { Invalid, reason: ${this.invalidReason} }`}valueOf(){return this.toMillis()}toMillis(){return this.isValid?this.ts:NaN}toSeconds(){return this.isValid?this.ts/1e3:NaN}toUnixInteger(){return this.isValid?Math.floor(this.ts/1e3):NaN}toJSON(){return this.toISO()}toBSON(){return this.toJSDate()}toObject(e={}){if(!this.isValid)return{};let t={...this.c};return e.includeConfig&&(t.outputCalendar=this.outputCalendar,t.numberingSystem=this.loc.numberingSystem,t.locale=this.loc.locale),t}toJSDate(){return new Date(this.isValid?this.ts:NaN)}diff(e,t="milliseconds",r={}){if(!this.isValid||!e.isValid)return nW.invalid("created by diffing an invalid DateTime");let n={locale:this.locale,numberingSystem:this.numberingSystem,...r},o=(Array.isArray(t)?t:[t]).map(nW.normalizeUnit),a=e.valueOf()>this.valueOf(),i=function(e,t,r,n){let[o,a,i,s]=function(e,t,r){let n,o;let a={},i=e;for(let[s,u]of[["years",(e,t)=>t.year-e.year],["quarters",(e,t)=>t.quarter-e.quarter+(t.year-e.year)*4],["months",(e,t)=>t.month-e.month+(t.year-e.year)*12],["weeks",(e,t)=>{let r=nZ(e,t);return(r-r%7)/7}],["days",nZ]])r.indexOf(s)>=0&&(n=s,a[s]=u(e,t),(o=i.plus(a))>t?(a[s]--,(e=i.plus(a))>t&&(o=e,a[s]--,e=i.plus(a))):e=o);return[e,a,o,n]}(e,t,r),u=t-o,l=r.filter(e=>["hours","minutes","seconds","milliseconds"].indexOf(e)>=0);0===l.length&&(i<t&&(i=o.plus({[s]:1})),i!==o&&(a[s]=(a[s]||0)+u/(i-o)));let c=nW.fromObject(a,n);return l.length>0?nW.fromMillis(u,n).shiftTo(...l).plus(c):c}(a?this:e,a?e:this,o,n);return a?i.negate():i}diffNow(e="milliseconds",t={}){return this.diff(ow.now(),e,t)}until(e){return this.isValid?nB.fromDateTimes(this,e):this}hasSame(e,t,r){if(!this.isValid)return!1;let n=e.valueOf(),o=this.setZone(e.zone,{keepLocalTime:!0});return o.startOf(t,r)<=n&&n<=o.endOf(t,r)}equals(e){return this.isValid&&e.isValid&&this.valueOf()===e.valueOf()&&this.zone.equals(e.zone)&&this.loc.equals(e.loc)}toRelative(e={}){if(!this.isValid)return null;let t=e.base||ow.fromObject({},{zone:this.zone}),r=e.padding?this<t?-e.padding:e.padding:0,n=["years","months","days","hours","minutes","seconds"],o=e.unit;return Array.isArray(e.unit)&&(n=e.unit,o=void 0),oS(t,this.plus(r),{...e,numeric:"always",units:n,unit:o})}toRelativeCalendar(e={}){return this.isValid?oS(e.base||ow.fromObject({},{zone:this.zone}),this,{...e,numeric:"auto",units:["years","months","days"],calendary:!0}):null}static min(...e){if(!e.every(ow.isDateTime))throw new tn("min requires all arguments be DateTimes");return rT(e,e=>e.valueOf(),Math.min)}static max(...e){if(!e.every(ow.isDateTime))throw new tn("max requires all arguments be DateTimes");return rT(e,e=>e.valueOf(),Math.max)}static fromFormatExplain(e,t,r={}){let{locale:n=null,numberingSystem:o=null}=r;return oe(tH.fromOpts({locale:n,numberingSystem:o,defaultToEN:!0}),e,t)}static fromStringExplain(e,t,r={}){return ow.fromFormatExplain(e,t,r)}static get DATE_SHORT(){return tu}static get DATE_MED(){return tl}static get DATE_MED_WITH_WEEKDAY(){return tc}static get DATE_FULL(){return td}static get DATE_HUGE(){return tm}static get TIME_SIMPLE(){return th}static get TIME_WITH_SECONDS(){return tp}static get TIME_WITH_SHORT_OFFSET(){return tf}static get TIME_WITH_LONG_OFFSET(){return ty}static get TIME_24_SIMPLE(){return tg}static get TIME_24_WITH_SECONDS(){return tT}static get TIME_24_WITH_SHORT_OFFSET(){return tI}static get TIME_24_WITH_LONG_OFFSET(){return tN}static get DATETIME_SHORT(){return tb}static get DATETIME_SHORT_WITH_SECONDS(){return tS}static get DATETIME_MED(){return tE}static get DATETIME_MED_WITH_SECONDS(){return tw}static get DATETIME_MED_WITH_WEEKDAY(){return tO}static get DATETIME_FULL(){return tv}static get DATETIME_FULL_WITH_SECONDS(){return tk}static get DATETIME_HUGE(){return tA}static get DATETIME_HUGE_WITH_SECONDS(){return tC}}function oO(e){if(ow.isDateTime(e))return e;if(e&&e.valueOf&&rp(e.valueOf()))return ow.fromJSDate(e);if(e&&"object"==typeof e)return ow.fromObject(e);throw new tn(`Unknown datetime argument: ${e}, of type ${typeof e}`)}var ov=Object.defineProperty,ok=class extends Error{constructor(e,t,r,n){super(),this.errorName=e,this.errorType=t,this.errorInstanceId=n,this.statusCode=r}},oA=class extends Error{constructor(e,t,r,n,o,a){super(),this.errorName=t,this.errorType=r,this.statusCode=n,this.errorInstanceId=o,this.message=e,this.parameters=a}},oC=class{handlePermissionDenied(e){return{errorName:"PermissionDenied",errorType:"PERMISSION_DENIED",name:e.name,message:e.message,errorInstanceId:e.errorInstanceId,statusCode:e.statusCode}}handleUnauthorized(e){return{name:e.name,message:e.message,errorType:"UNAUTHORIZED",errorName:"Unauthorized",errorInstanceId:e.errorInstanceId,statusCode:e.statusCode}}handleUnknownError(e){return{name:e.name,message:e.message,errorName:"UnknownError",errorType:"UNKNOWN",originalError:"originalError"in e?e.originalError:e}}},oP=class extends oC{handlePropertiesNotSearchable(e,t){return{name:e.errorName,message:e.message,errorName:"PropertiesNotSearchable",errorType:"INVALID_ARGUMENT",errorInstanceId:e.errorInstanceId,statusCode:e.statusCode,propertyApiNames:t}}handlePropertyTypesSearchNotSupported(e,t){return{name:e.errorName,message:e.message,errorName:"PropertyTypesSearchNotSupported",errorType:"INVALID_ARGUMENT",errorInstanceId:e.errorInstanceId,statusCode:e.statusCode,parameters:t}}handlePropertiesNotFilterable(e,t){return{name:e.errorName,message:e.message,errorName:"PropertiesNotFilterable",errorType:"INVALID_ARGUMENT",errorInstanceId:e.errorInstanceId,statusCode:e.statusCode,properties:t}}handleInvalidAggregationRangeValue(e,t,r,n){return{name:e.errorName,message:e.message,errorName:"InvalidAggregationRangeValue",errorType:"INVALID_ARGUMENT",errorInstanceId:e.errorInstanceId,statusCode:e.statusCode,property:t,objectType:r,propertyBaseType:n}}handleOntologySyncing(e,t){return{name:e.errorName,message:e.message,errorName:"OntologySyncing",errorType:"CONFLICT",errorInstanceId:e.errorInstanceId,statusCode:e.statusCode,objectType:t}}handleInvalidRangeQuery(e,t,r,n,o,a){return{name:e.errorName,message:e.message,errorName:"InvalidRangeQuery",errorType:"INVALID_ARGUMENT",errorInstanceId:e.errorInstanceId,statusCode:e.statusCode,field:t,lt:r,gt:n,lte:o,gte:a}}handleInvalidPropertyValue(e,t,r,n){return{name:e.errorName,message:e.message,errorName:"InvalidPropertyValue",errorType:"INVALID_ARGUMENT",errorInstanceId:e.errorInstanceId,statusCode:e.statusCode,propertyBaseType:t,property:r,propertyValue:n}}handlePropertiesNotSortable(e,t){return{name:e.errorName,message:e.message,errorName:"PropertiesNotSortable",errorType:"INVALID_ARGUMENT",errorInstanceId:e.errorInstanceId,statusCode:e.statusCode,properties:t}}handleInvalidFields(e,t){return{name:e.errorName,message:e.message,errorName:"InvalidFields",errorType:"INVALID_ARGUMENT",errorInstanceId:e.errorInstanceId,statusCode:e.statusCode,properties:t}}handleAggregationGroupCountExceededLimit(e,t,r){return{name:e.errorName,message:e.message,errorName:"AggregationGroupCountExceededLimit",errorType:"INVALID_ARGUMENT",errorInstanceId:e.errorInstanceId,statusCode:e.statusCode,groupsCount:t,groupsLimit:r}}handleInvalidSortOrder(e,t){return{name:e.errorName,message:e.message,errorName:"InvalidSortOrder",errorType:"INVALID_ARGUMENT",errorInstanceId:e.errorInstanceId,statusCode:e.statusCode,invalidSortOrder:t}}handleQueryDepthExceededLimit(e,t,r){return{name:e.errorName,message:e.message,errorName:"QueryDepthExceededLimit",errorType:"INVALID_ARGUMENT",errorInstanceId:e.errorInstanceId,statusCode:e.statusCode,depth:t,depthLimit:r}}handleInvalidPropertyFiltersCombination(e,t,r){return{name:e.errorName,message:e.message,errorName:"InvalidPropertyFiltersCombination",errorType:"INVALID_ARGUMENT",errorInstanceId:e.errorInstanceId,statusCode:e.statusCode,propertyFilters:t,property:r}}handleDuplicateOrderBy(e,t){return{name:e.errorName,message:e.message,errorName:"DuplicateOrderBy",errorType:"INVALID_ARGUMENT",errorInstanceId:e.errorInstanceId,statusCode:e.statusCode,properties:t}}handleInvalidAggregationRange(e){return{name:e.errorName,message:e.message,errorName:"InvalidAggregationRange",errorType:"INVALID_ARGUMENT",errorInstanceId:e.errorInstanceId,statusCode:e.statusCode}}handleInvalidSortType(e,t){return{name:e.errorName,message:e.message,errorName:"InvalidSortType",errorType:"INVALID_ARGUMENT",errorInstanceId:e.errorInstanceId,statusCode:e.statusCode,invalidSortType:t}}handlePropertyFiltersNotSupported(e,t,r){return{name:e.errorName,message:e.message,errorName:"PropertyFiltersNotSupported",errorType:"INVALID_ARGUMENT",errorInstanceId:e.errorInstanceId,statusCode:e.statusCode,propertyFilters:t,property:r}}handleMultipleGroupByOnFieldNotSupported(e,t){return{name:e.errorName,message:e.message,errorName:"MultipleGroupByOnFieldNotSupported",errorType:"INVALID_ARGUMENT",errorInstanceId:e.errorInstanceId,statusCode:e.statusCode,duplicateFields:t}}handleInvalidPropertyFilterValue(e,t,r,n,o){return{name:e.errorName,message:e.message,errorName:"InvalidPropertyFilterValue",errorType:"INVALID_ARGUMENT",errorInstanceId:e.errorInstanceId,statusCode:e.statusCode,expectedType:t,propertyFilter:r,propertyFilterValue:n,property:o}}handleInvalidAggregationRangePropertyType(e,t,r,n){return{name:e.errorName,message:e.message,errorName:"InvalidAggregationRangePropertyType",errorType:"INVALID_ARGUMENT",errorInstanceId:e.errorInstanceId,statusCode:e.statusCode,property:t,objectType:r,propertyBaseType:n}}},oD=class extends oC{handleAttachmentSizeExceededLimit(e,t,r){return{name:e.errorName,message:e.message,errorName:"AttachmentSizeExceededLimit",errorType:"INVALID_ARGUMENT",errorInstanceId:e.errorInstanceId,statusCode:e.statusCode,fileSizeBytes:t,fileLimitBytes:r}}handleInvalidContentLength(e){return{name:e.errorName,message:e.message,errorName:"InvalidContentLength",errorType:"INVALID_ARGUMENT",errorInstanceId:e.errorInstanceId,statusCode:e.statusCode}}handleInvalidContentType(e){return{name:e.errorName,message:e.message,errorName:"InvalidContentType",errorType:"INVALID_ARGUMENT",errorInstanceId:e.errorInstanceId,statusCode:e.statusCode}}handleAttachmentNotFound(e,t){return{name:e.errorName,message:e.message,errorName:"AttachmentNotFound",errorType:"NOT_FOUND",errorInstanceId:e.errorInstanceId,statusCode:e.statusCode,attachmentRid:t}}};function oM(e,t,r){switch(t.errorName){case"ObjectTypeNotFound":return e.handleObjectTypeNotFound(t,r.objectType);case"ObjectTypeNotSynced":return e.handleObjectTypeNotSynced(t,r.objectType);case"ObjectsExceededLimit":return e.handleObjectsExceededLimit(t);case"OntologySyncing":return e.handleOntologySyncing(t,r.objectType);case"PermissionDenied":return e.handlePermissionDenied(t);case"Unauthorized":return e.handleUnauthorized(t);case"UnknownError":return e.handleUnknownError(t);default:return t.errorName,e.handleUnknownError(t)}}function oj(e,t,r){switch(t.errorName){case"ActionTypeNotFound":return e.handleActionTypeNotFound(t,r.actionType);case"PropertyApiNameNotFound":return e.handlePropertyApiNameNotFound(t,r.propertyId,r.propertyBaseType);case"ActionParameterObjectTypeNotFound":return e.handleActionParameterObjectTypeNotFound(t,r.parameterId);case"InvalidUserId":return e.handleInvalidUserId(t,r.userId);case"FunctionEncounteredUserFacingError":return e.handleFunctionEncounteredUserFacingError(t,r.functionRid,r.functionVersion,r.message);case"FunctionInvalidInput":return e.handleFunctionInvalidInput(t,r.functionRid,r.functionVersion);case"PropertiesNotFound":return e.handlePropertiesNotFound(t,r.objectType,r.properties);case"OntologyEditsExceededLimit":return e.handleOntologyEditsExceededLimit(t,r.editsCount,r.editsLimit);case"ActionNotFound":return e.handleActionNotFound(t,r.actionRid);case"InvalidGroupId":return e.handleInvalidGroupId(t,r.groupId);case"ActionParameterObjectNotFound":return e.handleActionParameterObjectNotFound(t,r.parameterId);case"FunctionExecutionTimedOut":return e.handleFunctionExecutionTimedOut(t,r.functionRid,r.functionVersion);case"PropertyBaseTypeNotSupported":return e.handlePropertyBaseTypeNotSupported(t,r.object,r.property,r.propertyBaseType);case"ApplyActionFailed":return e.handleApplyActionFailed(t);case"ParametersNotFound":return e.handleParametersNotFound(t,r.actionType,r.unknownParameterIds,r.configuredParameterIds);case"ParameterObjectNotFound":return e.handleParameterObjectNotFound(t,r.objectType,r.primaryKey);case"UnknownParameter":return e.handleUnknownParameter(t,r.unknownParameters,r.expectedParameters);case"ActionValidationFailed":return e.handleActionValidationFailed(t,r.actionType);case"ActionEditedPropertiesNotFound":return e.handleActionEditedPropertiesNotFound(t);case"MissingParameter":return e.handleMissingParameter(t,r.parameters);case"PermissionDenied":return e.handlePermissionDenied(t);case"Unauthorized":return e.handleUnauthorized(t);case"UnknownError":return e.handleUnknownError(t);default:return t.errorName,e.handleUnknownError(t)}}function ox(e,t,r){switch(t.errorName){case"AttachmentSizeExceededLimit":return e.handleAttachmentSizeExceededLimit(t,r.fileSizeBytes,r.fileLimitBytes);case"InvalidContentLength":return e.handleInvalidContentLength(t);case"InvalidContentType":return e.handleInvalidContentType(t);case"AttachmentNotFound":return e.handleAttachmentNotFound(t,r.attachmentRid);case"PermissionDenied":return e.handlePermissionDenied(t);case"Unauthorized":return e.handleUnauthorized(t);case"UnknownError":return e.handleUnknownError(t);default:return t.errorName,e.handleUnknownError(t)}}function oR(e,t,r){switch(t.errorName){case"PermissionDenied":return e.handlePermissionDenied(t);case"Unauthorized":return e.handleUnauthorized(t);case"UnknownError":return e.handleUnknownError(t);default:return t.errorName,e.handleUnknownError(t)}}var oF=class extends oC{handleActionValidationFailed(e,t){return{name:e.errorName,message:e.message,errorName:"ActionValidationFailed",errorType:"INVALID_ARGUMENT",errorInstanceId:e.errorInstanceId,statusCode:e.statusCode,actionType:t}}handleActionTypeNotFound(e,t){return{name:e.errorName,message:e.message,errorName:"ActionTypeNotFound",errorType:"NOT_FOUND",errorInstanceId:e.errorInstanceId,statusCode:e.statusCode,actionType:t}}handlePropertyApiNameNotFound(e,t,r){return{name:e.errorName,message:e.message,errorName:"PropertyApiNameNotFound",errorType:"INVALID_ARGUMENT",errorInstanceId:e.errorInstanceId,statusCode:e.statusCode,propertyId:t,propertyBaseType:r}}handleActionParameterObjectTypeNotFound(e,t){return{name:e.errorName,message:e.message,errorName:"ActionParameterObjectTypeNotFound",errorType:"NOT_FOUND",errorInstanceId:e.errorInstanceId,statusCode:e.statusCode,parameterId:t}}handleInvalidUserId(e,t){return{name:e.errorName,message:e.message,errorName:"InvalidUserId",errorType:"INVALID_ARGUMENT",errorInstanceId:e.errorInstanceId,statusCode:e.statusCode,userId:t}}handleFunctionEncounteredUserFacingError(e,t,r,n){return{name:e.errorName,message:n,errorName:"FunctionEncounteredUserFacingError",errorType:"INVALID_ARGUMENT",errorInstanceId:e.errorInstanceId,statusCode:e.statusCode,functionRid:t,functionVersion:r}}handleFunctionInvalidInput(e,t,r){return{name:e.errorName,message:e.message,errorName:"FunctionInvalidInput",errorType:"INVALID_ARGUMENT",errorInstanceId:e.errorInstanceId,statusCode:e.statusCode,functionRid:t,functionVersion:r}}handlePropertiesNotFound(e,t,r){return{name:e.errorName,message:e.message,errorName:"PropertiesNotFound",errorType:"NOT_FOUND",errorInstanceId:e.errorInstanceId,statusCode:e.statusCode,objectType:t,properties:r}}handleOntologyEditsExceededLimit(e,t,r){return{name:e.errorName,message:e.message,errorName:"OntologyEditsExceededLimit",errorType:"INVALID_ARGUMENT",errorInstanceId:e.errorInstanceId,statusCode:e.statusCode,editsCount:t,editsLimit:r}}handleActionNotFound(e,t){return{name:e.errorName,message:e.message,errorName:"ActionNotFound",errorType:"NOT_FOUND",errorInstanceId:e.errorInstanceId,statusCode:e.statusCode,actionRid:t}}handleInvalidGroupId(e,t){return{name:e.errorName,message:e.message,errorName:"InvalidGroupId",errorType:"INVALID_ARGUMENT",errorInstanceId:e.errorInstanceId,statusCode:e.statusCode,groupId:t}}handleActionParameterObjectNotFound(e,t){return{name:e.errorName,message:e.message,errorName:"ActionParameterObjectNotFound",errorType:"NOT_FOUND",errorInstanceId:e.errorInstanceId,statusCode:e.statusCode,parameterId:t}}handleFunctionExecutionTimedOut(e,t,r){return{name:e.errorName,message:e.message,errorName:"FunctionExecutionTimedOut",errorType:"TIMEOUT",errorInstanceId:e.errorInstanceId,statusCode:e.statusCode,functionRid:t,functionVersion:r}}handlePropertyBaseTypeNotSupported(e,t,r,n){return{name:e.errorName,message:e.message,errorName:"PropertyBaseTypeNotSupported",errorType:"INVALID_ARGUMENT",errorInstanceId:e.errorInstanceId,statusCode:e.statusCode,objectType:t,property:r,propertyBaseType:n}}handleApplyActionFailed(e){return{name:e.errorName,message:e.message,errorName:"ApplyActionFailed",errorType:"INVALID_ARGUMENT",errorInstanceId:e.errorInstanceId,statusCode:e.statusCode}}handleParametersNotFound(e,t,r,n){return{name:e.errorName,message:e.message,errorName:"ParametersNotFound",errorType:"INVALID_ARGUMENT",errorInstanceId:e.errorInstanceId,statusCode:e.statusCode,actionType:t,unknownParameterIds:r,configuredParameterIds:n}}handleParameterObjectNotFound(e,t,r){return{name:e.errorName,message:e.message,errorName:"ParameterObjectNotFound",errorType:"NOT_FOUND",errorInstanceId:e.errorInstanceId,statusCode:e.statusCode,objectType:t,primaryKey:r}}handleUnknownParameter(e,t,r){return{name:e.errorName,message:e.message,errorName:"UnknownParameter",errorType:"INVALID_ARGUMENT",errorInstanceId:e.errorInstanceId,statusCode:e.statusCode,unknownParameters:t,expectedParameters:r}}handleActionEditedPropertiesNotFound(e){return{name:e.errorName,message:e.message,errorName:"ActionEditedPropertiesNotFound",errorType:"INVALID_ARGUMENT",errorInstanceId:e.errorInstanceId,statusCode:e.statusCode}}handleMissingParameter(e,t){return{name:e.errorName,message:e.message,errorName:"MissingParameter",errorType:"INVALID_ARGUMENT",errorInstanceId:e.errorInstanceId,statusCode:e.statusCode,parameters:t}}},o_=class extends oC{handleParameterObjectSetRidNotFound(e,t){return{name:e.errorName,message:e.message,errorName:"ParameterObjectSetRidNotFound",errorType:"NOT_FOUND",errorInstanceId:e.errorInstanceId,statusCode:e.statusCode,objectSetRid:t}}handlePropertyBaseTypeNotSupported(e,t,r,n){return{name:e.errorName,message:e.message,errorName:"PropertyBaseTypeNotSupported",errorType:"INVALID_ARGUMENT",errorInstanceId:e.errorInstanceId,statusCode:e.statusCode,objectType:t,property:r,propertyBaseType:n}}handleQueryTimeExceededLimit(e,t,r){return{name:e.errorName,message:e.message,errorName:"QueryTimeExceededLimit",errorType:"TIMEOUT",errorInstanceId:e.errorInstanceId,statusCode:e.statusCode,functionRid:t,functionVersion:r}}handleInvalidParameterValue(e,t,r,n,o){return{name:e.errorName,message:e.message,errorName:"InvalidParameterValue",errorType:"INVALID_ARGUMENT",errorInstanceId:e.errorInstanceId,statusCode:e.statusCode,parameterId:t,parameterBaseType:r,parameterDataType:n,parameterValue:o}}handleQueryNotFound(e,t){return{name:e.errorName,message:e.message,errorName:"QueryNotFound",errorType:"NOT_FOUND",errorInstanceId:e.errorInstanceId,statusCode:e.statusCode,query:t}}handleParameterObjectNotFound(e,t,r){return{name:e.errorName,message:e.message,errorName:"ParameterObjectNotFound",errorType:"NOT_FOUND",errorInstanceId:e.errorInstanceId,statusCode:e.statusCode,objectType:t,primaryKey:r}}handleQueryMemoryExceededLimit(e,t,r){return{name:e.errorName,message:e.message,errorName:"QueryMemoryExceededLimit",errorType:"TIMEOUT",errorInstanceId:e.errorInstanceId,statusCode:e.statusCode,functionRid:t,functionVersion:r}}handleQueryEncounteredUserFacingError(e,t,r,n){return{name:e.errorName,errorName:"QueryEncounteredUserFacingError",errorType:"CONFLICT",errorInstanceId:e.errorInstanceId,statusCode:e.statusCode,functionRid:t,functionVersion:r,message:n}}handleParameterTypeNotSupported(e,t,r){return{name:e.errorName,message:e.message,errorName:"ParameterTypeNotSupported",errorType:"INVALID_ARGUMENT",errorInstanceId:e.errorInstanceId,statusCode:e.statusCode,parameterId:t,parameterBaseType:r}}handleMissingParameter(e,t){return{name:e.errorName,message:e.message,errorName:"MissingParameter",errorType:"INVALID_ARGUMENT",errorInstanceId:e.errorInstanceId,statusCode:e.statusCode,parameters:t}}},oL=class extends oC{handleObjectTypeNotFound(e,t){return{name:e.errorName,message:e.message,errorName:"ObjectTypeNotFound",errorType:"NOT_FOUND",errorInstanceId:e.errorInstanceId,statusCode:e.statusCode,objectType:t}}handleObjectTypeNotSynced(e,t){return{name:e.errorName,message:e.message,errorName:"ObjectTypeNotSynced",errorType:"CONFLICT",errorInstanceId:e.errorInstanceId,statusCode:e.statusCode,objectType:t}}handleCompositePrimaryKeyNotSupported(e,t,r){return{name:e.errorName,message:e.message,errorName:"CompositePrimaryKeyNotSupported",errorType:"INVALID_ARGUMENT",errorInstanceId:e.errorInstanceId,statusCode:e.statusCode,objectType:t,primaryKey:r}}handlePropertiesNotSortable(e,t){return{name:e.errorName,message:e.message,errorName:"PropertiesNotSortable",errorType:"INVALID_ARGUMENT",errorInstanceId:e.errorInstanceId,statusCode:e.statusCode,properties:t}}handleOntologySyncing(e,t){return{name:e.errorName,message:e.message,errorName:"OntologySyncing",errorType:"CONFLICT",errorInstanceId:e.errorInstanceId,statusCode:e.statusCode,objectType:t}}handleLinkedObjectNotFound(e,t,r,n){return{name:e.errorName,message:e.message,errorName:"LinkedObjectNotFound",errorType:"NOT_FOUND",errorInstanceId:e.errorInstanceId,statusCode:e.statusCode,linkType:t,linkedObjectType:r,linkedObjectPrimaryKey:n}}handlePropertiesNotFound(e,t,r){return{name:e.errorName,message:e.message,errorName:"PropertiesNotFound",errorType:"NOT_FOUND",errorInstanceId:e.errorInstanceId,statusCode:e.statusCode,objectType:t,properties:r}}handleObjectsExceeded(e){return{name:e.errorName,message:e.message,errorName:"ObjectsExceededLimit",errorType:"INVALID_ARGUMENT"}}},o$=class extends oC{handleObjectTypeNotFound(e,t){return{name:e.errorName,message:e.message,errorName:"ObjectTypeNotFound",errorType:"NOT_FOUND",errorInstanceId:e.errorInstanceId,statusCode:e.statusCode,objectType:t}}handleObjectTypeNotSynced(e,t){return{name:e.errorName,message:e.message,errorName:"ObjectTypeNotSynced",errorType:"CONFLICT",errorInstanceId:e.errorInstanceId,statusCode:e.statusCode,objectType:t}}handlePropertiesNotSortable(e,t){return{name:e.errorName,message:e.message,errorName:"PropertiesNotSortable",errorType:"INVALID_ARGUMENT",errorInstanceId:e.errorInstanceId,statusCode:e.statusCode,properties:t}}handleCompositePrimaryKeyNotSupported(e,t,r){return{name:e.errorName,message:e.message,errorType:"INVALID_ARGUMENT",errorName:"CompositePrimaryKeyNotSupported",errorInstanceId:e.errorInstanceId,statusCode:e.statusCode,objectType:t,primaryKey:r}}handleOntologySyncing(e,t){return{name:e.errorName,message:e.message,errorType:"CONFLICT",errorName:"OntologySyncing",errorInstanceId:e.errorInstanceId,statusCode:e.statusCode,objectType:t}}handleObjectNotFound(e,t,r){return{name:e.errorName,message:e.message,errorName:"ObjectNotFound",errorType:"NOT_FOUND",errorInstanceId:e.errorInstanceId,statusCode:e.statusCode,primaryKey:r,objectType:t}}handlePropertiesNotFound(e,t,r){return{name:e.errorName,message:e.message,errorName:"PropertiesNotFound",errorType:"NOT_FOUND",errorInstanceId:e.errorInstanceId,statusCode:e.statusCode,objectType:t,properties:r}}},oV=class extends oC{handleObjectTypeNotFound(e,t){return{name:e.errorName,message:e.message,errorName:"ObjectTypeNotFound",errorType:"NOT_FOUND",errorInstanceId:e.errorInstanceId,statusCode:e.statusCode,objectType:t}}handleObjectTypeNotSynced(e,t){return{name:e.errorName,message:e.message,errorName:"ObjectTypeNotSynced",errorType:"CONFLICT",errorInstanceId:e.errorInstanceId,statusCode:e.statusCode,objectType:t}}handleObjectsExceededLimit(e){return{name:e.errorName,message:e.message,errorName:"ObjectsExceededLimit",errorType:"INVALID_ARGUMENT",errorInstanceId:e.errorInstanceId,statusCode:e.statusCode}}handleOntologySyncing(e,t){return{name:e.errorName,message:e.message,errorName:"OntologySyncing",errorType:"CONFLICT",errorInstanceId:e.errorInstanceId,statusCode:e.statusCode,objectType:t}}},oU=class extends oC{handleObjectTypeNotFound(e,t){return{name:e.errorName,message:e.message,errorName:"ObjectTypeNotFound",errorType:"NOT_FOUND",errorInstanceId:e.errorInstanceId,statusCode:e.statusCode,objectType:t}}handleObjectTypeNotSynced(e,t){return{name:e.errorName,message:e.message,errorName:"ObjectTypeNotSynced",errorType:"CONFLICT",errorInstanceId:e.errorInstanceId,statusCode:e.statusCode,objectType:t}}handleObjectsExceededLimit(e){return{name:e.errorName,message:e.message,errorName:"ObjectsExceededLimit",errorType:"INVALID_ARGUMENT",errorInstanceId:e.errorInstanceId,statusCode:e.statusCode}}handlePropertiesNotFound(e,t,r){return{name:e.errorName,message:e.message,errorName:"PropertiesNotFound",errorType:"NOT_FOUND",errorInstanceId:e.errorInstanceId,statusCode:e.statusCode,objectType:t,properties:r}}handlePropertiesNotSearchable(e,t){return{name:e.errorName,message:e.message,errorName:"PropertiesNotSearchable",errorType:"INVALID_ARGUMENT",errorInstanceId:e.errorInstanceId,statusCode:e.statusCode,propertyApiNames:t}}handlePropertyTypesSearchNotSupported(e,t){return{name:e.errorName,message:e.message,errorName:"PropertyTypesSearchNotSupported",errorType:"INVALID_ARGUMENT",errorInstanceId:e.errorInstanceId,statusCode:e.statusCode,parameters:t}}handlePropertiesNotFilterable(e,t){return{name:e.errorName,message:e.message,errorName:"PropertiesNotFilterable",errorType:"INVALID_ARGUMENT",errorInstanceId:e.errorInstanceId,statusCode:e.statusCode,properties:t}}handleMalformedPropertyFilters(e,t){return{name:e.errorName,message:e.message,errorName:"MalformedPropertyFilters",errorType:"INVALID_ARGUMENT",errorInstanceId:e.errorInstanceId,statusCode:e.statusCode,malformedPropertyFilter:t}}handleOntologySyncing(e,t){return{name:e.errorName,message:e.message,errorName:"OntologySyncing",errorType:"CONFLICT",errorInstanceId:e.errorInstanceId,statusCode:e.statusCode,objectType:t}}handleInvalidRangeQuery(e,t,r,n,o,a){return{name:e.errorName,message:e.message,errorName:"InvalidRangeQuery",errorType:"INVALID_ARGUMENT",errorInstanceId:e.errorInstanceId,statusCode:e.statusCode,field:t,lt:r,gt:n,lte:o,gte:a}}handleInvalidPropertyValue(e,t,r,n){return{name:e.errorName,message:e.message,errorName:"InvalidPropertyValue",errorType:"INVALID_ARGUMENT",errorInstanceId:e.errorInstanceId,statusCode:e.statusCode,propertyBaseType:t,property:r,propertyValue:n}}handlePropertiesNotSortable(e,t){return{name:e.errorName,message:e.message,errorName:"PropertiesNotSortable",errorType:"INVALID_ARGUMENT",errorInstanceId:e.errorInstanceId,statusCode:e.statusCode,properties:t}}handleInvalidSortOrder(e,t){return{name:e.errorName,message:e.message,errorName:"InvalidSortOrder",errorType:"INVALID_ARGUMENT",errorInstanceId:e.errorInstanceId,statusCode:e.statusCode,invalidSortOrder:t}}handleQueryDepthExceededLimit(e,t,r){return{name:e.errorName,message:e.message,errorName:"QueryDepthExceededLimit",errorType:"INVALID_ARGUMENT",errorInstanceId:e.errorInstanceId,statusCode:e.statusCode,depth:t,depthLimit:r}}handleInvalidPropertyFiltersCombination(e,t,r){return{name:e.errorName,message:e.message,errorName:"InvalidPropertyFiltersCombination",errorType:"INVALID_ARGUMENT",errorInstanceId:e.errorInstanceId,statusCode:e.statusCode,propertyFilters:t,property:r}}handleDuplicateOrderBy(e,t){return{name:e.errorName,message:e.message,errorName:"DuplicateOrderBy",errorType:"INVALID_ARGUMENT",errorInstanceId:e.errorInstanceId,statusCode:e.statusCode,properties:t}}handleInvalidSortType(e,t){return{name:e.errorName,message:e.message,errorName:"InvalidSortType",errorType:"INVALID_ARGUMENT",errorInstanceId:e.errorInstanceId,statusCode:e.statusCode,invalidSortType:t}}handlePropertyFiltersNotSupported(e,t,r){return{name:e.errorName,message:e.message,errorName:"PropertyFiltersNotSupported",errorType:"INVALID_ARGUMENT",errorInstanceId:e.errorInstanceId,statusCode:e.statusCode,propertyFilters:t,property:r}}handleInvalidPropertyFilterValue(e,t,r,n,o){return{name:e.errorName,message:e.message,errorName:"InvalidPropertyFilterValue",errorType:"INVALID_ARGUMENT",errorInstanceId:e.errorInstanceId,statusCode:e.statusCode,expectedType:t,property:o,propertyFilter:r,propertyFilterValue:n}}},oG=class extends oC{};function oW(e){let t=new Map;return(r,n)=>{let o=r.objects[n],a=t.get(o);return null==a&&(a=e(r,n),t.set(o,a)),a}}var oz=new Set(["break","case","catch","class","const","continue","debugger","default","delete","do","else","enum","export","extends","false","finally","for","function","if","import","in","instanceof","new","null","return","super","switch","this","throw","true","try","typeof","var","void","while","with","implements","interface","let","package","private","protected","public","static","yield"]);function oB(e){return oz.has(e)}function oq(e){return{type:"ok",value:e}}function oZ(e){return{type:"error",error:e}}async function oJ(e,t){try{let t=await e();return oq(t)}catch(e){if(e.errorName&&e.errorInstanceId)return oZ(t(e));return oZ(e)}}function oH(e,t,r,n,o){return oJ(async()=>oY(e,t,r,n,o),e=>(function(e,t,r){switch(t.errorName){case"ObjectTypeNotFound":return e.handleObjectTypeNotFound(t,r.objectType);case"ObjectTypeNotSynced":return e.handleObjectTypeNotSynced(t,r.objectType);case"PropertiesNotSortable":return e.handlePropertiesNotSortable(t,r.properties);case"CompositePrimaryKeyNotSupported":return e.handleCompositePrimaryKeyNotSupported(t,r.objectType,r.primaryKey);case"OntologySyncing":return e.handleOntologySyncing(t,r.objectType);case"LinkedObjectNotFound":return e.handleLinkedObjectNotFound(t,r.linkType,r.linkedObjectType,r.linkedObjectPrimaryKey);case"PropertiesNotFound":return e.handlePropertiesNotFound(t,r.objectType,r.properties);case"ObjectsExceeded":return e.handleObjectsExceeded(t);case"PermissionDenied":return e.handlePermissionDenied(t);case"Unauthorized":return e.handleUnauthorized(t);case"UnknownError":return e.handleUnknownError(t);default:return t.errorName,e.handleUnknownError(t)}})(new oL,e,e.parameters))}async function oY(e,t,r,n,o){let a=await ew(e6(e.stack,e.fetch),e.ontology.metadata.ontologyApiName,t,encodeURIComponent(r),n,o,{select:[]});return ao(e,a)}async function oK(e,t,r,n,o){let a=await eE(e6(e.stack,e.fetch),e.ontology.metadata.ontologyApiName,t,encodeURIComponent(r),n,{pageSize:o?.pageSize,pageToken:o?.pageToken,select:[]});return{data:a.data.map(t=>ao(e,t)),nextPageToken:a.nextPageToken}}function oQ(e,t,r,n){return oJ(async()=>oX(e,t,r,n),e=>oM(new oV,e,e.parameters))}async function oX(e,t,r,n){let o;let a=[];do for(let i of(o=await oK(e,t,r,n,{pageToken:o?.nextPageToken})).data)a.push(i);while(o.nextPageToken);return a}async function*o0(e,t,r,n){let o;do for(let a of(await oK(e,t,r,n,{pageToken:o})).data)yield a;while(null!=o)}async function*o1(e,t){try{for await(let t of e())yield oq(t)}catch(e){e instanceof oA?yield oZ(t(e)):yield oZ(e)}}async function o2(e,t,r){let n=oJ(e,r),o=o1(t,r);return Object.assign(n,{[Symbol.asyncIterator]:()=>o})}async function o3(e,t){return Object.assign(await e(),{[Symbol.asyncIterator]:t})}async function*o6(e,t,r,n,o){let a;do{let i=await eE(e6(e.stack,e.fetch),e.ontology.metadata.ontologyApiName,t,encodeURIComponent(r),n,{pageSize:o?.pageSize,pageToken:a,select:[]});for(let t of i.data)yield ao(e,t);a=i.nextPageToken}while(a)}async function o4(e,t,r,n,o){return o2(async()=>oK(e,t,r,n,o),()=>o6(e,t,r,n,o),e=>oM(new oV,e,e.parameters))}async function o5(e,t,r,n,o){return o3(async()=>oK(e,t,r,n,o),()=>o6(e,t,r,n,o))}function o8(e){return"ok"===e.type}function o9(e){return"error"===e.type}function o7(e,t){return(t[e.name]||t.default)(e)}async function ae(e,t,r,n){let o=await oQ(e,t,r,n);return o9(o)?o:"ok"===o.type&&o.value.length>1?oZ({name:"Too many objects",message:`There are multiple ${n} objects for this object, but there should only be one`,errorName:"LinkedObjectNotFound",errorType:"NOT_FOUND",linkType:n,linkedObjectType:t,linkedObjectPrimaryKey:{primaryKey:r.toString()}}):"ok"===o.type&&1!==o.value.length?oZ({name:"Object not found",message:"Expected to receive a single object but received none",errorType:"NOT_FOUND",errorName:"LinkedObjectNotFound",linkType:n,linkedObjectType:t,linkedObjectPrimaryKey:{primaryKey:r.toString()}}):{type:"ok",value:o.value[0]}}async function at(e,t,r,n){let o=await oX(e,t,r,n);if(1!==o.length)throw new eJ(`Expected a single result but got ${o.length} instead`);return o[0]}var ar=Symbol(),an=oW(function(e,t){let r=e.objects[t],n={};for(let e of(Object.defineProperty(n,"__apiName",{get:()=>t}),Object.defineProperty(n,"$apiName",{get:()=>t}),Object.defineProperty(n,"$primaryKey",{get:function(){return this.__primaryKey}}),Object.defineProperty(n,"$rid",{get:function(){return this.__rid}}),n.toString=function(){let e={};for(let t of Object.keys(r.properties))e[oB(t)?`${t}_`:t]=this[t];return e.__primaryKey=this.__primaryKey,e.__apiName=t,e.__rid=this.__rid,e.$primaryKey=this.__primaryKey,e.$apiName=t,e.$rid=this.__rid,JSON.stringify(e,void 0,2)},Object.keys(r.properties)))oB(e)&&Object.defineProperty(n,`${e}_`,{get:function(){return this[e]}});for(let[e,{multiplicity:t}]of Object.entries(r.links))Object.defineProperty(n,e,{get:function(){let n=this[ar];return!0===t?function(e,t,r,n){return{get:o=>oH(e,t,r,n,o.toString()),fetchOneWithErrors:o=>oH(e,t,r,n,o.toString()),fetchOne:o=>oY(e,t,r,n,o.toString()),all:()=>oQ(e,t,r,n),page:o=>o4(e,t,r,n,o),fetchPage:o=>o5(e,t,r,n,o),fetchPageWithErrors:o=>o4(e,t,r,n,o),asyncIter:()=>o0(e,t,r,n)}}(n,r.apiName,this.__primaryKey,e):function(e,t,r,n){return{get:async()=>ae(e,t,r,n),fetchOneWithErrors:async()=>ae(e,t,r,n),fetchOne:async()=>at(e,t,r,n)}}(n,r.apiName,this.__primaryKey,e)}});return n});function ao(e,t){let r=t.__apiName;return Object.setPrototypeOf(t,an(e.ontology,r)),Object.defineProperty(t,ar,{enumerable:!1,writable:!1,value:e}),function(e,t,r){for(let[n,o]of Object.entries(e.ontology.objects[t].properties))if(null!=r[n])switch(o.type){case"attachment":aa(r,n,t=>ay(e,t.rid));break;case"geopoint":aa(r,n,e=>aS.fromGeoJson(e));break;case"geoshape":aa(r,n,e=>aC.fromGeoJson(e));break;case"datetime":aa(r,n,e=>aM.fromISOString(e));break;case"timestamp":aa(r,n,e=>aD.fromISOString(e));break;case"numericTimeseries":case"stringTimeseries":aa(r,n,o=>ir(e,n,t,r.__primaryKey));case"string":case"boolean":case"double":case"integer":case"short":case"long":case"float":case"decimal":case"byte":case"marking":break;default:o.type}}(e,r,t),t}function aa(e,t,r){null!=e[t]&&(Array.isArray(e[t])?function(e,t,r){let n=e[t],o=n.slice();for(let e=0;e<o.length;e++)Object.defineProperty(o,e,{get:function(e){let t;return function(){return t||(t=r(n[e])),t}}(e)});e[t]=o}(e,t,r):function(e,t,r){let n;let o=e[t];Object.defineProperty(e,t,{get:function(){return n||(n=r(o)),n}})}(e,t,r))}async function ai(e,t,r,n=[]){return oJ(async()=>as(e,t,r,n),e=>(function(e,t,r){switch(t.errorName){case"ObjectTypeNotFound":return e.handleObjectTypeNotFound(t,r.objectType);case"ObjectTypeNotSynced":return e.handleObjectTypeNotSynced(t,r.objectType);case"PropertiesNotSortable":return e.handlePropertiesNotSortable(t,r.properties);case"CompositePrimaryKeyNotSupported":return e.handleCompositePrimaryKeyNotSupported(t,r.objectType,r.primaryKey);case"OntologySyncing":return e.handleOntologySyncing(t,r.objectType);case"ObjectNotFound":return e.handleObjectNotFound(t,r.objectType,r.primaryKey);case"PropertiesNotFound":return e.handlePropertiesNotFound(t,r.objectType,r.properties);case"PermissionDenied":return e.handlePermissionDenied(t);case"Unauthorized":return e.handleUnauthorized(t);case"UnknownError":return e.handleUnknownError(t);default:return t.errorName,e.handleUnknownError(t)}})(new o$,e,e.parameters))}async function as(e,t,r,n=[]){let o=await ef(e6(e.stack,e.fetch),e.ontology.metadata.ontologyApiName,t,encodeURIComponent(r.toString()),{select:n.map(e=>e.toString())});return ao(e,o)}var au=function(e){return e[e.VALIDATE_ONLY=0]="VALIDATE_ONLY",e[e.VALIDATE_AND_EXECUTE=1]="VALIDATE_AND_EXECUTE",e}({}),al=function(e){return e[e.ALL=0]="ALL",e[e.NONE=1]="NONE",e}({}),ac=function(e){return e[e.VALID=0]="VALID",e[e.INVALID=1]="INVALID",e[e.UNKNOWN=2]="UNKNOWN",e}({}),ad={of:(e,t)=>{let r={result:ac[t.validation?.result]};return t.edits?.type==="edits"?{validation:r,...ah(t.edits,e)}:t.edits?.type==="largeScaleEdits"?{validation:r,edits:{type:"bulkEdits"}}:{validation:r}}},am={of:(e,t)=>t.edits?.type==="edits"?ah(t.edits,e):t.edits?.type==="largeScaleEdits"?{edits:{type:"bulkEdits"}}:{}};function ah(e,t){let r=[],n=[];for(let o of e.edits)"addObject"===o.type&&r.push({apiName:o.objectType,primaryKey:o.primaryKey,get:()=>ai(t,o.objectType,o.primaryKey),fetchOneWithErrors:()=>ai(t,o.objectType,o.primaryKey),fetchOne:()=>as(t,o.objectType,o.primaryKey)}),"modifyObject"===o.type&&n.push({apiName:o.objectType,primaryKey:o.primaryKey,get:()=>ai(t,o.objectType,o.primaryKey),fetchOneWithErrors:()=>ai(t,o.objectType,o.primaryKey),fetchOne:()=>as(t,o.objectType,o.primaryKey)});return{edits:{type:"edits",added:r,modified:n}}}async function ap(e,t){return oJ(async()=>await ee(e6(e.stack,e.fetch),t),e=>ox(new oD,e,e.parameters))}async function af(e,t){return oJ(async()=>await et(e6(e.stack,e.fetch),t),e=>ox(new oD,e,e.parameters))}var ay=(e,t)=>({attachmentRid:t,type:"Attachment",getMetadata:()=>af(e,t),read:()=>ap(e,t)}),ag=e=>({upload:(t,r)=>(function(e,t,r){return oJ(async()=>{let n=await X(e6(e.stack,e.fetch,void 0),r,{filename:t},{"Content-Length":r.size,"Content-Type":r.type});return ay(e,n.rid)},e=>ox(new oD,e,e.parameters))})(e,t,r)}),aT=function(e){return e.MILLIMETERS="MILLIMETERS",e.CENTIMETERS="CENTIMETERS",e.METERS="METERS",e.KILOMETERS="KILOMETERS",e.INCHES="INCHES",e.FEET="FEET",e.YARDS="YARDS",e.MILES="MILES",e.NAUTICAL_MILES="NAUTICAL_MILES",e}({}),aI={ofMillimeters:e=>({unit:aT.MILLIMETERS,value:e}),ofCentimeters:e=>({unit:aT.CENTIMETERS,value:e}),ofMeters:e=>({unit:aT.METERS,value:e}),ofKilometers:e=>({unit:aT.KILOMETERS,value:e}),ofInches:e=>({unit:aT.INCHES,value:e}),ofFeet:e=>({unit:aT.FEET,value:e}),ofYards:e=>({unit:aT.YARDS,value:e}),ofMiles:e=>({unit:aT.MILES,value:e}),ofNauticalMiles:e=>({unit:aT.NAUTICAL_MILES,value:e})},aN=function(e){return e[e.ONE_DIGIT=1]="ONE_DIGIT",e[e.TWO_DIGITS=2]="TWO_DIGITS",e[e.THREE_DIGITS=3]="THREE_DIGITS",e[e.FOUR_DIGITS=4]="FOUR_DIGITS",e[e.FIVE_DIGITS=5]="FIVE_DIGITS",e[e.SIX_DIGITS=6]="SIX_DIGITS",e[e.SEVEN_DIGITS=7]="SEVEN_DIGITS",e[e.EIGHT_DIGITS=8]="EIGHT_DIGITS",e[e.NINE_DIGITS=9]="NINE_DIGITS",e[e.TEN_DIGITS=10]="TEN_DIGITS",e[e.ELEVEN_DIGITS=11]="ELEVEN_DIGITS",e[e.TWELVE_DIGITS=12]="TWELVE_DIGITS",e}(aN||{});function ab(e){return e?.type==="GeoPoint"}var aS=class e{type="GeoPoint";static geoHashRegex=/^([0123456789bcdefghjkmnpqrstuvwxyz])+$/i;#e;#t;constructor(e,t){this.#e=e,this.#t=t}toCoordinates(){return this.#e}toGeoHash(){return e5.encode(this.#e.latitude,this.#e.longitude,this.#t??aN.TWELVE_DIGITS)}toGeoJson(){return{type:"Point",coordinates:[this.#e.longitude,this.#e.latitude]}}static fromGeoHash(t){if(t.includes(","))return this.fromCoordinatesString(t);this.geoHashRegex.test(t)||this.throwInvalidGeoHashError(t);let{latitude:r,longitude:n}=e5.decode(t);return new e({latitude:r,longitude:n},t.length)}static fromCoordinates(t){return new e(t)}static fromGeoJson(t){return e.fromCoordinates({longitude:t.coordinates[0],latitude:t.coordinates[1]})}static fromCoordinatesString(t){let r=t.split(",").map(e=>e.trim());2===r.length&&r.every(e=>e.length>0)||this.throwInvalidGeoHashError(t);let[n,o]=r.map(Number);return Number.isFinite(n)&&Number.isFinite(o)||this.throwInvalidGeoHashError(t),new e({latitude:n,longitude:o})}static throwInvalidGeoHashError(e){throw Error(`Received invalid geohash ${e}. An acceptable value should either be a geohash string or a "lat, long" string`)}};function aE(e){return aS.fromCoordinates({longitude:e[0],latitude:e[1]})}var aw=class e{type="LineString";constructor(e){this.geoPoints=e}getGeoPoints(){return this.geoPoints}toGeoJson(){return{type:"LineString",coordinates:this.geoPoints.map(e=>e.toGeoJson().coordinates)}}static fromGeoPoints(t){if(t.length<2)throw Error("LineString's must be represented by two or more GeoPoints");return new e(t)}static fromGeoJson(t){let r=t.coordinates.map(aE);return e.fromGeoPoints(r)}},aO=class e{type="MultiGeoPoint";constructor(e){this.geoPoints=e}getGeoPoints(){return this.geoPoints}toGeoJson(){return{type:"MultiPoint",coordinates:this.geoPoints.map(e=>e.toGeoJson().coordinates)}}static fromGeoPoints(t){return new e(t)}static fromGeoJson(t){let r=t.coordinates.map(aE);return e.fromGeoPoints(r)}},av=class e{type="MultiLineString";constructor(e){this.geoLineStrings=e}getLineStrings(){return this.geoLineStrings}toGeoJson(){return{type:"MultiLineString",coordinates:this.geoLineStrings.map(e=>e.toGeoJson().coordinates)}}static fromLineStrings(t){return new e(t)}static fromGeoJson(t){let r=t.coordinates.map(e=>aw.fromGeoPoints(e.map(aE)));return e.fromLineStrings(r)}},ak=class e{type="Polygon";constructor(e){this.linearRings=e}getLinearRings(){return this.linearRings}toGeoJson(){return{type:"Polygon",coordinates:this.linearRings.map(e=>e.map(e=>e.toGeoJson().coordinates))}}static fromLinearRings(t){if(t.length<1)throw Error("Polygons must be represented by at least one outer linear-ring");return t.forEach(e=>{if(e.length<4)throw Error(`Polygons must be represented by at least four coordinates, received ${e.length}`);if(e[0]?.toCoordinates().latitude!==e[e.length-1]?.toCoordinates().latitude||e[0]?.toCoordinates().longitude!==e[e.length-1]?.toCoordinates().longitude)throw Error(`The first and last GeoPoint in the array must represent the same exact position,received first: ${JSON.stringify(e[0]?.toCoordinates())} last: ${JSON.stringify(e[e.length-1]?.toCoordinates())}`)}),new e(t)}static fromGeoJson(t){let r=t.coordinates.map(e=>e.map(aE));return e.fromLinearRings(r)}},aA=class e{type="MultiPolygon";constructor(e){this.polygons=e}getPolygons(){return this.polygons}toGeoJson(){return{type:"MultiPolygon",coordinates:this.polygons.map(e=>e.toGeoJson().coordinates)}}static fromPolygons(t){return new e(t)}static fromGeoJson(t){let r=t.coordinates.map(e=>ak.fromLinearRings(e.map(e=>e.map(aE))));return e.fromPolygons(r)}},aC={isGeoPoint:e=>e?.type==="GeoPoint",isPolygon:e=>e?.type==="Polygon",isLineString:e=>e?.type==="LineString",isMultiGeoPoint:e=>e?.type==="MultiGeoPoint",isMultiPolygon:e=>e?.type==="MultiPolygon",isMultiLineString:e=>e?.type==="MultiLineString",isGeometryCollection:e=>e?.type==="GeometryCollection",isGeoShape:e=>e?.type==="geoshape"||aC.isGeoPoint(e)||aC.isPolygon(e)||aC.isLineString(e)||aC.isMultiGeoPoint(e)||aC.isMultiPolygon(e)||aC.isMultiLineString(e)||aC.isGeometryCollection(e),fromGeoJson(e){switch(e.type){case"Point":return aS.fromGeoJson(e);case"Polygon":return ak.fromGeoJson(e);case"LineString":return aw.fromGeoJson(e);case"MultiPoint":return aO.fromGeoJson(e);case"MultiPolygon":return aA.fromGeoJson(e);case"MultiLineString":return av.fromGeoJson(e);case"GeometryCollection":return aP.fromGeoJson(e)}}},aP=class e{type="GeometryCollection";constructor(e){this.geometries=e}toGeoJson(){return{type:"GeometryCollection",geometries:this.geometries.map(e=>e.toGeoJson())}}getGeometries(){return this.geometries}static fromGeometries(t){return new e(t)}static fromGeoJson(t){return t.geometries.map(aC.fromGeoJson).forEach(e=>{if(aC.isGeometryCollection(e))throw Error("Cannot have nested geometry collections.")}),e.fromGeometries(t.geometries.map(aC.fromGeoJson))}},aD=class e{type="Timestamp";static now(){return new e(ow.utc())}static fromISOString(t){return new e(ow.fromISO(t,{zone:"utc",setZone:!0}))}static fromEpochMilli(t){return new e(ow.fromMillis(t,{zone:"utc"}))}static fromJsDate(t){return new e(ow.fromJSDate(t,{zone:"utc"}))}constructor(e){this.dateTime=e}getYear(){return this.dateTime.year}getMonth(){return this.dateTime.month}getDayOfMonth(){return this.dateTime.day}getHours(){return this.dateTime.hour}getMinutes(){return this.dateTime.minute}getSeconds(){return this.dateTime.second}getMilliseconds(){return this.dateTime.millisecond}getTimezoneOffset(){return this.dateTime.offset}getTime(){return this.dateTime.valueOf()}valueOf(){return this.getTime()}isEqual(e){return this.getTime()===e.getTime()}toJsDate(){return this.dateTime.toJSDate()}toLocalDate(){return aM.of(this.getYear(),this.getMonth(),this.getDayOfMonth())}toISOString(){return this.dateTime.toISO()}minusMilliseconds(t){return new e(this.dateTime.minus(t))}minusSeconds(t){let r=nW.fromObject({seconds:t});return new e(this.dateTime.minus(r))}minusMinutes(t){let r=nW.fromObject({minutes:t});return new e(this.dateTime.minus(r))}minusHours(t){let r=nW.fromObject({hours:t});return new e(this.dateTime.minus(r))}minusDays(t){let r=nW.fromObject({days:t});return new e(this.dateTime.minus(r))}minusWeeks(t){let r=nW.fromObject({weeks:t});return new e(this.dateTime.minus(r))}minusMonths(t){let r=nW.fromObject({months:t});return new e(this.dateTime.minus(r))}minusYears(t){let r=nW.fromObject({years:t});return new e(this.dateTime.minus(r))}plusMilliseconds(t){let r=nW.fromObject({milliseconds:t});return new e(this.dateTime.plus(r))}plusSeconds(t){let r=nW.fromObject({seconds:t});return new e(this.dateTime.plus(r))}plusMinutes(t){let r=nW.fromObject({minutes:t});return new e(this.dateTime.plus(r))}plusHours(t){let r=nW.fromObject({hours:t});return new e(this.dateTime.plus(r))}plusDays(t){let r=nW.fromObject({days:t});return new e(this.dateTime.plus(r))}plusWeeks(t){let r=nW.fromObject({weeks:t});return new e(this.dateTime.plus(r))}plusMonths(t){let r=nW.fromObject({months:t});return new e(this.dateTime.plus(r))}plusYears(t){let r=nW.fromObject({years:t});return new e(this.dateTime.plus(r))}},aM=class e{type="LocalDate";static now(){return e.fromDateTime(ow.utc())}static fromISOString(t){if(!t.match(/^\d{4}-\d{2}-\d{2}$/))throw Error(`${t} doesn't match expected YYYY-MM-DD format`);return e.fromDateTime(ow.fromISO(t,{zone:"utc"}))}static of(t,r,n){return new e(t,r,n)}static fromDateTime(t){return e.of(t.year,t.month,t.day)}constructor(e,t,r){this.dateTime=ow.utc(e,t,r)}getYear(){return this.dateTime.year}getMonth(){return this.dateTime.month}getDayOfMonth(){return this.dateTime.day}toISOString(){return this.dateTime.toISODate()}getISOWeekday(){return this.dateTime.weekday}toJsDate(e){return this.toTimestamp(e).toJsDate()}toTimestamp(e){let t=tK.parseSpecifier("UTC"+e),r=this.dateTime.setZone(t,{keepLocalTime:!0});return aD.fromISOString(r.toISO())}valueOf(){return this.toTimestamp().valueOf()}isEqual(e){return this.toISOString()===e.toISOString()}minusDays(t){return e.fromDateTime(this.dateTime.minus(nW.fromObject({days:t})))}minusWeeks(t){return e.fromDateTime(this.dateTime.minus(nW.fromObject({weeks:t})))}minusMonths(t){return e.fromDateTime(this.dateTime.minus(nW.fromObject({months:t})))}minusYears(t){return e.fromDateTime(this.dateTime.minus(nW.fromObject({years:t})))}plusDays(t){return e.fromDateTime(this.dateTime.plus(nW.fromObject({days:t})))}plusWeeks(t){return e.fromDateTime(this.dateTime.plus(nW.fromObject({weeks:t})))}plusMonths(t){return e.fromDateTime(this.dateTime.plus(nW.fromObject({months:t})))}plusYears(t){return e.fromDateTime(this.dateTime.plus(nW.fromObject({years:t})))}},aj={of:()=>({type:"string"})},ax={of:()=>({type:"integer"})},aR={of:()=>({type:"date"})},aF={of:()=>({type:"boolean"})},a_={of:()=>({type:"byte"})},aL={of:()=>({type:"decimal"})},a$={of:()=>({type:"float"})},aV={of:e=>({type:"timeSeries",subType:e})},aU={of:()=>({type:"timestamp"})},aG={of:()=>({type:"short"})},aW={of:()=>({type:"long"})},az={of:()=>({type:"double"})},aB={of:()=>({type:"GeoPoint"})},aq={of:()=>({type:"GeoShape"})},aZ={of:()=>({type:"attachment"})},aJ={of:e=>({type:"object",objectTypeApiName:e})},aH={of:(e,t,r)=>({name:e,fieldType:t,required:r})},aY={of:e=>({type:"struct",fields:e})},aK={of:e=>({type:"array",subType:e})},aQ={of:e=>({type:"set",subType:e})};function aX(e){return e&&"object"==typeof e&&("string"==typeof e.__apiName&&"__primaryKey"in e||"string"==typeof e.$apiName&&"$primaryKey"in e)}var a0=function(e){return e.BEFORE="BEFORE",e.AFTER="AFTER",e}({}),a1=function(e){return e.YEARS="YEARS",e.MONTHS="MONTHS",e.WEEKS="WEEKS",e.DAYS="DAYS",e.HOURS="HOURS",e.MINUTES="MINUTES",e.SECONDS="SECONDS",e.MILLISECONDS="MILLISECONDS",e}({});async function a2(e,t,r,n){return oJ(async()=>{let o=await eC(e6(e.stack,e.fetch),e.ontology.metadata.ontologyApiName,t,encodeURIComponent(r),n);return{time:aD.fromISOString(o.time),value:o.value}},e=>oR(new oG,e,e.parameters))}async function a3(e,t,r,n){return oJ(async()=>{let o=await eP(e6(e.stack,e.fetch),e.ontology.metadata.ontologyApiName,t,encodeURIComponent(r),n);return{time:aD.fromISOString(o.time),value:o.value}},e=>oR(new oG,e,e.parameters))}var a6=new Uint8Array([123,34,100,97,116,97,34,58,91]);async function*a4(e){let t=new TextDecoder("utf-8"),r=!1,n=[],o=0;for await(let a of e){let e=0;for(!r&&(r=!0,function(e,t){if(e.length<t.length)return!1;for(let r=0;r<t.length;r++)if(e[r]!==t[r])return!1;return!0}(a,a6)&&(e=a6.length));e<a.length;e++){for(;0===o&&123!==a[e]&&e<a.length;)e++;let r=e;for(;r<a.length;r++){let i=a[r];if(123===i)o++;else if(125===i&&0==--o){yield function(e,t,r){let n="";for(let r of t)n+=e.decode(r,{stream:!0});return JSON.parse(n+=e.decode(r))}(t,n,a.subarray(e,r+1)),n=[],e=r;break}}if(r===a.length){n.push(a.subarray(e));break}}}}async function*a5(e){let t=await e.read();for(;!t.done;)yield t.value,t=await e.read()}async function a8(e,t,r,n,o){return oJ(async()=>{let a=await eD(e6(e.stack,e.fetch,void 0,!0),e.ontology.metadata.ontologyApiName,t,encodeURIComponent(r),n,o),i=[];for await(let e of a4(a5(a.getReader())))i.push({time:aD.fromISOString(e.time),value:e.value});return i},e=>oR(new oG,e,e.parameters))}async function*a9(e,t,r,n,o){yield*o1(async function*(){let a=a5((await eD(e6(e.stack,e.fetch,void 0,!0),e.ontology.metadata.ontologyApiName,t,encodeURIComponent(r),n,o)).getReader()),i=await a.next(),s=new Promise((e,t)=>{e(a7(a))});for(let e of(yield{time:aD.fromISOString(i.value.time),value:i.value.value},await s))yield{time:aD.fromISOString(e.time),value:e.value}},e=>oR(new oG,e,e.parameters))}async function a7(e){let t=[];for await(let r of e)for(let e of r)t.push(e);return t}function ie(e,t,r,n,o={}){return{all:()=>a8(e,r,n,t,o),iterate:()=>a9(e,r,n,t,o)}}var it=(e,t,r,n)=>{let o=ie(e,t,r,n),a=o=>ie(e,t,r,n,{range:{type:"relative",startTime:o}});return{...o,fromYearsAgo:e=>a({when:a0.BEFORE,unit:a1.YEARS,value:e}),fromMonthsAgo:e=>a({when:a0.BEFORE,unit:a1.MONTHS,value:e}),fromWeeksAgo:e=>a({when:a0.BEFORE,unit:a1.WEEKS,value:e}),fromDaysAgo:e=>a({when:a0.BEFORE,unit:a1.DAYS,value:e}),fromHoursAgo:e=>a({when:a0.BEFORE,unit:a1.HOURS,value:e}),fromMinutesAgo:e=>a({when:a0.BEFORE,unit:a1.MINUTES,value:e}),fromSecondsAgo:e=>a({when:a0.BEFORE,unit:a1.SECONDS,value:e}),fromMillisecondsAgo:e=>a({when:a0.BEFORE,unit:a1.MILLISECONDS,value:e}),range(o){let a={};if(0!==Object.keys(o).length){let e={type:"absolute"};o.startTime&&(e.startTime=o?.startTime?.toISOString()),o.endTime&&(e.endTime=o?.endTime?.toISOString()),a={range:e}}else throw Error("Argument .range() needs at least one input.");return ie(e,t,r,n,a)}}},ir=(e,t,r,n)=>({type:"TimeSeries",getFirstPoint:()=>a2(e,r,n,t),getLastPoint:()=>a3(e,r,n,t),get points(){return it(e,t,r,n)}});function io(e){if(aX(e))return io(e.__primaryKey);if(e instanceof aM||e instanceof aD)return e.toISOString();if(e?.type==="Attachment")return e.attachmentRid;if(Array.isArray(e))return e.map(e=>io(e));if(e instanceof Set)return Array.from(e,io);if(aC.isGeoShape(e)||e instanceof aS)return e.toGeoJson();if(e&&e.definition)return e.definition;if("object"==typeof e)return Object.entries(e).reduce((e,[t,r])=>(e[t]=io(r),e),{});return e}async function ia(e,t,r,n){return oJ(async()=>{let o=await ej(e6(e.stack,e.fetch),e.ontology.metadata.ontologyApiName,t,{parameters:r?is(r):{},options:n?n.mode===au.VALIDATE_ONLY?{mode:"VALIDATE_ONLY"}:{mode:"VALIDATE_AND_EXECUTE",returnEdits:n.returnEdits===al.ALL?"ALL":"NONE"}:{}});return ad.of(e,o)},e=>oj(new oF,e,e.parameters))}async function ii(e,t,r,n){return oJ(async()=>{let o=await ex(e6(e.stack,e.fetch),e.ontology.metadata.ontologyApiName,t,{requests:r?r.map(e=>({parameters:is(e)})):[],options:n?{returnEdits:n.returnEdits===al.ALL?"ALL":"NONE"}:{}});return am.of(e,o)},e=>oj(new oF,e,e.parameters))}function is(e){return Object.entries(e).reduce((e,[t,r])=>(e[t]=io(r),e),{})}async function iu(e,t,r,n,o=[],a){return oJ(async()=>il(e,t,r,n,o,a),e=>(function(e,t,r){switch(t.errorName){case"ObjectTypeNotFound":return e.handleObjectTypeNotFound(t,r.objectType);case"ObjectTypeNotSynced":return e.handleObjectTypeNotSynced(t,r.objectType);case"ObjectsExceededLimit":return e.handleObjectsExceededLimit(t);case"OntologySyncing":return e.handleOntologySyncing(t,r.objectType);case"PropertiesNotFound":return e.handlePropertiesNotFound(t,r.objectType,r.properties);case"PropertiesNotSearchable":return e.handlePropertiesNotSearchable(t,r.properties);case"PropertyTypesSearchNotSupported":return e.handlePropertyTypesSearchNotSupported(t,r);case"PropertiesNotFilterable":return e.handlePropertiesNotFilterable(t,r.properties);case"MalformedPropertyFilters":return e.handleMalformedPropertyFilters(t,r.malformedPropertyFilter);case"InvalidRangeQuery":return e.handleInvalidRangeQuery(t,r.field,r.lt,r.gt,r.lte,r.gte);case"InvalidPropertyValue":return e.handleInvalidPropertyValue(t,r.propertyBaseType,r.property,r.propertyValue);case"PropertiesNotSortable":return e.handlePropertiesNotSortable(t,r.properties);case"InvalidSortOrder":return e.handleInvalidSortOrder(t,r.invalidSortOrder);case"QueryDepthExceededLimit":return e.handleQueryDepthExceededLimit(t,r.depth,r.depthLimit);case"InvalidPropertyFiltersCombination":return e.handleInvalidPropertyFiltersCombination(t,r.propertyFilters,r.property);case"DuplicateOrderBy":return e.handleDuplicateOrderBy(t,r.properties);case"InvalidSortType":return e.handleInvalidSortType(t,r.invalidSortType);case"PropertyFiltersNotSupported":return e.handlePropertyFiltersNotSupported(t,r.propertyFilters,r.property);case"InvalidPropertyFilterValue":return e.handleInvalidPropertyFilterValue(t,r.expectedType,r.propertyFilter,r.propertyFilterValue,r.property);case"PermissionDenied":return e.handlePermissionDenied(t);case"Unauthorized":return e.handleUnauthorized(t);case"UnknownError":return e.handleUnknownError(t);default:return t.errorName,e.handleUnknownError(t)}})(new oU,e,e.parameters))}async function il(e,t,r,n,o=[],a){let i=await eU(e6(e.stack,e.fetch),e.ontology.metadata.ontologyApiName,function(e,t,r=[],n){let o={objectSet:e,select:r.map(e=>e.toString())};return t&&t?.length>0&&(o={...o,orderBy:{fields:t}}),n&&n?.pageSize&&(o={...o,pageSize:n.pageSize}),n&&n?.pageToken&&(o={...o,pageToken:n.pageToken}),o}(r,n,o,a));return{data:i.data.map(t=>ao(e,t)),nextPageToken:i.nextPageToken}}async function*ic(e,t,r,n,o=[]){let a;do{let i=await iu(e,t,r,n,o,{pageToken:a});if("ok"===i.type)for(let e of(a=i.value.nextPageToken,i.value.data))yield e}while(null!=a)}async function id(e,t,r,n,o=[]){let a;let i=[];do{if("error"===(a=await iu(e,t,r,n,o,a?.type==="ok"&&void 0!==a.value.nextPageToken?{pageToken:a.value.nextPageToken}:void 0)).type)return a;for(let e of a.value.data)i.push(e)}while(void 0!==a.value.nextPageToken);return{type:"ok",value:i}}function im(e,t,r,n,o=[]){return{all:()=>id(e,t,r,o,n),page:a=>iu(e,t,r,o,n,a),asyncIter:()=>ic(e,t,r,o,n),fetchPage:a=>il(e,t,r,o,n,a),fetchPageWithErrors:a=>iu(e,t,r,o,n,a),get:r=>ai(e,t,r,n),fetchOneWithErrors:r=>ai(e,t,r,n),fetchOne:r=>as(e,t,r,n)}}var ih=function(e){return e.MILLISECONDS="MILLISECONDS",e.SECONDS="SECONDS",e.MINUTES="MINUTES",e.HOURS="HOURS",e.DAYS="DAYS",e.WEEKS="WEEKS",e.MONTHS="MONTHS",e.YEARS="YEARS",e.QUARTERS="QUARTERS",e}({});function ip(e){if("Bucketing"!==e.type||!e.kind)throw Error("The provided bucketing is not supported.")}function iy(e,t){switch(e.kind){case"ExactValueBucketing":return t.onExactValue(e);case"RangeBucketing":return t.onRange(e);case"FixedWidthBucketing":return t.onFixedWidth(e);case"DurationBucketing":return t.onDuration(e);default:throw Error(`Unhandled bucketing: ${JSON.stringify(e)}`)}}function ig(e,t){let r={};return e&&(r.startValue=e),t&&(r.endValue=t),r}function iT(e){return e instanceof aD?e.toISOString():e instanceof aM?e.toISOString():e}var iI=function(e){return e.NUMERIC="NUMERIC",e.STRING="STRING",e.BOOLEAN="BOOLEAN",e.DATE="DATE",e.TIMESTAMP="TIMESTAMP",e}({}),iN=function(e){return e.NUMERIC="Numeric",e.TIMESTAMP="Timestamp",e.LOCALDATE="LocalDate",e}({});function ib(e,t){switch(t){case iN.NUMERIC:return e;case iN.TIMESTAMP:return iE(e);case iN.LOCALDATE:return iO(e);default:throw Error(`Unknown metric value type encountered: ${t}`)}}function iS(e,t,r){let n=r[e];switch(n){case iI.NUMERIC:case iI.STRING:case iI.BOOLEAN:return t;case iI.DATE:return iO(t);case iI.TIMESTAMP:return iE(t);default:throw Error(`Unknown group value type encountered: ${n}`)}}function iE(e){return"number"==typeof e?aD.fromEpochMilli(e):aD.fromISOString(e)}function iw(e){if(e)return iE(e)}function iO(e){return"number"==typeof e?aD.fromEpochMilli(e).toLocalDate():aM.fromISOString(e)}function iv(e){if(e)return iO(e)}var ik=class{#r;#n;#o;#a;constructor(e,t,r=[],n=[]){this.#r=e,this.#n=t,this.#a=r,this.#o=n}async compute(){var e,t;return await (e=this.#r,t={objectSet:this.#n,aggregation:this.#o,groupBy:this.#a},oJ(async()=>{let r=t.groupBy?t.groupBy.map(e=>iy(e,{onExactValue:e=>({type:"exact",field:e.propertyApiName,maxGroupCount:e.maxGroupCount}),onRange:e=>({type:"ranges",field:e.propertyApiName,ranges:e.ranges.map(e=>{let t,r;return(void 0!==e.startValue&&(t=iT(e.startValue)),void 0!==e.endValue&&(r=iT(e.endValue)),void 0===t)?{endValue:r}:void 0===r?{startValue:t}:{startValue:t,endValue:r}})}),onFixedWidth:e=>({type:"fixedWidth",field:e.propertyApiName,fixedWidth:e.fixedWidth}),onDuration:e=>({type:"duration",field:e.propertyApiName,value:e.value,unit:e.unit})})):[],n=t.aggregation.map(e=>"count"===e.type?{type:"count",name:e.name}:{type:e.type,name:e.name,field:e.field});return function(e,t){if(t.groupBy&&0===t.groupBy.length&&1===t.aggregation.length){let r=t.aggregation[0].metricValueType;return ib(e.data[0]?.metrics[0]?.value,r)}let r=t.aggregation.reduce((e,t)=>(e[t.name]=t.metricValueType,e),{}),n=t.groupBy?.reduce((e,t)=>(e[t.propertyApiName]=t.keyDataType,e),{})??{},o=e.data.map(e=>{var o;let a=function(e,t){let r={};return e.forEach(e=>{let n=t[e.name];r[e.name]=ib(e.value,n)}),r}(e.metrics,r);return{group:(o=t.groupBy,Object.entries(e.group).reduce((e,[t,r])=>(iy(o.find(e=>e.propertyApiName===t),{onExactValue(o){e[t]=iS(t,r,n)},onRange(o){let a=n[t];if(a===iI.DATE){let n=iv(r.startValue),o=iv(r.endValue);e[t]=ig(n,o)}else if(a===iI.TIMESTAMP){let n=iw(r.startValue),o=iw(r.endValue);e[t]=ig(n,o)}else{let n=r.startValue?Number(r.startValue):void 0,o=r.endValue?Number(r.endValue):void 0;e[t]=ig(n,o)}},onFixedWidth(o){e[t]=iS(t,r,n)},onDuration(o){e[t]=iS(t,r,n)}}),e),{})),...a}});return{excludedItems:e.excludedItems||0,groups:o}}(await eG(e6(e.stack,e.fetch),e.ontology.metadata.ontologyApiName,{objectSet:t.objectSet,groupBy:r,aggregation:n}),t)},e=>(function(e,t,r){switch(t.errorName){case"PropertiesNotSearchable":return e.handlePropertiesNotSearchable(t,r.properties);case"PropertyTypesSearchNotSupported":return e.handlePropertyTypesSearchNotSupported(t,r);case"PropertiesNotFilterable":return e.handlePropertiesNotFilterable(t,r.properties);case"InvalidAggregationRangeValue":return e.handleInvalidAggregationRangeValue(t,r.property,r.objectType,r.propertyBaseType);case"OntologySyncing":return e.handleOntologySyncing(t,r.objectType);case"InvalidRangeQuery":return e.handleInvalidRangeQuery(t,r.field,r.lt,r.gt,r.lte,r.gte);case"InvalidPropertyValue":return e.handleInvalidPropertyValue(t,r.propertyBaseType,r.property,r.propertyValue);case"PropertiesNotSortable":return e.handlePropertiesNotSortable(t,r.properties);case"InvalidFields":return e.handleInvalidFields(t,r.field);case"AggregationGroupCountExceededLimit":return e.handleAggregationGroupCountExceededLimit(t,r.groupCount,r.groupCountLimit);case"InvalidSortOrder":return e.handleInvalidSortOrder(t,r.invalidSortOrder);case"QueryDepthExceededLimit":return e.handleQueryDepthExceededLimit(t,r.depth,r.depthLimit);case"InvalidPropertyFiltersCombination":return e.handleInvalidPropertyFiltersCombination(t,r.propertyFilters,r.property);case"DuplicateOrderBy":return e.handleDuplicateOrderBy(t,r.properties);case"InvalidAggregationRange":return e.handleInvalidAggregationRange(t);case"InvalidSortType":return e.handleInvalidSortType(t,r.invalidSortType);case"PropertyFiltersNotSupported":return e.handlePropertyFiltersNotSupported(t,r.propertyFilters,r.property);case"MultipleGroupByOnFieldNotSupported":return e.handleMultipleGroupByOnFieldNotSupported(t,r.field);case"InvalidPropertyFilterValue":return e.handleInvalidPropertyFilterValue(t,r.expectedType,r.propertyFilter,r.propertyFilterValue,r.property);case"InvalidAggregationRangePropertyType":return e.handleInvalidAggregationRangePropertyType(t,r.property,r.objectType,r.propertyBaseType);case"PermissionDenied":return e.handlePermissionDenied(t);case"Unauthorized":return e.handleUnauthorized(t);case"UnknownError":return e.handleUnknownError(t);default:return t.errorName,e.handleUnknownError(t)}})(new oP,e,e.parameters)))}},iA={type:"CountOperation",operation:"count"};function iC(e){return"CountOperation"===e.type}var iP=e=>({exact:t=>({type:"Bucketing",kind:"ExactValueBucketing",propertyApiName:e,maxGroupCount:t,keyDataType:iI.BOOLEAN})}),iD=e=>({exact:t=>({type:"Bucketing",kind:"ExactValueBucketing",propertyApiName:e,keyDataType:iI.DATE,maxGroupCount:t}),byDays:t=>iM(e,ih.DAYS,t),byWeek:()=>iM(e,ih.WEEKS),byMonth:()=>iM(e,ih.MONTHS),byQuarter:()=>iM(e,ih.QUARTERS),byYear:()=>iM(e,ih.YEARS),ranges:t=>({type:"Bucketing",kind:"RangeBucketing",propertyApiName:e,keyDataType:iI.DATE,ranges:t})});function iM(e,t,r=1){return{type:"Bucketing",kind:"DurationBucketing",keyDataType:iI.DATE,propertyApiName:e,unit:t,value:r}}var ij=e=>({fixedWidth:t=>({type:"Bucketing",kind:"FixedWidthBucketing",keyDataType:iI.NUMERIC,propertyApiName:e,fixedWidth:t}),exact:t=>({type:"Bucketing",kind:"ExactValueBucketing",keyDataType:iI.NUMERIC,propertyApiName:e,maxGroupCount:t}),ranges:t=>({type:"Bucketing",kind:"RangeBucketing",keyDataType:iI.NUMERIC,propertyApiName:e,ranges:t})}),ix=e=>({exact:t=>({type:"Bucketing",kind:"ExactValueBucketing",keyDataType:iI.STRING,propertyApiName:e,maxGroupCount:t})}),iR=e=>({exact:t=>({type:"Bucketing",kind:"ExactValueBucketing",keyDataType:iI.TIMESTAMP,propertyApiName:e,maxGroupCount:t}),byMilliseconds:(t=1)=>iF(e,ih.MILLISECONDS,t),bySeconds:(t=1)=>iF(e,ih.SECONDS,t),byMinutes:(t=1)=>iF(e,ih.MINUTES,t),byHours:(t=1)=>iF(e,ih.HOURS,t),byDays:(t=1)=>iF(e,ih.DAYS,t),byWeek:()=>iF(e,ih.WEEKS),byMonth:()=>iF(e,ih.MONTHS),byQuarter:()=>iF(e,ih.QUARTERS),byYear:()=>iF(e,ih.YEARS),ranges:t=>({type:"Bucketing",kind:"RangeBucketing",keyDataType:iI.TIMESTAMP,propertyApiName:e,ranges:t})});function iF(e,t,r=1){return{type:"Bucketing",kind:"DurationBucketing",keyDataType:iI.TIMESTAMP,propertyApiName:e,unit:t,value:r}}var i_=e=>({type:"ApproximateDistinctCountAggregatableProperty",exactDistinct:()=>({type:"MultipleAggregationsOperations",operation:"exactDistinct",metricValueType:iN.NUMERIC,propertyApiName:e}),approximateDistinct:()=>({type:"MultipleAggregationsOperations",operation:"approximateDistinct",metricValueType:iN.NUMERIC,propertyApiName:e})}),iL=e=>({type:"AggregatableProperty",metricValueType:iN.NUMERIC,propertyApiName:e}),i$=(e,t)=>({type:"MultipleAggregationsProperty",max:()=>({type:"MultipleAggregationsOperations",operation:"max",metricValueType:t,propertyApiName:e}),min:()=>({type:"MultipleAggregationsOperations",operation:"min",metricValueType:t,propertyApiName:e}),sum:()=>({type:"MultipleAggregationsOperations",operation:"sum",metricValueType:t,propertyApiName:e}),avg:()=>({type:"MultipleAggregationsOperations",operation:"avg",metricValueType:t,propertyApiName:e}),approximateDistinct:()=>({type:"MultipleAggregationsOperations",operation:"approximateDistinct",metricValueType:t,propertyApiName:e}),exactDistinct:()=>({type:"MultipleAggregationsOperations",operation:"exactDistinct",metricValueType:t,propertyApiName:e})}),iV=e=>i$(e,iN.LOCALDATE),iU=e=>i$(e,iN.NUMERIC),iG=e=>i$(e,iN.TIMESTAMP),iW=oW(function(e,t){return Object.entries(e.objects[t].properties).reduce((e,[t,r])=>(e[t]=iL(t),oB(t)&&(e[`${t}_`]=e[t]),e),{})}),iz=oW(function(e,t){return Object.entries(e.objects[t].properties).reduce((e,[t,r])=>{switch(r.type){case"boolean":e[t]=iP(t);break;case"datetime":e[t]=iD(t);break;case"timestamp":e[t]=iR(t);case"short":case"long":case"float":case"decimal":case"byte":case"double":case"integer":e[t]=ij(t);break;case"string":case"marking":e[t]=ix(t);break;case"geopoint":case"geoshape":case"attachment":case"numericTimeseries":case"stringTimeseries":return e;default:r.type}return oB(t)&&(e[`${t}_`]=e[t]),e},{})}),iB=oW(function(e,t){return Object.entries(e.objects[t].properties).reduce((e,[t,r])=>{switch(r.type){case"datetime":case"timestamp":e[t]=iV(t);break;case"byte":case"decimal":case"double":case"float":case"integer":case"long":case"boolean":case"short":e[t]=iU(t);break;case"attachment":case"geopoint":case"geoshape":case"string":case"marking":e[t]=i_(t);break;case"numericTimeseries":case"stringTimeseries":break;default:r.type}return oB(t)&&(e[`${t}_`]=e[t]),e},{count:()=>iA})});function iq(e,t,r,n=[],o=[]){return{page:async a=>iu(e,t,r,o,n,a),fetchPage:async a=>il(e,t,r,o,n,a),fetchPageWithErrors:async a=>iu(e,t,r,o,n,a),all:async()=>id(e,t,r,o,n),asyncIter:()=>ic(e,t,r,o)}}var iZ=e=>({isNull:()=>({type:"isNull",field:e,value:!0}),contains:t=>({type:"contains",field:e,value:t})}),iJ=e=>({isNull:()=>({type:"isNull",field:e,value:!0})}),iH=e=>({eq:t=>({type:"eq",field:e,value:t}),isNull:()=>({type:"isNull",field:e,value:!0})}),iY=e=>iQ(e),iK=e=>iQ(e),iQ=e=>({eq:t=>({type:"eq",field:e,value:t.toISOString()}),lt:t=>({type:"lt",field:e,value:t.toISOString()}),gt:t=>({type:"gt",field:e,value:t.toISOString()}),lte:t=>({type:"lte",field:e,value:t.toISOString()}),gte:t=>({type:"gte",field:e,value:t.toISOString()}),isNull:()=>({type:"isNull",field:e,value:!0})}),iX=e=>({withinBoundingBox:t=>({type:"withinBoundingBox",field:e,value:{topLeft:t.topLeft.toGeoJson(),bottomRight:t.bottomRight.toGeoJson()}}),withinMillimetersOf:(t,r)=>i0(e,t,aI.ofMillimeters(r)),withinCentimetersOf:(t,r)=>i0(e,t,aI.ofCentimeters(r)),withinMetersOf:(t,r)=>i0(e,t,aI.ofMeters(r)),withinKilometersOf:(t,r)=>i0(e,t,aI.ofKilometers(r)),withinInchesOf:(t,r)=>i0(e,t,aI.ofInches(r)),withinFeetOf:(t,r)=>i0(e,t,aI.ofFeet(r)),withinYardsOf:(t,r)=>i0(e,t,aI.ofYards(r)),withinMilesOf:(t,r)=>i0(e,t,aI.ofMiles(r)),withinNauticalMilesOf:(t,r)=>i0(e,t,aI.ofNauticalMiles(r)),withinPolygon:t=>({type:"withinPolygon",field:e,value:t.toGeoJson()})});function i0(e,t,r){return{type:"withinDistanceOf",field:e,value:{center:t.toGeoJson(),distance:{value:r.value,unit:r.unit}}}}var i1=e=>({withinBoundingBox:t=>({type:"withinBoundingBox",field:e,value:{topLeft:t.topLeft.toGeoJson(),bottomRight:t.bottomRight.toGeoJson()}}),intersectsBoundingBox:t=>({type:"intersectsBoundingBox",field:e,value:{topLeft:t.topLeft.toGeoJson(),bottomRight:t.bottomRight.toGeoJson()}}),doesNotIntersectBoundingBox:t=>({type:"doesNotIntersectBoundingBox",field:e,value:{topLeft:t.topLeft.toGeoJson(),bottomRight:t.bottomRight.toGeoJson()}}),withinPolygon:t=>({type:"withinPolygon",field:e,value:t.toGeoJson()}),intersectsPolygon:t=>({type:"intersectsPolygon",field:e,value:t.toGeoJson()}),doesNotIntersectPolygon:t=>({type:"doesNotIntersectPolygon",field:e,value:t.toGeoJson()})}),i2=e=>({eq:t=>({type:"eq",field:e,value:t}),lt:t=>({type:"lt",field:e,value:t}),gt:t=>({type:"gt",field:e,value:t}),lte:t=>({type:"lte",field:e,value:t}),gte:t=>({type:"gte",field:e,value:t}),isNull:()=>({type:"isNull",field:e,value:!0})}),i3={};((e,t)=>{for(var r in t)ov(e,r,{get:t[r],enumerable:!0})})(i3,{and:()=>i6,not:()=>i5,or:()=>i4});var i6=(...e)=>({type:"and",value:e}),i4=(...e)=>({type:"or",value:e}),i5=e=>({type:"not",value:e}),i8=e=>({asc:()=>({field:e,direction:"asc"}),desc:()=>({field:e,direction:"desc"})}),i9=e=>({eq:t=>({type:"eq",field:e,value:t}),lt:t=>({type:"lt",field:e,value:t}),gt:t=>({type:"gt",field:e,value:t}),lte:t=>({type:"lte",field:e,value:t}),gte:t=>({type:"gte",field:e,value:t}),isNull:()=>({type:"isNull",field:e,value:!0}),startsWith:t=>({type:"startsWith",field:e,value:t}),containsAllTermsInOrder:t=>({type:"containsAllTermsInOrder",field:e,value:t}),containsAnyTerm:t=>({type:"containsAnyTerm",field:e,value:t}),containsAllTerms:t=>({type:"containsAllTerms",field:e,value:t})}),i7=oW(function(e,t){return Object.entries(e.objects[t].properties).reduce((e,[t])=>(e[t]=i8(t),oB(t)&&(e[`${t}_`]=e[t]),e),{})});function se(e,t){return Object.fromEntries(Object.entries(e.objects[t].properties).map(([e,t])=>[e,{apiName:e,description:t.description??""}]))}var st=oW(function(e,t){return Object.entries(e.objects[t].properties).reduce((e,[t,r])=>("numericTimeseries"===r.type||"stringTimeseries"===r.type||(e[t]=function(e,t){if(t.multiplicity)return iZ(e);switch(t.type){case"string":case"marking":return i9(e);case"boolean":return iH(e);case"datetime":return iK(e);case"double":case"integer":case"short":case"long":case"float":case"decimal":case"byte":return i2(e);case"timestamp":return iY(e);case"attachment":return iJ(e);case"geopoint":return iX(e);case"geoshape":return i1(e);case"numericTimeseries":case"stringTimeseries":throw Error(`Invalid property for filtering ${t.type}`);default:throw t.type,Error(`Unknown property type ${t.type}`)}}(t,r),oB(t)&&(e[`${t}_`]=e[t])),e),{})});function sr(e,t,r){return{definition:r,union:(...n)=>sr(e,t,{type:"union",objectSets:[r,...n.map(e=>e.definition)]}),intersect:(...n)=>sr(e,t,{type:"intersect",objectSets:[r,...n.map(e=>e.definition)]}),subtract:(...n)=>sr(e,t,{type:"subtract",objectSets:[r,...n.map(e=>e.definition)]}),where(n){let o=n(st(e.ontology,t));return sr(e,t,{type:"filter",objectSet:r,where:o})},select:n=>im(e,t,r,n),pivotTo(n){let o=e.ontology.objects[t];return sr(e,o.links[n].targetType,{type:"searchAround",objectSet:r,link:n})},...function(e,t,r){let n={};for(let[o,{targetType:a}]of Object.entries(e.ontology.objects[t].links))n[`searchAround${o.charAt(0).toUpperCase()+o.substring(1)}`]=()=>sr(e,a,{type:"searchAround",objectSet:r,link:o});return n}(e,t,r),...function e(t,r,n,o=[]){return{orderBy(a){let i=a(i7(t.ontology,r));return function(t,r,n,o=[]){return{...e(t,r,n,o),...iq(t,r,n,[],o),select:e=>im(t,r,n,e,o)}}(t,r,n,[...o,i])}}}(e,t,r),...function e(t,r,n,o){let a=iW(t.ontology,r),i=iz(t.ontology,r),s=iB(t.ontology,r);return{aggregate(e){let r=e(s);return new ik(t,n,o,Object.keys(r).map(e=>{let t=r[e];if(iC(t))return{type:t.operation,name:e,metricValueType:iN.NUMERIC,namedAggregation:!1};if("MultipleAggregationsOperations"===t.type)return{type:t.operation,name:e,field:t.propertyApiName,metricValueType:t.metricValueType,namedAggregation:!1};throw Error(`Unknown aggregation type: ${t.type}`)}))},approximateDistinct(e){let r=e(a);return new ik(t,n,o,[{type:"approximateDistinct",name:"distinctCount",field:r.propertyApiName,metricValueType:r.metricValueType,namedAggregation:!0}])},exactDistinct(e){let r=e(a);return new ik(t,n,o,[{type:"exactDistinct",name:"exactDistinctCount",field:r.propertyApiName,metricValueType:r.metricValueType,namedAggregation:!0}])},groupBy(a){let s=a(i);return ip(s),e(t,r,n,[...o,s])},count:()=>new ik(t,n,o,[{type:"count",name:"count",metricValueType:iN.NUMERIC,namedAggregation:!0}]),min(e){let r=e(a);return new ik(t,n,o,[{type:"min",name:"min",field:r.propertyApiName,metricValueType:r.metricValueType,namedAggregation:!0}])},max(e){let r=e(a);return new ik(t,n,o,[{type:"max",name:"max",field:r.propertyApiName,metricValueType:r.metricValueType,namedAggregation:!0}])},avg(e){let r=e(a);return new ik(t,n,o,[{type:"avg",name:"avg",field:r.propertyApiName,metricValueType:r.metricValueType,namedAggregation:!0}])},sum(e){let r=e(a);return new ik(t,n,o,[{type:"sum",name:"sum",field:r.propertyApiName,metricValueType:r.metricValueType,namedAggregation:!0}])}}}(e,t,r,[]),...iq(e,t,r)}}function sn(e,t,r){return oJ(async()=>{let n=await eL(e6(e.stack,e.fetch),e.ontology.metadata.ontologyApiName,t,{parameters:r?Object.entries(r).reduce((e,[t,r])=>(e[t]=io(r),e),{}):{}});return{value:await so(e,e.ontology.queries[t].output,n.value)}},e=>(function(e,t,r){switch(t.errorName){case"ParameterObjectSetRidNotFound":return e.handleParameterObjectSetRidNotFound(t,r.parameterSetRid);case"PropertyBaseTypeNotSupported":return e.handlePropertyBaseTypeNotSupported(t,r.objectType,r.property,r.propertyBaseType);case"QueryTimeExceededLimit":return e.handleQueryTimeExceededLimit(t,r.functionRid,r.functionVersion);case"InvalidParameterValue":return e.handleInvalidParameterValue(t,r.parameterId);case"QueryNotFound":return e.handleQueryNotFound(t,r.queryId);case"ParameterObjectNotFound":return e.handleParameterObjectNotFound(t,r.objectType,r.primaryKey);case"QueryMemoryExceededLimit":return e.handleQueryMemoryExceededLimit(t,r.functionRid,r.functionVersion);case"QueryEncounteredUserFacingError":return e.handleQueryEncounteredUserFacingError(t,r.queryRid,r.queryVersion,r.message);case"ParameterTypeNotSupported":return e.handleParameterTypeNotSupported(t,r.parameterId,r.parameterBaseType);case"MissingParameter":return e.handleMissingParameter(t,r.parameters);case"PermissionDenied":return e.handlePermissionDenied(t);case"Unauthorized":return e.handleUnauthorized(t);case"UnknownError":return e.handleUnknownError(t);default:return t.errorName,e.handleUnknownError(t)}})(new o_,e,e.parameters))}async function so(e,t,r){if(null==r){if(t.nullable)return;throw Error("Got null response when nullable was not allowed")}if(t.multiplicity){let n={...t,multiplicity:!1};return await Promise.all(r.map(t=>so(e,n,t)))}switch(t.type){case"attachment":throw Error("Attachment type not supported in response");case"date":return aM.fromISOString(r);case"timestamp":return aD.fromISOString(r);case"string":case"boolean":case"double":case"float":case"integer":case"long":return r;default:switch(t.type){case"object":if("object"!=typeof r){let n=await ai(e,t.object,r,[]);if(o8(n))return n.value;throw n.error}return ao(e,r);case"set":if(!Array.isArray(r))throw Error(`Expected response in array format, but received ${typeof r}`);return new Set(await Promise.all(r.map(async r=>so(e,t.set,r))));case"struct":{if("object"!=typeof r)throw Error(`Expected object response, but received ${typeof r}`);let n=Object.entries(r);return(await Promise.all(n.map(async([r,n])=>{let o=t.struct[r];return[r,await so(e,o,n)]}))).reduce((e,[t,r])=>(e[t]=r,e),{})}case"twoDimensionalAggregation":return{groups:r.groups.map(e=>({key:sa(t.twoDimensionalAggregation,e.key),value:si(t.twoDimensionalAggregation.valueType,e.value)}))};case"threeDimensionalAggregation":return{groups:r.groups.map(e=>({key:sa(t.threeDimensionalAggregation,e.key),value:e.groups.map(e=>({key:sa(t.threeDimensionalAggregation.valueType,e.key),value:si(t.threeDimensionalAggregation.valueType.valueType,e.value)}))}))};case"objectSet":return sr(e,t.objectSet,{type:"reference",reference:r});case"union":throw Error("Union type is not supported in response");default:throw Error(`Cannot remap query response of type ${JSON.stringify(t)}`)}}}function sa(e,t){if("string"==typeof e.keyType)switch(e.keyType){case"string":case"boolean":return t;case"range":return function(e,t){switch(e.keySubtype){case"date":return{startValue:t.startValue?aM.fromISOString(t.startValue):void 0,endValue:t.endValue?aM.fromISOString(t.endValue):void 0};case"timestamp":return{startValue:t.startValue?aD.fromISOString(t.startValue):void 0,endValue:t.endValue?aD.fromISOString(t.endValue):void 0};case"double":case"integer":return{startValue:t.startValue,endValue:t.endValue};default:throw e.keySubtype,Error(`Cannot remapRangeType with unsupported type ${e.keySubtype}`)}}(e,t)}throw Error(`Unsupported queryBucketKeyType ${JSON.stringify(e)} in remapQueryBucketKey`)}function si(e,t){switch(e){case"date":return aM.fromISOString(t);case"double":return t;case"timestamp":return aD.fromISOString(t);default:throw Error(`Cannot remapQueryBucketValueType, ${e} is unsupported`)}}var ss=class{#r;constructor(e){this.#r=e}get objects(){return function(e){let t=new Proxy({},{get:(t,r,n)=>{if("string"==typeof r)return function(e,t){let r={type:"base",objectType:t};return{apiName:t,description:e.ontology.objects[t].description??"",properties:oW(se)(e.ontology,t),get:r=>ai(e,t,r),fetchOneWithErrors:r=>ai(e,t,r),fetchOne:r=>as(e,t,r),select:n=>im(e,t,r,n),...sr(e,t,r)}}(e,r)},ownKeys:t=>Object.keys(e.ontology.objects),getOwnPropertyDescriptor(r,n){if("string"==typeof n)return{enumerable:null!=e.ontology.objects[n],configurable:!0,value:t[n]}}});return t}(this.#r)}get actions(){return function(e){let t=new Proxy({},{get:(t,r,n)=>{if("string"==typeof r)return 0===Object.keys(e.ontology.actions[r].parameters).length?async function(t){return ia(e,r,void 0,t)}:async function(t,n){return ia(e,r,t,n)}},ownKeys:t=>Object.keys(e.ontology.actions),getOwnPropertyDescriptor(r,n){if("string"==typeof n)return{enumerable:null!=e.ontology.actions[n],configurable:!0,value:t[n]}}});return t}(this.#r)}get bulkActions(){return function(e){let t=new Proxy({},{get:(t,r,n)=>{if("string"==typeof r)return async function(t,n){return ii(e,r,t,n)}},ownKeys:t=>Object.keys(e.ontology.actions),getOwnPropertyDescriptor(r,n){if("string"==typeof n)return{enumerable:null!=e.ontology.actions[n],configurable:!0,value:t[n]}}});return t}(this.#r)}get batchActions(){return function(e){let t=new Proxy({},{get:(t,r,n)=>{if("string"==typeof r)return async function(t,n){return ii(e,r,t,n)}},ownKeys:t=>Object.keys(e.ontology.actions),getOwnPropertyDescriptor(r,n){if("string"==typeof n)return{enumerable:null!=e.ontology.actions[n],configurable:!0,value:t[n]}}});return t}(this.#r)}get queries(){return function(e){let t=new Proxy({},{get(t,r,n){let o=e.ontology.queries[r];if(o)return Object.keys(o.parameters).length>0?async function(t){return sn(e,r,t)}:async function(){return sn(e,r)}},ownKeys:t=>Object.keys(e.ontology.queries),getOwnPropertyDescriptor(r,n){if("string"==typeof n)return{enumerable:null!=e.ontology.queries[n],configurable:!0,value:t[n]}}});return t}(this.#r)}get attachments(){return ag(this.#r)}},su=class{#r;constructor(e,t){this.foundryClientOptions=e,this.#r=function(e,t,r,n,o=fetch){if(0===t.length)throw Error("baseUrl cannot be empty");return eK(e0(eQ(o)),async t=>{let o=await r();return t.set("Authorization",`Bearer ${o}`),t.set("Fetch-User-Agent",[t.get("Fetch-User-Agent"),e.metadata.userAgent,n].filter(e=>e&&e?.length>0).join(" ")),t}),{...function(e,t,r,n=fetch){if(0===e.length)throw Error("baseUrl cannot be empty");let o=eK(e0(eQ(n)),async e=>{let n=await t();return e.set("Authorization",`Bearer ${n}`),e.set("Fetch-User-Agent",[e.get("Fetch-User-Agent"),r].filter(e=>e&&e?.length>0).join(" ")),e});return{baseUrl:e,fetch:async(e,t)=>{try{return await o(e,t)}catch(t){let e=t instanceof eJ?new eJ(t.message,t.errorName,t.errorType,t.statusCode,t.errorInstanceId,t.parameters):Error("Captured stack trace for error: "+t.message);throw e.cause=t,e}},tokenProvider:t}}(t,async()=>await r(),[e.metadata.userAgent,n].filter(e=>e&&e?.length>0).join(" "),o),ontology:e,stack:t}}(t,e.url,async()=>(await e.auth.getToken()).accessToken,"osdk-legacy-client/2.5.1",e.fetchFunction)}get ontology(){return new ss(this.#r)}get auth(){return this.foundryClientOptions.auth}},sl=class{constructor(e){this.options=e,e.fetchFn||(e.fetchFn=globalThis.fetch),e.scopes||(e.scopes=["api:read-data","api:write-data"])}async getToken(){return this.token||await this.signInAsServiceUser(),this.token?.isExpired&&await this.refresh(),{accessToken:this.token?.accessToken}}async executeWithToken(e){return e(await this.getToken())}async runWithToken(e){await e(await this.getToken())}async signInAsServiceUser(){let e=await sI(this.options.clientId,this.options.clientSecret,this.options.url,this.options.fetchFn,this.options.multipassContextPath,this.options.scopes);return this.token=e,this.startRefreshTimeout(e),{session:{accessToken:this.token.accessToken,expiresIn:this.token.expiresIn}}}async signOut(){return this.clearRefreshTimeout(),this.token&&await sN(this.token.accessToken,this.options.clientId,this.options.clientSecret,this.options.url,this.options.fetchFn,this.options.multipassContextPath),this.token=void 0,{}}async refresh(){this.token=await sI(this.options.clientId,this.options.clientSecret,this.options.url,this.options.fetchFn,this.options.multipassContextPath,this.options.scopes),this.startRefreshTimeout(this.token)}startRefreshTimeout(e){this.clearRefreshTimeout(),this.refreshTimeout=setTimeout(async()=>{this.refresh()},1e3*e.expiresIn-6e4)}clearRefreshTimeout(){this.refreshTimeout&&(clearTimeout(this.refreshTimeout),this.refreshTimeout=void 0)}};function sc(e,t){return e.cause=t,e}var sd=class{constructor(e){this.checkTokenResponse(e),this.accessToken=e.access_token,this.tokenType=e.token_type,this.refreshToken=e.refresh_token,this.expiresAt=Date.now()+1e3*e.expires_in}get expiresIn(){return(this.expiresAt-Date.now())/1e3}get isExpired(){return Date.now()>=this.expiresAt}checkTokenResponse(e){if(null==e.access_token)throw Error("missing access_token");if(null==e.token_type)throw Error("missing token_type");if(null==e.expires_in)throw Error("missing expires_in")}};async function sm(e,t,r){let n=await e(t,{body:r.toString(),headers:{"Content-Type":"application/x-www-form-urlencoded"},method:"POST",cache:"no-cache"});if(!n.ok)throw Error(`Response was not ok: ${n.status} ${n.statusText}`);return n}async function sh(e){let t=new TextEncoder().encode(e);return{codeChallenge:btoa(String.fromCharCode(...new Uint8Array(await crypto.subtle.digest("SHA-256",t)))).replace(/\//g,"_").replace(/\+/g,"-").replace(/=/g,""),codeChallengeMethod:"S256"}}function sp(){return Array.from(crypto.getRandomValues(new Uint32Array(28)),e=>{let t="0"+e.toString(16);return t.substring(t.length-2)}).join("")}var sf="/multipass";function sy(e,t=sf){return sT(e,t,"/api/oauth2/token")}function sg(e,t=sf){return sT(e,t,"/api/oauth2/revoke_token")}function sT(e,t,r){return e=/^https?:\/\//i.test(e)?e3(e):`https://${e}`,new URL(`${t.replace(/\/$/,"")}/${r.replace(/^\//,"")}`,e).toString()}async function sI(e,t,r,n=globalThis.fetch,o,a){let i=new URLSearchParams;i.append("grant_type","client_credentials"),i.append("client_id",e),i.append("client_secret",t),i.append("scopes",["offline_access",...a||[]].join(" "));let s=sy(r,o);try{let e=await sm(n,s,i),t=await e.json();return new sd(t)}catch(e){throw sc(Error(`Failed to get token: ${e?e.toString():"Unknown error"}`),e)}}async function sN(e,t,r,n,o=globalThis.fetch,a){let i=new URLSearchParams;i.append("client_id",t),i.append("client_secret",r),i.append("token",e);let s=sg(n,a);try{await sm(o,s,i)}catch(e){throw sc(Error(`Failed to revoke token: ${e?e.toString():"Unknown error"}`),e)}}async function sb(e,t,r,n,o){let a=sp(),i=sp(),s=await sh(i),u=new URLSearchParams;return u.append("client_id",e),u.append("response_type","code"),u.append("state",a),u.append("redirect_uri",r),u.append("code_challenge",s.codeChallenge),u.append("code_challenge_method",s.codeChallengeMethod),u.append("scope",["offline_access",...o||[]].join(" ")),{url:function(e,t=sf){return sT(e,t,"/api/oauth2/authorize")}(t,n)+"?"+u.toString(),state:a,codeVerifier:i}}async function sS(e,t,r,n,o,a=globalThis.fetch,i){let s=new URLSearchParams(r.substring(r.indexOf("?"))),u=s.get("error");if(u)throw Error("Error received from server: "+u);let l=s.get("code");if(!l)throw Error("Code parameter missing in URL: "+r);let c=new URLSearchParams;c.append("client_id",e),c.append("grant_type","authorization_code"),c.append("code",l),c.append("redirect_uri",t),c.append("code_verifier",o);let d=sy(n,i);try{let e=await sm(a,`${d}?`+new URLSearchParams({state:o}),c),t=await e.json();return new sd(t)}catch(e){throw sc(Error(`Failed to get token: ${e?e.toString():"Unknown error"}`),e)}}async function sE(e,t,r,n=globalThis.fetch,o){let a=new URLSearchParams;a.append("client_id",t),a.append("grant_type","refresh_token"),a.append("refresh_token",e);let i=sy(r,o);try{let e=await sm(n,i,a),t=await e.json();return new sd(t)}catch(e){throw sc(Error(`Failed to refresh token: ${e?e.toString():"Unknown error"}`),e)}}async function sw(e,t,r,n=globalThis.fetch,o){let a=new URLSearchParams;a.append("client_id",t),a.append("token",e);let i=sg(r,o);try{await sm(n,i,a)}catch(e){throw sc(Error(`Failed to revoke token: ${e?e.toString():"Unknown error"}`),e)}}var sO=class{palantirRefreshToken="palantir_refresh_token";palantirPkce="palantir_pkce";nextSubscriberId=0;onSignInSubscribers={};onSignOutSubscribers={};onRefreshTokenSubscribers={};token=null;refreshTimeout=null;constructor(e){this.options=e,e.fetchFn||(e.fetchFn=globalThis.fetch),e.scopes||(e.scopes=["api:read-data","api:write-data"])}async getToken(){if(!this.token)throw Error("Not signed in");return{accessToken:this.token.accessToken}}async executeWithToken(e){return e({accessToken:(await this.getToken()).accessToken})}async runWithToken(e){let t=await this.getToken();await e({accessToken:t.accessToken})}async signIn(){let e=!0,t=localStorage.getItem(this.palantirRefreshToken);t&&await this.tryRefreshToken(t)&&(e=!1);let r=sessionStorage.getItem(this.palantirPkce);if(r&&e)try{let t=window.location.href;this.token=await sS(this.options.clientId,this.options.redirectUrl,t,this.options.url,r,this.options.fetchFn,this.options.multipassContextPath),null!=this.token.refreshToken&&localStorage.setItem(this.palantirRefreshToken,this.token.refreshToken),e=!1}catch(e){throw console.warn("Failed to get OAuth2 token using PKCE, removing PKCE",e),sessionStorage.removeItem(this.palantirPkce),e}if(e){let e=await sb(this.options.clientId,this.options.url,this.options.redirectUrl,this.options.multipassContextPath,this.options.scopes);sessionStorage.setItem(this.palantirPkce,e.codeVerifier),window.location.href=e.url,await new Promise((e,t)=>{setTimeout(()=>{t(Error("Unable to redirect to authorization page"))},1e3)})}if(!this.token)throw Error("Error signing in");for(let e of(this.startRefreshTimeout(this.token),Object.values(this.onSignInSubscribers)))e();return{session:{accessToken:this.token.accessToken,expiresIn:this.token.expiresIn}}}async signOut(){if(!this.token)throw Error("Not signed in");for(let e of(await sw(this.token.accessToken,this.options.clientId,this.options.url,this.options.fetchFn,this.options.multipassContextPath),Object.values(this.onSignOutSubscribers)))e();return this.clearRefreshTimeout(),sessionStorage.removeItem(this.palantirPkce),localStorage.removeItem(this.palantirRefreshToken),this.token=null,{}}async refresh(){let e=localStorage.getItem(this.palantirRefreshToken);if(!e)throw Error("No refresh token found");if(!await this.tryRefreshToken(e))throw Error("Could not refresh token");if(!this.token)throw Error("Expected token to be present");for(let e of(this.startRefreshTimeout(this.token),Object.values(this.onRefreshTokenSubscribers)))e();return{session:{accessToken:this.token.accessToken,expiresIn:this.token.expiresIn}}}subscribe(e){let t=this.nextSubscriberId++;return e.onSignIn&&(this.onSignInSubscribers[t]=e.onSignIn),e.onSignOut&&(this.onSignOutSubscribers[t]=e.onSignOut),e.onRefreshToken&&(this.onRefreshTokenSubscribers[t]=e.onRefreshToken),()=>{delete this.onSignInSubscribers[t],delete this.onSignOutSubscribers[t],delete this.onRefreshTokenSubscribers[t]}}startRefreshTimeout(e){this.clearRefreshTimeout(),this.refreshTimeout=setTimeout(async()=>{await this.refresh()},1e3*e.expiresIn-6e4)}clearRefreshTimeout(){this.refreshTimeout&&(clearTimeout(this.refreshTimeout),this.refreshTimeout=null)}async tryRefreshToken(e){try{return this.token=await sE(e,this.options.clientId,this.options.url,this.options.fetchFn,this.options.multipassContextPath),null!=this.token.refreshToken&&localStorage.setItem(this.palantirRefreshToken,this.token.refreshToken),!0}catch(e){return console.warn("Failed to get OAuth2 refresh token. Removing refresh token",e),localStorage.removeItem(this.palantirRefreshToken),!1}}},sv=class{constructor(e){this.options=e}async getToken(){return{accessToken:"function"==typeof this.options.userToken?await this.options.userToken():this.options.userToken}}async executeWithToken(e){return e(await this.getToken())}async runWithToken(e){await e(await this.getToken())}}}};